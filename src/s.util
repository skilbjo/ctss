



 CYLOD   BCD 02/09/69 0420.5    1289         00000    




 CYLOD   BCD 04/05/68 0110.0    1275         00000    
1      M1416-4882  J. PODOLSKY   65K 7094 CTSS CYLINDER LOADER CARD                              PAGE 1     
                  
                                     PCC     ON 
                                     COUNT   40 
                                     LBL     CYLOD000,L     
                                     ACORE                 LOAD CARD INTO CORE 'A'  
                                     ABS                   FULL ROW-BINARY ASSEMBLY 
                                     FUL                   ..     
                  
                                             PARAMETERS VARIABLE AT ASSEMBLY TIME   
                  
                       00000  A      SET     0             ACCESS ARM OF MODULE 'M' FOR LOADER  
                       00000  M      SET     0             MODULE HOUSING CTSS LOADER     
                       00007  N      SET     7             NUMBER OF WORDS IN 'LABEL'     
                      006767  R      BOOL    6767          HOME ADDRESS 2 FOR CTSS  
                       00000  T      SET     0             CYLINDER ORIGIN FOR CTSS LOADER
                      003000  U      BOOL    3000          FILE CONTROL IS ON CHANNEL 'C' 
                       00100  BOTTOM EQU     64            ORIGIN OF CYLINDER LOADER PROGRAM    
                  
                                             MACRO DEFINITIONS TO OPERATE PARAMETERS
                  
                              DEFINE MACRO   X,Y           DEFINE 'X' TO HAVE VALUE 'Y'   
                              X      SET     Y  
                              DEFINE END  
                              DIGITS MACRO   X,Y           CONVERT 'X' TO ('Y') DIGITS    
                              Z      SET     X  
                                     IRP     Y  
                                     DEFINE  'X''Y',Z-Z/10*10     
                              Z      SET     Z/10     
                                     IRP  
                              DIGITS END  
                              DSKBCD MACRO   X             CONVERT DIGITS IN LIST X TO DISK BCD 
                                     IRP     X  
                              X      SET     X+10-10*X/X    
                                     IRP  
                              DSKBCD END  
                  
      00000                          DIGITS  T,(4,3,2,1)        CONVERT 'T' TO FOUR DECIMAL DIGITS    
      00000                          DSKBCD  (A,M,T1,T2,T3,T4)  GET DISK-BCD VALUES FOR ADDRESSES     
      00000                          DEFINE  ULOC,32+U/256      INTERRUPT FLAG CELL FOR CHANNEL 'U'   
1      M1416-4882  J. PODOLSKY   65K 7094 CTSS CYLINDER LOADER CARD                              PAGE 2     
                           SUPER-PROGRAM FOR ONE-CARD CYLINDER LOADER               
                  
                                     TTL     SUPER-PROGRAM FOR ONE-CARD CYLINDER LOADER   
                  
                  
                       00000         ORG     0             LOAD ORIGIN FOR CARD     
                  
  BINARY CARD NO. CYLOD000    
      00000  3 77777 0 00100         IORT    BOTTOM,,-1    READ IN REST OF CARD     
      00001  0060 00 0 00001         TCOA    *             WAIT FOR READER DISCONNECT     
      00002  0074 00 4 00100  START  TSX     ENTER,4       ENTER PROGRAM WITH 77776 IN I.R.4    
                  
                  
                       00100         LOC     BOTTOM        ..     
                  
      00100  0760 00 0 03350  ENTER  RICU                  RESET CHANNEL AND FILE CONTROL 
      00101  0541 00 0 00120         RSCU    READ          START CHANNEL I/O PROGRAM
      00102  0062 00 0 00102         TCOU    *             AND WAIT FOR I/O COMPLETION    
      00103 -0761 00 0 00042         SEB                   SET DATA CONTROL FOR CORE 'B'  
      00104 -0500 00 0 00000         CAL     0             CHECK-SUM LOCATIONS 0 THRU 77776     
      00105  0361 00 4 77777         ACL     32767,4       ..     
      00106  2 00001 4 00105         TIX     *-1,4,1       WHEN FINISHED,     
      00107 -0761 00 0 00041         SEA                   RETURN ECC TO CORE 'A'   
      00110  0322 00 0 00131         ERA     CHKSUM        COMPARE WITH CHECKSUM READ     
      00111 -0501 00 0 00046         ORA     ULOC          COMPOSE WITH INTERRUPT FLAG CELL     
      00112  0100 00 0 00132         TZE     EXIT          WAS THERE A READ OR CHECKSUM ERROR.  
      00113  0000 00 0 00002         HTR     START         YES, HALT FOR OPERATOR ATTENTION.    
                  
      00114  101212121212     SEEK   VFD     O12/1012,6/A,6/M,6/T1,6/T2 
      00115  121212121212            VFD     6/T3,6/T4,O24/12121212     
      00116  100512121212     CYLOP  VFD     O12/1005,6/A,6/M,6/T1,6/T2 
      00117  121267671212            VFD     6/T3,6/T4,12/R,O12/1212    
                  
      00120 -30 0000 0 00004  READ   SMS     4             INHIBIT ATTENTION SIGNAL INTERRUPTS  
      00121  20 0000 0 00114         CTL     SEEK          ISSUE SEEK FOR LOADER CYLINDER 
      00122 -10 0000 2 00122         TCM     *,,0          IF CORRECT ATTENTION IS RECEIVED,    
      00123  20 0000 2 00116         CTLR    CYLOP         ISSUE CYLINDER OPERATION ORDER 
      00124 -0 00007 0 00125         CPYP    *+1,,N        READ IN REST OF CHANNEL PROGRAM
      00125                          BSS     1             CPYD 0,1,32767 READ LOADER INTO CORE B     
      00126                          BSS     1             XMT  ULOC,0,1  CLEAR INTERRUPT FLAG CELL   
      00127                          BSS     1             PZE  0,0,0     TO INSURE NO MISTAKES 
      00130                          BSS     1             WTR  0         DISCONNECT CHANNEL    
      00131                   CHKSUM BSS     1             PZE  **        CORE B CHECKSUM 
      00132                   EXIT   BSS     1             SEB            HERE ON SUCCESSFUL READ     
      00133                          BSS     1             TIB  **        SET ECC/ICC TO CORE B 
                  
                                     END  
1      M1416-4882  J. PODOLSKY   65K 7094 CTSS CYLINDER LOADER CARD                              PAGE 1     
                        POST PROCESSOR ASSEMBLY DATA  
                  
         37 IS THE FIRST LOCATION NOT USED BY THIS PROGRAM  
                  
0REFERENCES TO DEFINED SYMBOLS      
         12      A     0,  114,  116
         12      M     0,  114,  116
          7      N     0,  124
       6767      R     0,  117
          0      T     0
       3000      U     0,  100,  101,  102
          0      Z     0
         12     T1     0,  114,  116
         12     T2     0,  114,  116
         12     T3     0,  115,  117
         12     T4     0,  115,  117
        132   EXIT   112
        120   READ   101
        114   SEEK   121
         46   ULOC     0,  111
        116  CYLOP   123
        100  ENTER     2
          2  START   113
        100 BOTTOM     0,  100
        131 CHKSUM   110
                  
0 NO ERROR IN ABOVE ASSEMBLY. 




DDSETP   BCD 02/09/69 0420.5   14881         00000    




DSETUP   BCD 11/29/67 0005.1   14867         00000    
1       W.J. PODUSKA, R.C. DALEY ... DISK/DRUM SETUP ROUTINE FOR FILE SYSTEM                     PAGE 1     
                  
                  
                  
                  
      00000  332431453163     .DINIT
      00001  254521224325     ENABLE
      00002  336225632551     .SETER
      00003  516324314547     RTDINP
      00004  256731636060     EXIT  
      00005  475131456360     PRINT 
      00006  336651264463     .WRFMT
      00007  332466512342     .DWRCK
      00010  332466213163     .DWAIT
      00011  336651302146     .WRHAO
      00012  336445472142     .UNPAK
      00013  516322314547     RTBINP
      00014  336651237043     .WRCYL
      00015  332466513163     .DWRIT
      00016  666324466463     WTDOUT
      00017  335124302146     .RDHAO
                  
                       00663  RECN   EQU     435           PHYSICAL RECORD SIZE     
                       00660  DREC   SYN     RECN-3        NO. OF DATA WORD PER RECORD    
                       00037  DUM1   EQU     31            SIZE OF FIRST DUMMY RECORD     
                       00016  DUM2   EQU     14            SIZE OF SECOND DUMMY RECORD    
                       00020  DUM3   EQU     16            SIZE OF THIRD DUMMY RECORD     
                       00001  DUML   EQU     1             SIZE OF LAST DUMMY RECORD
                       00007  M      EQU     7             NO. OF FIRST LOGICAL DRUM
                  
             2 00001 1 60000  IOP    OPSYN   PTW           SPECIFIES I/O LIST FOR ADAPTER 
             0 00001 1 60000  IOD    OPSYN   PZE           SPECIFIES END OF I/O LIST
             3 00001 1 60000  PAR    OPSYN   PTH           USED TO SPECIFY PARAMETER TO .PACK, .UNPAK 
                  
                                             .......... INITIALIZATION SECTION .......................
                  
      00020  0000 00 0 00021         HTR     *+1
      00021  0074 00 4 00000         TSX     $.DINIT,4     INITIALIZE DISK/DRUM I/O PACKAGE     
      00022  0 00000 0 00001                 $ENABLE       ..     
      00023  0074 00 4 00002         TSX     $.SETER,4     SET UP I/O ERROR RETURN  
      00024  0 00000 0 07424                 ERROR         ..     
                  
      00025  0774 00 4 00663         AXT     RECN,4        SET UP ZERO BUFFER 
      00026  0600 00 4 10324         STZ     ZEROES+RECN,4 ..     
      00027  2 00001 4 00026         TIX     *-1,4,1       ..     
1       W.J. PODUSKA, R.C. DALEY ... DISK/DRUM SETUP ROUTINE FOR FILE SYSTEM                     PAGE 2     
                  
                  
                                             .......... READ CONTROL CARD AND DISPATCH SECTION .......
                  
      00030  0760 00 0 00161  READ   SWT     1  
      00031  0020 00 0 00033         TRA     *+2
      00032  0020 00 0 07066         TRA     CARDRD        READ ONLINE CARDS IF SW1 DOWN. 
      00033  0074 00 4 00003         TSX     $RTDINP,4     READ FIRST OR NEXT BCD CARD FROM     
      00034  0 00016 0 17601                 CARD,,14      .. MONITOR INPUT TAPE    
      00035  0 00000 0 00004                 $EXIT         .. EXIT ON EOF RETURN    
      00036  0074 00 4 00005  PCC    TSX     $PRINT,4      PRINT CARD ON LINE 
      00037  0 00014 0 17601                 CARD,,12      ..     
                  
      00040  0074 00 4 07013         TSX     FIRST,4       GET FIRST FIELD FROM THIS CARD 
      00041  0 00000 0 00050                 ILLEGL        .. ILLEGAL CARD IF FIELD VOID  
      00042 -0130 00 0 00000         XCL                   PICK UP LEFT ADJUSTED VERSION  
                  
      00043  0774 00 1 00030  SEARCH AXT     TABN,1        SEARCH TABLE FOR CONTROL WORD. 
      00044 -0340 00 1 00111         LAS     TABL+TABN,1   COMPARE.     
      00045  0020 00 0 00047         TRA     *+2           NOT THIS ONE.
      00046  0020 60 1 00112         TRA*    TABL+TABN+1,1 FOUND, EXIT. 
      00047  2 00002 1 00044         TIX     *-3,1,2       INDEX AND TRY AGAIN.     
                  
      00050  0074 00 4 00005  ILLEGL TSX     $PRINT,4      HERE WHEN ILLEGAL CONTROL CARD FOUND 
      00051  0 00006 0 00053                 BDCARD,,6     .. PRINT ERROR COMMENT ON LINE 
      00052  0000 00 0 00030         HTR     READ          WAIT BEFORE WE CONTINUE  
                  
      00053  605125506425     BDCARD BCI     6, REQUEST CARD HAS IMPROPER FORMAT.   
                  
                       00061  TABL   SYN     *             CONTROL WORD DISPATCH TABLE    
      00061  546060606060            BCI     1,*           REMARK ENTRY.
      00062  0 00000 0 00030                 READ          ..     
      00063  626346476060            BCI     1,STOP        STOP ENTRY.  
      00064  0 00000 0 00111                 STOP          ..     
      00065  506431636060            BCI     1,QUIT        TERMINATION ENTRY  
      00066  0 00000 0 00004                 $EXIT         ..     
      00067  246242264463            BCI     1,DSKFMT      DISK FORMAT ENTRY. 
      00070  0 00000 0 00114                 DSKFMT        ..     
      00071  245144264463            BCI     1,DRMFMT      DRUM FORMAT ENTRY. 
      00072  0 00000 0 02120                 DRMFMT        ..     
      00073  246242233042            BCI     1,DSKCHK      DISK SURFACE ANALYSIS    
      00074  0 00000 0 03073                 DSKCHK        ..     
      00075  245144233042            BCI     1,DRMCHK      DRUM SURFACE ANALYSIS    
      00076  0 00000 0 03075                 DRMCHK        ..     
      00077  246242512523            BCI     1,DSKREC      DISK RECORD ADDRESS ENTRY.     
      00100  0 00000 0 03172                 DSKREC        ..     
      00101  245144512523            BCI     1,DRMREC      DRUM RECORD ADDRESS ENTRY.     
      00102  0 00000 0 03174                 DRMREC        ..     
      00103  434621242551            BCI     1,LOADER      CTSS LOADER ENTRY  
      00104  0 00000 0 03274                 LOADER        ..     
      00105  622563442624            BCI     1,SETMFD      M.F.D. SETUP ENTRY.
      00106  0 00000 0 03455                 SETMFD        ..     
      00107  246444476060            BCI     1,DUMP        DUMP TRACK CONTENTS
      00110  0 00000 0 04764                 DUMP          ..     
                       00030  TABN   EQU     *-TABL        TABLE LENGTH.
1       W.J. PODUSKA, R.C. DALEY ... DISK/DRUM SETUP ROUTINE FOR FILE SYSTEM                     PAGE 3     
                  
                  
                                             STOP ..... STOP AND WAIT FOR SOME OPERATOR ACTION .....  
                  
      00111  0766 00 0 01361  STOP   WPRA                  SPACE UP PAGE ON LINE    
      00112  0760 00 0 01362         SPRA    2             ..     
      00113  0000 00 0 00030         HTR     READ          AND WAIT     
                  
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  
                  
                                             DSKFMT ... WRITE FORMAT TRACKS ON 1302 DISK .............
                  
      00114  0074 00 4 07020  DSKFMT TSX     NEXT,4        GET NEXT ARGUMENT. 
      00115  0 00000 0 00050                 ILLEGL        .. ERROR IF THIS FIELD VOID    
      00116  0074 00 4 07361         TSX     INT,4         CONVERT TO BINARY, 
      00117  0767 00 0 00022         ALS     18            MOVE TO POSITION,  
      00120  0622 00 0 00157         STD     DSKLST        SET UP DISK MODULE NO.   
                  
      00121  0074 00 4 07020         TSX     NEXT,4        PICK UP CYLINDER NO. FROM CARD 
      00122  0 00000 0 00050                 ILLEGL        .. ERROR IF THIS FIELD VOID    
      00123  0074 00 4 07361         TSX     INT,4         CONVERT CYLINDER NO. TO BINARY 
      00124  0734 00 4 00000         PAX     0,4           CHECK FOR LEGAL CYLINDER NO.   
      00125 -3 00000 4 00050         TXL     ILLEGL,4,0    .. ERROR IF .E. 0  
      00126  3 00372 4 00050         TXH     ILLEGL,4,250  .. ERROR IF .G. 250
      00127  0131 00 0 00000         XCA                   CYLINDER NO. TO MQ 
      00130  0200 00 0 17644         MPY     =80           .. CONVERT TO RECORD ADDRESS   
      00131  0131 00 0 00000         XCA                   ..     
      00132  0402 00 0 17644         SUB     =80           ..     
      00133  0621 00 0 00157         STA     DSKLST        INTO MZE RECNO,,MODNO    
                  
      00134  0774 00 1 00001         AXT     1,1           SET COUNT TO '1' IN CASE COUNT NOT GIVEN   
      00135  0074 00 4 07020         TSX     NEXT,4        GET CYLINDER COUNT IF ANY
      00136  0 00000 0 00142                 DSKLP         .. SKIP IF COUNT NOT SPECIFIED 
      00137  0074 00 4 07361         TSX     INT,4         OTHERWISE CONVERT COUNT TO BINARY    
      00140  0734 00 1 00000         PAX     0,1           COUNT TO IR1 
      00141  3 00372 1 00050         TXH     ILLEGL,1,250  ERROR IF COUNT .G. 250   
                  
      00142  0074 00 4 00006  DSKLP  TSX     $.WRFMT,4     WRITE FORMAT ONCE. 
      00143  0 00000 0 00157                 DSKLST        ..     
      00144  0 00000 0 07425                 TRKER         ..     
      00145  0074 00 4 00006         TSX     $.WRFMT,4     WRITE FORMAT TWICE.
      00146  0 00000 0 00157                 DSKLST        ..     
      00147  0 00000 0 07425                 TRKER         ..     
      00150  0074 00 4 00007         TSX     $.DWRCK,4     NOW CHECK WRITING. 
      00151  0534 00 4 00157         LXA     DSKLST,4      INCREMENT RECORD BY 80   
      00152  1 00120 4 00153         TXI     *+1,4,80      .. FOR NEXT CYLINDER     
      00153  0634 00 4 00157         SXA     DSKLST,4      ..     
      00154  2 00001 1 00142         TIX     DSKLP,1,1     LOOP THROUGH CYLINDERS.  
                  
      00155  0074 00 4 00010         TSX     $.DWAIT,4     WAIT UNTIL LAST FORMAT IS CHECKED    
      00156  0020 00 0 00030         TRA     READ          AND GO PICK UP NEXT CONTROL CARD     
                  
      00157 -0 00000 0 00000  DSKLST MZE     **,,**        RECNO,,MODNO 
      00160  2 01736 0 00162         IOP     FMT1,,FMT1L   .. WRITE 1302 FORMAT     
      00161  0 00000 0 00000         IOD                   ..     
1       W.J. PODUSKA, R.C. DALEY ... DISK/DRUM SETUP ROUTINE FOR FILE SYSTEM                     PAGE 4     
                  
      00162  040404040404     FMT1   BCI     8,444444333333333333433333333333334111111111111122 
      00172  020202020202            BCI     8,222222222222211111111111112111111111111121111111 
                       00202         DUP     1,RECN   
      00202  010101010101            BCI     1,111111 
      01065  020202020202            BCI     8,222222222222222111111111111121111111111111211111 
                       01075         DUP     1,DUM1   
      01075  010101010101            BCI     1,111111 
      01134  010102020202            BCI     8,112222222222222221111111111111211111111111112111 
                       01144         DUP     1,DUM2   
      01144  010101010101            BCI     1,111111 
      01162  010101010202            BCI     8,111122222222222222211111111111112111111111111121 
                       01172         DUP     1,RECN   
      01172  010101010101            BCI     1,111111 
      02055  010101010101            BCI     9,111111222222222222222111111111111121111111111111211111 
                       02066         DUP     1,DUM3   
      02066  010101010101            BCI     1,111111 
      02106  010102020202            BCI     8,112222222222222221111111111111211111111111112111 
 F                     02116         DUP     1,DUML   
      02116  010101010101            BCI     1,111111 
      02117  010101010201            BCI     1,111121 
                       01736  FMT1L  SYN     *-FMT1   
                  
1       W.J. PODUSKA, R.C. DALEY ... DISK/DRUM SETUP ROUTINE FOR FILE SYSTEM                     PAGE 5     
                  
                  
                                             DRMFMT ... WRITE FORMAT TRACK ON 7320 DRUM ............. 
                  
      02120  0074 00 4 07020  DRMFMT TSX     NEXT,4        PICK UP DRUM MODULE NO. FROM CARD    
      02121  0 00000 0 00050                 ILLEGL        .. ERROR IF THIS FIELD IS VOID 
      02122  0074 00 4 07361         TSX     INT,4         CONVERT TO BINARY  
      02123  0767 00 0 00022         ALS     18            INTO DECREMENT     
      02124  0622 00 0 02133         STD     DRMLST        SET UP DRUM MODULE NO.   
                  
      02125  0074 00 4 00006         TSX     $.WRFMT,4     NOW WRITE FORMAT.  
      02126  0 00000 0 02133                 DRMLST        ..     
      02127  0 00000 0 07425                 TRKER         ..     
      02130  0074 00 4 00007         TSX     $.DWRCK,4     CHECK WRITING.     
                  
      02131  0074 00 4 00010         TSX     $.DWAIT,4     WAIT UNTIL FORMAT IS CHECKED   
      02132  0020 00 0 00030         TRA     READ          AND RETURN TO GET NEXT CONTROL CARD  
                  
      02133 -0 00000 0 00000  DRMLST MZE     0,,**         RECNO,,MODNO 
      02134  2 00735 0 02136         IOP     FMT2,,FMT2L   .. WRITE 7320 DRUM FORMAT
      02135  0 00000 0 00000         IOD                   ..     
                  
      02136  040404030303     FMT2   BCI     6,444333333333433333333334111111111122 
      02144  020202020202            BCI     6,222222222211111111112111111111121111 
                       02152         DUP     1,RECN   
      02152  010101010101            BCI     1,111111 
      03035  020202020202            BCI     6,222222222222111111111121111111111211 
                       03043         DUP     1,DUM3   
      03043  010101010101            BCI     1,111111 
      03063  010102020202            BCI     6,112222222222221111111111211111111112 
 F                     03071         DUP     1,DUML   
      03071  010101010101            BCI     1,111111 
      03072  010101010201            BCI     1,111121 
                       00735  FMT2L  SYN     *-FMT2   
                  
1       W.J. PODUSKA, R.C. DALEY ... DISK/DRUM SETUP ROUTINE FOR FILE SYSTEM                     PAGE 6     
                  
                  
                                             DSKCHK/DRMCHK ... TRACK SURFACE ANALYSIS ..............  
                  
      03073  0774 00 4 01653  DSKCHK AXT     DSKLEN,4      HERE TO CHECK 1302 DISK SURFACES     
      03074  0020 00 0 03076         TRA     COMCHK        ..     
                  
      03075  0774 00 4 00727  DRMCHK AXT     DRMLEN,4      HERE TO CHECK 7320 DRUM SURFACES     
                  
      03076 -0634 00 4 03170  COMCHK SXD     TCOPY,4       SET UP WORD COUNT FOR COPY COMMAND   
      03077 -0774 00 1 00000         AXC     0,1
      03100 -0500 00 0 17662         CAL     =O777777777777  SET UP TEST BUFFERS    
      03101  0560 00 0 17654         LDQ     =O252525252525  ..   
      03102  0441 00 0 17655         LDI     =O525252525252  ..   
      03103  0600 00 1 10324  CHKFIL STZ     TEST1,1       .. BUFFER OF BINARY '00' 
      03104  0602 00 1 12177         SLW     TEST2,1       .. BUFFER OF BINARY '11' 
      03105 -0600 00 1 14052         STQ     TEST3,1       .. BUFFER OF BINARY '01' 
      03106  0604 00 1 15725         STI     TEST4,1       .. BUFFER OF BINARY '10' 
      03107 -2 00001 4 03111         TNX     *+2,4,1       ..     
      03110  1 77777 1 03103         TXI     CHKFIL,1,-1   ..     
                  
      03111  0074 00 4 07020         TSX     NEXT,4        PICK UP MODULE NO. FROM CARD   
      03112  0 00000 0 00050                 ILLEGL        .. ERROR IF THIS FIELD VOID    
      03113  0074 00 4 07361         TSX     INT,4         CONVERT TO BINARY  
      03114  0767 00 0 00022         ALS     18            INTO DECREMENT     
      03115  0622 00 0 03167         STD     TSTREC        SET UP MODULE NO.  
                  
      03116  0074 00 4 07020         TSX     NEXT,4        PICK UP RECORD ADDRESS FROM CARD     
      03117  0 00000 0 00050                 ILLEGL        .. ERROR IF THIS FIELD VOID    
      03120  0074 00 4 07361         TSX     INT,4         CONVERT TO BINARY  
      03121  0771 00 0 00001         ARS     1             INSURE EVEN RECORD ADDRESS     
      03122  0767 00 0 00001         ALS     1             ..     
      03123  0621 00 0 03167         STA     TSTREC        ..     
                  
      03124  0774 00 1 00001         AXT     1,1           SET UP IN CASE COUNT MISSING   
      03125  0074 00 4 07020         TSX     NEXT,4        PICK UP COUNT IF SPECIFIED     
      03126  0 00000 0 03131                 SURTST        .. SKIP IF NO COUNT SPECIFIED  
      03127  0074 00 4 07361         TSX     INT,4         CONVERT COUNT TO BINARY  
      03130  0734 00 1 00000         PAX     0,1           .. INTO IR1  
                  
      03131  0774 00 4 10324  SURTST AXT     TEST1,4       FIRST TEST WITH BINARY '00'    
      03132  0634 00 4 03170         SXA     TCOPY,4       ..     
      03133  0074 00 4 00011         TSX     $.WRHAO,4     ..     
      03134  0 00000 0 03167                 TSTREC        ..     
      03135  0 00000 0 07425                 TRKER         ..     
      03136  0074 00 4 00007         TSX     $.DWRCK,4     .. WRITE-CHECK     
                  
      03137  0774 00 4 12177         AXT     TEST2,4       SECOND TEST WITH BINARY '11'   
      03140  0634 00 4 03170         SXA     TCOPY,4       ..     
      03141  0074 00 4 00011         TSX     $.WRHAO,4     ..     
      03142  0 00000 0 03167                 TSTREC        ..     
      03143  0 00000 0 07425                 TRKER         ..     
      03144  0074 00 4 00007         TSX     $.DWRCK,4     .. WRITE-CHECK     
1       W.J. PODUSKA, R.C. DALEY ... DISK/DRUM SETUP ROUTINE FOR FILE SYSTEM                     PAGE 7     
                  
      03145  0774 00 4 14052         AXT     TEST3,4       THIRD TEST WITH BINARY '01'    
      03146  0634 00 4 03170         SXA     TCOPY,4       ..     
      03147  0074 00 4 00011         TSX     $.WRHAO,4     ..     
      03150  0 00000 0 03167                 TSTREC        ..     
      03151  0 00000 0 07425                 TRKER         ..     
      03152  0074 00 4 00007         TSX     $.DWRCK,4     .. WRITE-CHECK     
                  
      03153  0774 00 4 15725         AXT     TEST4,4       FOURTH TEST WITH BINARY '10'   
      03154  0634 00 4 03170         SXA     TCOPY,4       ..     
      03155  0074 00 4 00011         TSX     $.WRHAO,4     ..     
      03156  0 00000 0 03167                 TSTREC        ..     
      03157  0 00000 0 07425                 TRKER         ..     
      03160  0074 00 4 00007         TSX     $.DWRCK,4     .. WRITE-CHECK     
                  
      03161 -0500 00 0 03167         CAL     TSTREC        BUMP RECORD ADDRESS
      03162  0400 00 0 17636         ADD     =2            ..     
      03163  0621 00 0 03167         STA     TSTREC        ..     
      03164  2 00001 1 03131         TIX     SURTST,1,1    COUNT TRACKS 
                  
      03165  0074 00 4 00010         TSX     $.DWAIT,4     WAIT UNTIL LAST TRACK IS CHECKED     
      03166  0020 00 0 00030         TRA     READ          AND PICK UP NEXT CONTROL CARD  
                  
      03167 -0 00000 0 00000  TSTREC MZE     **,,**        WRITE AND WRITE-CHECK RECORD ADDRESS 
      03170  2 00000 0 00000  TCOPY  IOP     **,,**        .. COPY COMMAND    
      03171  0 00000 0 00000         IOD                   ..     
                  
                       01653  DSKLEN EQU     1+1+RECN+1+DUM1+1+DUM2+1+RECN+1+DUM3+1+DUML  
                       00727  DRMLEN EQU     1+1+RECN+1+DUM1+1+DUML     
                       01653  MAXLEN SYN     DSKLEN        SIZE OF LARGEST POSSIBLE TRACK 
                  
1       W.J. PODUSKA, R.C. DALEY ... DISK/DRUM SETUP ROUTINE FOR FILE SYSTEM                     PAGE 8     
                  
                  
                                             DSKREC/DRMREC ... SET UP HOME AND RECORD ADDRESSES ......
                  
      03172  0774 00 1 03251  DSKREC AXT     R1LST,1       DISK ENTRY, GET POINTER, 
      03173  0020 00 0 03175         TRA     COMREC        AND GO TO COMMON SECTION.
                  
      03174  0774 00 1 03262  DRMREC AXT     R2LST,1       DRUM ENTRY, GET POINTER, 
                  
      03175  0634 00 1 03236  COMREC SXA     RECPNT,1      SET UP ADDRESS OF RECORD POINTER     
      03176  0634 00 1 03226         SXA     DDRECP,1      ..     
      03177  0074 00 4 07020         TSX     NEXT,4        PICK UP DISK OR DRUM MODULE NO. FROM CARD  
      03200  0 00000 0 00050                 ILLEGL        .. ERROR IF THIS FIELD VOID    
      03201  0074 00 4 07361         TSX     INT,4         CONVERT MODULE NO. TO BINARY   
      03202  0767 00 0 00022         ALS     18            INTO DECREMENT     
      03203  0622 60 0 03236         STD*    RECPNT        SET UP DISK OR DRUM MODULE NO. 
                  
      03204  0074 00 4 07020         TSX     NEXT,4        PICK UP RECORD ADDRESS FROM CARD     
      03205  0 00000 0 00050                 ILLEGL        .. ERROR IF THIS FIELD VOID    
      03206  0074 00 4 07361         TSX     INT,4         CONVERT RECORD ADDRESS TO BINARY     
      03207  0771 00 0 00001         ARS     1             MAKE SURE RECORD ADDRESS IS EVEN     
      03210  0767 00 0 00001         ALS     1             ..     
      03211  0621 60 0 03236         STA*    RECPNT        SET UP STARTING RECORD ADDRESS 
                  
      03212  0774 00 1 00001         AXT     1,1           SET UP IN CASE COUNT MISSING   
      03213  0600 00 0 03273         STZ     CHECK         AND SET SWITCH FOR NO WRITE CHECKING 
      03214  0074 00 4 07020         TSX     NEXT,4        PICK UP COUNT IF SPECIFIED     
      03215  0 00000 0 03225                 R1LP          .. SKIP IF NO COUNT SPECIFIED  
      03216  0074 00 4 07361         TSX     INT,4         CONVERT COUNT TO BINARY  
      03217  0734 00 1 00000         PAX     0,1           COUNT TO IR1 
                  
      03220  0074 00 4 07020         TSX     NEXT,4        PICK UP WRITE CHECK OPTION IF SPECIFIED    
      03221  0 00000 0 03225                 R1LP          .. SKIP IF NOT SPECIFIED 
      03222  0322 00 0 17653         ERA     =H0CHECK      WAS WRITE CHECK OPTION SPECIFIED     
      03223 -0100 00 0 03225         TNZ     R1LP          NO, SKIP     
      03224 -0625 00 0 03273         STL     CHECK         YES, SET SWITCH FOR WRITE-CHECKING   
                  
      03225  0074 00 4 00012  R1LP   TSX     $.UNPAK,4     CONVERT RECORD ADDRESS TO
      03226  3 00000 0 00000  DDRECP PAR     **            .. UNPACKED FORMAT 
      03227 -0130 00 0 00000         XCL                   MTTTTR TO MQ 
      03230 -0773 00 0 00006         RQL     6             CHANGE TO TTTTRM   
      03231 -0130 00 0 00000         XCL                   BACK TO AC   
      03232  0602 00 0 03271         SLW     RA1           INSERT FIRST ADDRESS.    
      03233  0322 00 0 17647         ERA     =O1300        FORM SECOND RECORD ADDRESS.    
      03234  0602 00 0 03272         SLW     RA2           INSERT.
      03235  0074 00 4 00011         TSX     $.WRHAO,4     NOW WRITE OUT RECORD ADDRESSES.
      03236  0 00000 0 00000  RECPNT         **            .. POINTER TO RECORD ADDRESS AND COMMANDS  
      03237  0 00000 0 07425                 TRKER         ..     
      03240  0760 00 0 00166         SWT     6             WRITE CHECK IF SENSE SWITCH 6 IS DOWN
      03241  0520 00 0 03273         ZET     CHECK         .. OR IF SPECIFIED BY CONTROL CARD   
      03242  0074 00 4 00007         TSX     $.DWRCK,4     ..     
      03243  0074 00 4 00010         TSX     $.DWAIT,4     WAIT UNTIL ENTIRE OPERATION COMPLETE 
      03244 -0500 60 0 03236         CAL*    RECPNT        INCREMENT RECORD ADDRESS (WATCH SIGN BIT)  
      03245  0361 00 0 17636         ACL     =2            ..     
      03246  0621 60 0 03236         STA*    RECPNT        ..     
      03247  2 00001 1 03225         TIX     R1LP,1,1      LOOP THROUGH TRACKS.     
1       W.J. PODUSKA, R.C. DALEY ... DISK/DRUM SETUP ROUTINE FOR FILE SYSTEM                     PAGE 9     
                  
      03250  0020 00 0 00030         TRA     READ          GO PICK UP NEXT CONTROL CARD   
                  
      03251 -0 00000 0 00000  R1LST  MZE     **,,**        WRITE DISK RECORD ADDRESSES    
      03252  2 00001 0 17661         IOP     =HXXXXXX,,1   .. HA2 
      03253  2 00001 0 03271         IOP     RA1,,1        .. RECORD ADDRESS 1
      03254  2 00663 0 07441         IOP     ZEROES,,RECN  .. FIRST RECORD    
      03255  2 00057 0 07441         IOP     ZEROES,,DUM1+DUM2+2  .. 2 DUMMY RECORDS AND ADDRESSES    
      03256  2 00001 0 03272         IOP     RA2,,1        .. RECORD ADDRESS 2
      03257  2 00663 0 07441         IOP     ZEROES,,RECN  .. SECOND RECORD   
      03260  2 00023 0 07441         IOP     ZEROES,,DUM3+DUML+2  .. 2 DUMMY RECORDS AND ADDRESSES    
      03261  0 00000 0 00000         IOD                   ..     
                  
      03262 -0 00000 0 00000  R2LST  MZE     **,,**        WRITE DRUM RECORD ADDRESS
      03263  2 00001 0 17661         IOP     =HXXXXXX,,1   .. HA2 
      03264  2 00001 0 03271         IOP     RA1,,1        .. RECORD ADDRESS 1
      03265  2 00663 0 07441         IOP     ZEROES,,RECN  .. FIRST AND ONLY DATA RECORD  
      03266  2 00021 0 07441         IOP     ZEROES,,DUM3+1  .. DUMMY RECORD ADDRESS AND RECORD 
      03267  2 00002 0 07441         IOP     ZEROES,,DUML+1  .. DUMMY RECORD ADDRESS AND LAST RECORD  
      03270  0 00000 0 00000         IOD                   ..     
                  
      03271  0 00000 0 00000  RA1    PZE     -             RECORD ADDRESS 1.  
      03272  0 00000 0 00000  RA2    PZE     -             RECORD ADDRESS 2.  
      03273  0 00000 0 00000  CHECK  PZE     **            NON-ZERO FOR WRITE CHECKING    
                  
1       W.J. PODUSKA, R.C. DALEY ... DISK/DRUM SETUP ROUTINE FOR FILE SYSTEM                     PAGE 10    
                  
                  
                                             LOADER ... WRITE CTSS LOADER ON FIRST CYLINDER OF  
                                             .. FIRST DISK MODULE (DEFINED BY CONTROL CARD).    
                  
      03274  0074 00 4 07020  LOADER TSX     NEXT,4        PICK UP DISK MODULE NO. FROM CARD    
      03275  0 00000 0 00050                 ILLEGL        .. ERROR IF THIS FIELD VOID    
      03276  0074 00 4 07361         TSX     INT,4         CONVERT DISK MODULE NO. TO BINARY    
      03277  0767 00 0 00022         ALS     18            .. INTO DECREMENT  
      03300  0622 00 0 03375         STD     WRTSSL        MODULE NO. TO RECORD ADDRESS   
                  
      03301  0074 00 4 00005         TSX     $PRINT,4      PRINT 'SET SWITCHES FOR 65K MODE'    
      03302  0 00010 0 03413                 65K,,8        ..     
      03303  0766 00 0 01361         WPRA                  SPACE UP PAGE ON LINE    
      03304  0760 00 0 01362         SPRA    2             ..     
      03305  0000 00 0 03306         HTR     *+1           WAIT FOR OPERATOR  
                  
      03306  0774 00 4 77777         AXT     -1,4          CLEAR MEMORY 'B'   
      03307 -0761 00 0 00042         SEB                   ..     
      03310  0600 00 4 77777         STZ     -1,4          ..     
      03311  2 00001 4 03310         TIX     *-1,4,1       ..     
      03312 -0761 00 0 00041         SEA  
                  
      03313  0074 00 4 00013  LOAD1  TSX     $RTBINP,4     READ FIRST OR NEXT BINARY CARD FROM TAPE   
      03314  0 00034 0 17601                 CARD,,28      ..     
      03315  0 00000 0 03401                 ILLEOF        .. EOF ILLEGAL AT THIS TIME    
      03316 -0500 00 0 17601         CAL     CARD          GET CARD WORD COUNT
      03317 -0320 00 0 17652         ANA     =O77077777    ..     
      03320 -0734 00 4 00000         PDX     0,4           .. INTO IR4  
      03321 -3 00000 4 03353         TXL     LOAD4,4,0     TRANSFER CARD IF WORD COUNT ZERO     
      03322  0621 00 0 03330         STA     LOAD3         SET UP CARD LOADING ORIGIN     
      03323  0774 00 1 00000         AXT     0,1
      03324 -0500 00 0 17601         CAL     CARD          COMPUTE CHECKSUM   
      03325  0361 00 1 17603  LOAD2  ACL     CARD+2,1      .. AND LOAD CARD INTO MEMORY 'B'     
      03326  0560 00 1 17603         LDQ     CARD+2,1      ..     
      03327 -0761 00 0 00042         SEB                   ..     
      03330 -0600 00 1 00000  LOAD3  STQ     **,1          ..     
      03331 -0761 00 0 00041         SEA                   ..     
      03332 -2 00001 4 03334         TNX     *+2,4,1       ..     
      03333  1 77777 1 03325         TXI     LOAD2,1,-1    ..     
      03334  0322 00 0 17602         ERA     CARD+1        VERIFY CHECKSUM    
      03335  0100 00 0 03313         TZE     LOAD1         GET NEXT CARD IF CHECKSUM OK   
                  
      03336 -0500 00 0 17601         CAL     CARD          HERE FOR BAD CHECKSUM    
      03337 -0765 00 0 00017         LGR     15            LOADING ADDRESS TO MQ    
      03340  0774 00 4 00005         AXT     5,4
      03341 -0754 00 0 00000         ZAC                   CONVERT LOADING ADDRESS TO OCTAL IN BCD    
      03342  0767 00 0 00003         ALS     3             ..     
      03343 -0763 00 0 00003         LGL     3             ..     
      03344  2 00001 4 03342         TIX     *-2,4,1       ..     
      03345  0767 00 0 00006         ALS     6             LEAVE ROOM FOR COMMA AT END    
      03346 -0501 00 0 17643         ORA     =H00000,      .. ADD COMMA AT END
      03347  0602 00 0 03437         SLW     CHKBAD+4      LOADING ADDRESS TO ERROR COMMENT     
      03350  0074 00 4 00005         TSX     $PRINT,4      PRINT ERROR COMMENT (CHECKSUM ERROR) 
      03351  0 00010 0 03433                 CHKBAD,,8     ..     
      03352  0000 00 0 03313         HTR     LOAD1         WAIT FOR DECISION ON ERROR     
1       W.J. PODUSKA, R.C. DALEY ... DISK/DRUM SETUP ROUTINE FOR FILE SYSTEM                     PAGE 11    
                  
      03353  0774 00 4 77777  LOAD4  AXT     -1,4          HERE FOR TRANSFER CARD   
      03354 -0754 00 0 00000         ZAC                   COMPUTE CHECKSUM FOR MEMORY 'B' IMAGE
      03355 -0761 00 0 00042         SEB                   ..     
      03356  0361 00 4 77777         ACL     -1,4          ..     
      03357  2 00001 4 03356         TIX     *-1,4,1       ..     
      03360 -0761 00 0 00041         SEA  
      03361  0602 00 0 03410         SLW     CHKSUM        SAVE CHECKSUM
      03362 -0500 00 0 17601         CAL     CARD          PICK UP ABSOLUTE TRANSFER ADDRESS    
      03363  0621 00 0 03412         STA     LABLX         INSERT INTO LABEL TRANSFER WORD
      03364  0074 00 4 00014         TSX     $.WRCYL,4     WRITE OUT CORE IMAGE OF CTSS LOADER  
      03365  0 00000 0 03375                 WRTSSL        ..     
      03366  0 00000 0 07425                 TRKER         ..     
      03367  0074 00 4 00010         TSX     $.DWAIT,4     WAIT UNTIL WRITTEN 
                  
      03370  0074 00 4 00005         TSX     $PRINT,4      PRINT 'SET SWITCHES IN 32K MODE'     
      03371  0 00010 0 03423                 32K,,8        ..     
      03372  0766 00 0 01361         WPRA                  SPACE UP PAGE ON LINE    
      03373  0760 00 0 01362         SPRA    2             ..     
      03374  0000 00 0 00030         HTR     READ          READ NEXT CARD ON RESTART
                  
      03375 -0 00000 0 00000  WRTSSL MZE     0,,**         WRITE OUT CTSS LOADER CORE IMAGE     
      03376  2 00007 0 03404         IOP     LABEL,,7      .. STARTING ADDRESS
      03377  2 77777 1 00000         IOP     0,1,-1        .. MEMORY 'B' CORE IMAGE (0-77776)   
      03400  0 00000 0 00000         IOD                   ..     
                  
      03401  0074 00 4 00005  ILLEOF TSX     $PRINT,4      HERE ON EOF READING BINARY DECK
      03402  0 00011 0 03444                 BADEOF,,9     .. PRINT ERROR COMMENT   
      03403  0000 00 0 03313         HTR     LOAD1         READ NEXT BINARY CARD ON RESTART     
                  
      03404 -1 77777 1 00000  LABEL  CPYD    0,1,32767     'LABEL' FOR CYLINDER LOADER    
      03405  0 00001 2 00046         XMT     38,,1         CLEAR CHANNEL INTERRUPT CELL   
      03406  0 00000 0 00000         PZE     0,,0          ..     
      03407  0 00000 0 00000         WTR     0             DISCONNECT CHANNEL 
      03410  0 00000 0 00000  CHKSUM PZE     **            CORE 'B' CHECK SUM 
      03411 -0761 00 0 00042         SEB                   FOR EXIT TO CORE 'B' FROM CYLOD000   
      03412 -0101 00 0 00000  LABLX  TIB     **            ADDRESS DETERMINED BY TRANSFER CARD  
                  
      03413  606225636062     65K    BCI     8, SET SWITCHES IN '65K' MODE AND PRESS START.     
      03423  606225636062     32K    BCI     8, SET SWITCHES IN '32K' MODE AND PRESS START.     
      03433  602330252342     CHKBAD BCI     9, CHECKSUM ERROR IN CARD 00000, PRESS START TO IGNORE.  
      03444  603143432527     BADEOF BCI     9, ILLEGAL EOF IN BINARY DECK, PRESS START TO IGNORE.    
                  
1       W.J. PODUSKA, R.C. DALEY ... DISK/DRUM SETUP ROUTINE FOR FILE SYSTEM                     PAGE 12    
                  
                  
                                             SETMFD .... SET UP M.F.D. AND RECORD USAGE FILES ........
                  
      03455  0074 00 4 07020  SETMFD TSX     NEXT,4        GET NO. OF DRUM MODULES FROM CARD    
      03456  0 00000 0 00050                 ILLEGL        .. BLANK FIELD RETURN    
      03457  0074 00 4 07361         TSX     INT,4         CONVERT TO BINARY  
      03460  0734 00 4 00000         PAX     0,4           CHECK NO. OF DRUM MODULES
      03461 -3 00000 4 00050         TXL     ILLEGL,4,0    .. ILLEGAL IF NMODS .E. 0
      03462  3 00012 4 00050         TXH     ILLEGL,4,10   .. ILLEGAL IF NMODS .G. 10     
      03463  0131 00 0 00000         XCA                   COMPUTE NO. OF WORDS FOR 'DRUMUT(FILE)'    
      03464  0200 00 0 17646         MPY     =400          ..     
      03465  0221 00 0 17641         DVP     =36           ..     
      03466  0601 00 0 03632         STO     REMAIN        .. SAVE REMAINDER IF ANY 
      03467  0131 00 0 00000         XCA                   ..     
      03470  0520 00 0 03632         ZET     REMAIN        ..     
      03471  0400 00 0 17635         ADD     =1            .. ALWAYS ROUND 'UP'     
      03472  0621 00 0 03663         STA     DRMLC1        SET UP LCOUNT IN MFD ENTRY     
      03473  0767 00 0 00022         ALS     18            AND IN DECREMENT OF LAST RECORD LABEL
      03474  0622 00 0 03701         STD     DRMLC2        ..     
                  
      03475  0074 00 4 07020         TSX     NEXT,4        GET NO. OF DISK MODULES FROM CARD    
      03476  0 00000 0 00050                 ILLEGL        .. BLANK FIELD RETURN    
      03477  0074 00 4 07361         TSX     INT,4         CONVERT TO BINARY  
      03500  0602 00 0 03631         SLW     NMODS         SAVE NO. OF DISK MODULES 
      03501  0734 00 4 00000         PAX     0,4           CHECK NUMBER OF DISK MODULES   
      03502 -3 00000 4 00050         TXL     ILLEGL,4,0    .. ILLEGAL IF NMODS .E. 0
      03503  3 00012 4 00050         TXH     ILLEGL,4,10   .. ILLEGAL IF NMODS .G. 10     
      03504  0131 00 0 00000         XCA                   COMPUTE NO. OF WORDS FOR 'DISKUT(FILE)'    
      03505  0200 00 0 17650         MPY     =10000        ..     
      03506  0221 00 0 17641         DVP     =36           ..     
      03507  0601 00 0 03632         STO     REMAIN        .. SAVE REMAINDER IF ANY 
      03510  0131 00 0 00000         XCA                   ..     
      03511  0520 00 0 03632         ZET     REMAIN        ..     
      03512  0400 00 0 17635         ADD     =1            .. ALWAYS ROUND 'UP'     
      03513  0601 00 0 03633         STO     TWORDS        ..     
      03514  0560 00 0 03631         LDQ     NMODS         ..     
      03515  0200 00 0 17645         MPY     =250          ..     
      03516  0221 00 0 17641         DVP     =36           ..     
      03517  0601 00 0 03632         STO     REMAIN        .. SAVE REMAINDER IF ANY 
      03520  0131 00 0 00000         XCA                   ..     
      03521  0520 00 0 03632         ZET     REMAIN        ..     
      03522  0400 00 0 17635         ADD     =1            .. ALWAYS ROUND 'UP'     
      03523  0400 00 0 03633         ADD     TWORDS        ..     
      03524  0601 00 0 03633         STO     TWORDS        SAVE TOTAL NO. OF WORDS TO 'DISKUT(FILE)'  
                  
      03525  0131 00 0 00000         XCA                   COMPUTE NO. OF RECORDS IN 'DISKUT(FILE)'   
      03526 -0754 00 0 00000         ZAC                   ..     
      03527  0221 00 0 03635         DVP     RECSIZ        ..     
      03530  0601 00 0 03632         STO     REMAIN        ..     
      03531  0131 00 0 00000         XCA                   ..     
      03532  0520 00 0 03632         ZET     REMAIN        .. ALWAYS ROUND 'UP'     
      03533  0400 00 0 17635         ADD     =1            ..     
      03534  0621 00 0 03540         STA     NRECS         SET UP TO REMOVE THIS NO. OF RECORDS 
      03535  0767 00 0 00022         ALS     18            NORECS TO DECREMENT
      03536  0622 00 0 03672         STD     DSKNRC        SET UP NORECS IN MFD ENTRY     
1       W.J. PODUSKA, R.C. DALEY ... DISK/DRUM SETUP ROUTINE FOR FILE SYSTEM                     PAGE 13    
                  
      03537 -0500 00 0 03702         CAL     DRMUSD        REMOVE THESE RECORDS FROM SERVICE    
      03540  0771 00 0 00000  NRECS  ARS     **            ..     
      03541  0771 00 0 00002         ARS     2             .. REMOVE 2 MORE FOR M.F.D. AND DRUMUT     
      03542  0602 00 0 03702         SLW     DRMUSD        ..     
      03543 -0500 00 0 03632         CAL     REMAIN        SET UP NO. OF WORDS IN LAST TRACK OF DISKUT
      03544 -0100 00 0 03547         TNZ     *+3           ..     
      03545 -0500 00 0 03635         CAL     RECSIZ        .. SUBSTITUTE RECSIZ FOR '0'   
      03546  0602 00 0 03632         SLW     REMAIN        ..     
      03547  0621 00 0 03672         STA     DSKNRC        .. LCOUNT IS ADDRESS OF NORECS 
      03550 -0500 00 0 03540         CAL     NRECS         COMPUTE ADDRESS OF LAST TRACK OF DISKUT    
      03551 -0320 00 0 17651         ANA     =O77777       ..     
      03552  0361 00 0 03673         ACL     POINTR        ..     
      03553  0402 00 0 17635         SUB     =1            ..     
      03554 -0765 00 0 00022         LGR     18            ..     
      03555 -0620 00 0 03673         SLQ     POINTR        ..     
                  
      03556  0074 00 4 00015         TSX     $.DWRIT,4     WRITE OUT M.F.D. (FILE)  
      03557  0 00000 0 03636                 WRMFD         ..     
      03560  0 00000 0 07425                 TRKER         .. ILLEGAL TRACK RETURN  
                  
      03561  0534 00 4 03663         LXA     DRMLC1,4      COMPUTE WORD COUNT FOR DRUMUT (FILE) 
      03562  1 00003 4 03563         TXI     *+1,4,3       .. INCLUDE POINTER WORDS 
      03563 -0634 00 4 03675         SXD     DRMUTL,4      ..     
      03564  0074 00 4 00015         TSX     $.DWRIT,4     WRITE OUT DRUMUT (FILE)  
      03565  0 00000 0 03674                 WDRMUT        ..     
      03566  0 00000 0 07425                 TRKER         .. ILLEGAL TRACK RETURN  
                  
      03567  0534 00 1 03633         LXA     TWORDS,1      SET UP DISK USAGE TABLE  
      03570 -2 00660 1 03621  WRDSKU TNX     WRDKU2,1,DREC SKIP IF THIS WILL FIT ON LAST RECORD 
      03571 -0500 00 0 04072         CAL     DKUREC        OTHERWISE COMPUTE NEXT RECORD OF DISKUT    
      03572  0361 00 0 17636         ACL     =2            ..     
      03573  0602 00 0 03634         SLW     DKUNEX        ..     
      03574  0074 00 4 00012         TSX     $.UNPAK,4     CONVERT NEXT RECORD ADDRESS    
      03575  3 00000 0 03634         PAR     DKUNEX        ..     
      03576  0602 00 0 04077         SLW     TNEXT         SET UP CHAIN TO NEXT RECORD    
      03577  0074 00 4 00015         TSX     $.DWRIT,4     WRITE OUT THIS RECORD OF DISKUT
      03600  0 00000 0 04072                 DKUREC        ..     
      03601  0 00000 0 07425                 TRKER         ..     
      03602  0020 00 0 03603  WRDKU1 TRA     *+1           FIRST TIME THRU ONLY     
      03603  0534 00 4 04074         LXA     DKUCPY,4      BUMP STARTING ADDRESS TO START AT    
      03604  1 00003 4 03605         TXI     *+1,4,3       .. BUFFER OF ALL BITS    
      03605  0634 00 4 04074         SXA     DKUCPY,4      ..     
      03606 -0625 00 0 03602         STL     WRDKU1        CLOSE THIS PATH    
                  
      03607  0074 00 4 00010         TSX     $.DWAIT,4     WAIT UNTIL RECORD WRITTEN
      03610  0074 00 4 00012         TSX     $.UNPAK,4     SET NEXT RECORD TO POINT BACK  
      03611  3 00000 0 04072         PAR     DKUREC        .. TO THIS RECORD  
      03612  0602 00 0 04076         SLW     TLAST         ..     
      03613 -0500 00 0 04100         CAL     DSKLBL        SET UP NEXT RECORD LABEL 
      03614  0400 00 0 17635         ADD     =1            ..     
      03615  0602 00 0 04100         SLW     DSKLBL        ..     
      03616 -0500 00 0 03634         CAL     DKUNEX        SET NEXT RECORD TO BE CURRENT RECORD 
      03617  0602 00 0 04072         SLW     DKUREC        ..     
      03620  0020 00 0 03570         TRA     WRDSKU   
1       W.J. PODUSKA, R.C. DALEY ... DISK/DRUM SETUP ROUTINE FOR FILE SYSTEM                     PAGE 14    
                  
      03621  0600 00 0 04077  WRDKU2 STZ     TNEXT         HERE TO WRITE LAST RECORD
      03622 -0634 00 1 04100         SXD     DSKLBL,1      SET UP 'LCOUNT' IN LABEL OF LAST RECORD    
      03623 -0634 00 1 04074         SXD     DKUCPY,1      ..     
      03624  0074 00 4 00015         TSX     $.DWRIT,4     WRITE OUT LAST RECORD OF DISKUT
      03625  0 00000 0 04072                 DKUREC        ..     
      03626  0 00000 0 07425                 TRKER         ..     
      03627  0074 00 4 00010         TSX     $.DWAIT,4     WAIT UNTIL LAST RECORD WRITTEN 
                  
      03630  0020 00 0 00030         TRA     READ          END OF SETMFD, GET NEXT CONTROL CARD 
                  
      03631  0 00000 0 00000  NMODS  PZE     0  
      03632  0 00000 0 00000  REMAIN PZE     0  
      03633  0 00000 0 00000  TWORDS PZE     0  
      03634  0 00000 0 00000  DKUNEX PZE     0  
      03635  0 00000 0 00660  RECSIZ PZE     DREC          NO. OF DATA WORDS PER PHYSICAL RECORD
                  
                  
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  
                  
                                             .............. MASTER FILE DIRECTORY ..................  
                  
      03636 -0 00007 0 00000  WRMFD  MZE     0,0,M         TRACK ZERO OF DRUM.
      03637  2 00033 0 03641         IOP     MFDP,,MFDPCT  .. WRITE OUT MFD   
      03640  0 00000 0 00000         IOD                   ..     
                  
      03641  000000000000     MFDP   BCI     1,000000      NULL LAST.   
      03642  000000000000            BCI     1,000000      NULL NEXT.   
      03643  0 00030 0 00001         PZE     1,0,MFDCNT    FIRST TRACK. 
                  
      03644  0 00000 0 00000  MFD    PZE     0             THREE HEADER WORDS FOR DALEY.  
      03645  0 00000 0 00000         PZE     0             ..     
      03646  0 00000 0 00000         PZE     0             ..     
                  
      03647  443326332433     ENTRY1 BCI     1,M.F.D.      MFD ENTRY.   
      03650  742631432534            BCI     1,(FILE)      ..     
      03651  101103000000            VFD     9/65,4/2,5/3,18/0  DUMMY DATE-TIME.    
      03652  101103000000            VFD     9/65,4/2,5/3,18/0  DUMMY DATE-AUTHOR.  
      03653  210000100660            VFD     O18/210000,3/1,15/DREC  MODE-ILOCK-F-RCNT.   
      03654  0 00001 1 00030         PZE     MFDCNT,1,1    LCOUNT,P,NORECS.   
      03655  210560210560            VFD     18/M*10000+0,18/M*10000+0  LAST-FIRST  
                  
      03656  245164446463     ENTRY2 BCI     1,DRUMUT      DRUM USAGE TABLE ENTRY.  
      03657  742631432534            BCI     1,(FILE)      ..     
      03660  101103000000            VFD     9/65,4/2,5/3,18/0  DUMMY DATE-TIME.    
      03661  101103000000            VFD     9/65,4/2,5/3,18/0  DUMMY DATE-AUTHOR.  
      03662  210000100660            VFD     O18/210000,3/1,15/DREC  MODE-ILOCK-F-RCNT.   
      03663  0 00001 1 00000  DRMLC1 PZE     **,1,1        LCOUNT,P,NORECS    
      03664  210561210561            VFD     18/M*10000+1,18/M*10000+1  LAST-FIRST  
                  
      03665  243162426463     ENTRY3 BCI     1,DISKUT      DISK USAGE TABLE ENTRY.  
      03666  742631432534            BCI     1,(FILE)      ..     
      03667  101103000000            VFD     9/65,4/2,5/3,18/0  DUMMY DATE-TIME.    
      03670  101103000000            VFD     9/65,4/2,5/3,18/0  DUMMY DATE-AUTHOR.  
      03671  210000100660            VFD     O18/210000,3/1,15/DREC  MODE-ILOCK-F-RCNT.   
      03672  0 00000 1 00000  DSKNRC PZE     **,1,**       LCOUNT,P,NORECS    
      03673  000000210562     POINTR VFD     18/000000,18/M*10000+2  LAST-FIRST     
1       W.J. PODUSKA, R.C. DALEY ... DISK/DRUM SETUP ROUTINE FOR FILE SYSTEM                     PAGE 15    
                  
                       00030  MFDCNT SYN     *-MFD         LENGTH OF ACTIVE MFD.    
                       00033  MFDPCT SYN     *-MFDP        TOTAL LENGTH OF MFD TRACK
                  
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  
                  
                                             .......... DRUMUT (FILE), DRUM USAGE TABLE ............  
                  
      03674 -0 00007 0 00002  WDRMUT MZE     2,0,M         TRACK 2 OF DRUM.   
      03675  2 00000 0 03677  DRMUTL IOP     DRMUTP,,**    .. WRITE OUT DRUM USAGE TABLE  
      03676  0 00000 0 00000         IOD                   ..     
                  
      03677  000000000000     DRMUTP BCI     1,000000      NULL LAST.   
      03700  000000000000            BCI     1,000000      NULL NEXT.   
      03701  0 00000 0 00001  DRMLC2 PZE     1,,**         RECORD LABEL (LCOUNT FILLED IN)
                  
                       03702  DRMUSD DUP     1,120         MAXIMUM BITS FOR LARGEST DRUM USAGE TABLE  
      03702 -377777777777            OCT     777777777777  .. FIRST WORD PROGRAM MODIFIED.
                  
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  
                  
                                             .......... DISKUT (FILE), DISK USAGE TABLE .........     
                  
      04072 -0 00007 0 00004  DKUREC MZE     4,0,M         START AT DRUM RECORD 4, (TRACK 2)    
      04073  2 00003 0 04076         IOP     TLAST,,3      .. COPY CHAIN WORDS
      04074  2 00660 0 04101  DKUCPY IOP     DSKUTP,,DREC  .. ADDRESS MODIFIED AFTER FIRST RECORD     
      04075  0 00000 0 00000         IOD                   ..     
                  
      04076  0 00000 0 00000  TLAST  PZE     -             POINTER TO PRECEDING RECORD IF ANY   
      04077  0 00000 0 00000  TNEXT  PZE     -             POINTER TO NEXT RECORD IF ANY  
      04100  0 00000 0 00001  DSKLBL PZE     1,,**         RECORD LABEL 
                  
      04101 +000000000000     DSKUTP OCT     000000000000  FIRST 40 TRACKS USED BY CTSS LOADER  
      04102 +037777777777            OCT     037777777777  ..     
      04103 -377777777777            OCT     777777777777  ..     
                       04104         DUP     1,DREC        ALL BITS FOR REST OF DISK USAGE TABLE
      04104 -377777777777            OCT     777777777777  ..     
                  
1       W.J. PODUSKA, R.C. DALEY ... DISK/DRUM SETUP ROUTINE FOR FILE SYSTEM                     PAGE 16    
                  
                  
                                             DUMP ... DUMP DISK OR DRUM TRACKS WITH RECORD ADDRESSES  
                  
      04764  0074 00 4 07020  DUMP   TSX     NEXT,4        PICK UP MODULE NO. FROM CARD   
      04765  0 00000 0 00050                 ILLEGL        .. ERROR IF THIS FIELD VOID    
      04766  0074 00 4 07361         TSX     INT,4         CONVERT TO BINARY  
      04767  0767 00 0 00022         ALS     18            .. INTO DECREMENT  
      04770  0622 00 0 05046         STD     DMPREC        MODULE NO. TO RECORD ADDRESS   
                  
      04771  0074 00 4 07020         TSX     NEXT,4        PICK UP STARTING RECORD FROM CARD    
      04772  0 00000 0 00050                 ILLEGL        .. ERROR IF THIS FIELD VOID    
      04773  0074 00 4 07361         TSX     INT,4         CONVERT TO BINARY  
      04774  0771 00 0 00001         ARS     1             INSURE EVEN RECORD ADDRESS     
      04775  0767 00 0 00001         ALS     1             ..     
      04776  0621 00 0 05046         STA     DMPREC        SET UP STARTING RECORD ADDRESS 
                  
      04777  0774 00 1 00001         AXT     1,1           SET UP IN CASE COUNT MISSING   
      05000  0074 00 4 07020         TSX     NEXT,4        PICK UP TRACK COUNT IF SPECIFIED     
      05001  0 00000 0 05004                 DUMP1         .. SKIP IF COUNT NOT SPECIFIED 
      05002  0074 00 4 07361         TSX     INT,4         OTHERWISE, CONVERT COUNT TO BINARY   
      05003  0734 00 1 00000         PAX     0,1           COUNT TO IR1 
                  
      05004  0074 00 4 00016  DUMP1  TSX     $WTDOUT,4     WRITE HEADER ON MONITOR OUTPUT TAPE  
      05005  0 00017 0 17600                 HEADER,,15    ..     
                  
      05006  0774 00 4 01630  DUMP2  AXT     TL,4          CLEAR TRACK AREA   
      05007  0600 00 4 06701         STZ     TRK+TL,4      ..     
      05010  2 00001 4 05007         TIX     *-1,4,1       ..     
      05011  0074 00 4 00017         TSX     $.RDHAO,4     READ ENTIRE TRACK (HA2 AND ADDRESSES)
      05012  0 00000 0 05046                 DMPREC        ..     
      05013  0 00000 0 07425                 TRKER         ..     
      05014  0074 00 4 00010         TSX     $.DWAIT,4     WAIT UNTIL TRACK IS READ 
      05015 -0500 00 0 05046         CAL     DMPREC        PICK UP RECORD ADDRESS   
      05016 -0320 00 0 17651         ANA     =O77777       ..     
      05017  0771 00 0 00001         ARS     1             CHANGE TO TRACK ADDRESS  
      05020  0074 00 4 07400         TSX     BTDC,4        CONVERT TRACK NO. TO BCD 
      05021  0767 00 0 00006         ALS     6             LEAVE ROOM FOR ',' AT END
      05022 -0501 00 0 17656         ORA     =H 0000,      ..     
      05023  0602 00 0 06706         SLW     HA2COM+2      INTO TRACK COMMENT 
      05024  0560 00 0 05051         LDQ     HA2           CONVERT HOME ADDRESS 2 TO OCTAL
      05025  0074 00 4 07414         TSX     BTOC,4        ..     
      05026  0602 00 0 06710         SLW     HA2COM+4      ..     
      05027  0074 00 4 07414         TSX     BTOC,4        ..     
      05030  0602 00 0 06711         SLW     HA2COM+5      ..     
      05031  0074 00 4 00016         TSX     $WTDOUT,4     DOUBLE SPACE BEFORE TRACK HEADER     
      05032  0 00003 0 06701                 SPACE2,,3     ..     
      05033  0074 00 4 00016         TSX     $WTDOUT,4     WRITE TRACK HEADER ON OUTPUT TAPE    
      05034  0 00007 0 06704                 HA2COM,,7     ..     
      05035  0074 00 4 06713         TSX     DPREC,4       DUMP OUT RECORD '0'
      05036  0 00664 0 05052                 RECA1,,RECN+1 ..     
      05037  0074 00 4 06713         TSX     DPREC,4       DUMP OUT RECORD '1'
      05040  0 00664 0 06015                 RECA2,,RECN+1 ..     
      05041 -0500 00 0 05046         CAL     DMPREC        BUMP RECORD ADDRESS FOR NEXT TRACK   
      05042  0361 00 0 17636         ACL     =2            ..     
      05043  0621 00 0 05046         STA     DMPREC        ..     
1       W.J. PODUSKA, R.C. DALEY ... DISK/DRUM SETUP ROUTINE FOR FILE SYSTEM                     PAGE 17    
                  
      05044  2 00001 1 05006         TIX     DUMP2,1,1     BACK FOR NEXT TRACK IF MORE TO GO    
                  
      05045  0020 00 0 00030         TRA     READ          GET NEXT CONTROL CARD WHEN DONE
                  
      05046 -0 00000 0 00000  DMPREC MZE     **,,**        READ ENTIRE TRACK  
      05047  2 01630 0 05051         IOP     TRK,,TL       ..     
      05050  0 00000 0 00000         IOD                   ..     
                  
                       05051  TRK    SYN     *             TRACK BUFFER 
      05051                   HA2    BSS     1             .. HOME ADDRESS 2  
      05052                   RECA1  BSS     RECN+1        .. RECORD ADDRESS AND RECORD 1 
      05736                          BSS     DUM1+1        .. DUMMY RECORD ADDRESS AND RECORD   
      05776                          BSS     DUM2+1        .. DUMMY RECORD ADDRESS AND RECORD   
      06015                   RECA2  BSS     RECN+1        .. RECORD ADDRESS AND RECORD 2 
                       01630  TL     SYN     *-TRK         .. TRACK BUFFER COUNT    
                  
      06701  006060606060     SPACE2 BCI     3,0
      06704  005454545454     HA2COM BCI     7,0***** TRACK 0000, HA2= 000000000000.
                  
1       W.J. PODUSKA, R.C. DALEY ... DISK/DRUM SETUP ROUTINE FOR FILE SYSTEM                     PAGE 18    
                  
                  
                                             DPREC ... UTILITY ROUTINE TO DUMP RECORD ON TAPE   
                  
      06713  0634 00 1 06774  DPREC  SXA     DPRX1,1  
      06714  0634 00 2 06775         SXA     DPRX2,2  
      06715  0634 00 4 06776         SXA     DPRX4,4  
      06716 -0500 00 4 00001         CAL     1,4           PZE RECADR,,RECLEN+1     
      06717  0771 00 0 00022         ARS     18 
      06720  0361 00 4 00001         ACL     1,4           ADDRESS + COUNT    
      06721  0621 00 0 06755         STA     DPR2     
      06722 -0734 00 1 00000         PDX     0,1           COUNT TO IR1 
      06723  1 77777 1 06724         TXI     *+1,1,-1      REDUCE COUNT BY ONE
      06724  0560 60 4 00001         LDQ*    1,4           PICK UP RECORD ADDRESS   
      06725  0074 00 4 07414         TSX     BTOC,4        CONVERT TO OCTAL IN BCD  
      06726  0602 00 0 07010         SLW     RECCOM+3      ..     
      06727  0074 00 4 07414         TSX     BTOC,4        ..     
      06730  0602 00 0 07011         SLW     RECCOM+4      ..     
      06731  0074 00 4 00016         TSX     $WTDOUT,4     WRITE OUT RECORD HEADER  
      06732  0 00006 0 07005                 RECCOM,,6     ..     
      06733  0074 00 4 00016         TSX     $WTDOUT,4     SPACE ONE LINE     
      06734  0 00003 0 07002                 SPACE1,,3     ..     
      06735 -0500 00 0 17635         CAL     =1            INITIALIZE RECORD WORD NO.     
      06736  0602 00 0 07001         SLW     RECWRD        ..     
                  
      06737  0774 00 4 00026  DPR1   AXT     22,4          BLANK OUT LINE BUFFER    
      06740  0560 00 0 17660         LDQ     =H            ..     
      06741 -0600 00 4 17627         STQ     CARD+22,4     ..     
      06742  2 00001 4 06741         TIX     *-1,4,1       ..     
      06743 -0500 00 0 07001         CAL     RECWRD        CONVERT WORD NO. OF FIRST WORD ON THIS LINE
      06744  0074 00 4 07400         TSX     BTDC,4        .. TO BCD IN DECIMAL     
      06745  0767 00 0 00006         ALS     6             LEAVE ROOM FOR '.' AT END
      06746 -0501 00 0 17657         ORA     =H  000.      FORM WORD NO. (BCI 1,  XXX.)   
      06747  0602 00 0 17601         SLW     CARD          INTO LINE IMAGE    
      06750 -0500 00 0 07001         CAL     RECWRD        BUMP WORD NO. FOR NEXT LINE    
      06751  0400 00 0 17637         ADD     =7            ..     
      06752  0602 00 0 07001         SLW     RECWRD        ..     
      06753  0774 00 2 00025         AXT     21,2          SET UP NO. OF DATA WORDS PER LINE    
      06754  0600 00 0 07000         STZ     PRTSW         RESET PRINT SWITCH 
      06755 -0500 00 1 00000  DPR2   CAL     **,1          GET FIRST OR NEXT WORD FROM RECORD   
      06756  0100 00 0 06760         TZE     *+2           SKIP IF ZERO 
      06757 -0625 00 0 07000         STL     PRTSW         OTHERWISE SET SWITCH TO PRINT THIS LINE    
      06760 -0130 00 0 00000         XCL                   WORD TO MQ   
      06761  0074 00 4 07414         TSX     BTOC,4        CONVERT TO BCD IN OCTAL  
      06762  0602 00 2 17630         SLW     CARD+23,2     ..     
      06763  0074 00 4 07414         TSX     BTOC,4        ..     
      06764  0602 00 2 17631         SLW     CARD+24,2     ..     
      06765 -2 00003 2 06767         TNX     DPR3,2,3      SKIP ON END OF LINE
      06766  2 00001 1 06755         TIX     DPR2,1,1      END OF RECORD TEST 
      06767 -0520 00 0 07000  DPR3   NZT     PRTSW         IS LINE ALL ZEROS  
      06770  0020 00 0 06773         TRA     DPR4          YES, SKIP PRINTING OF THIS LINE
      06771  0074 00 4 00016         TSX     $WTDOUT,4     NO, PRINT THIS LINE
      06772  0 00026 0 17601                 CARD,,22      ..     
      06773  2 00001 1 06737  DPR4   TIX     DPR1,1,1      GET NEXT LINE IF MORE INPUT    
      06774  0774 00 1 00000  DPRX1  AXT     **,1          OTHERWISE    
      06775  0774 00 2 00000  DPRX2  AXT     **,2          RESTORE
1       W.J. PODUSKA, R.C. DALEY ... DISK/DRUM SETUP ROUTINE FOR FILE SYSTEM                     PAGE 19    
                  
      06776  0774 00 4 00000  DPRX4  AXT     **,4          IRS    
      06777  0020 00 4 00002         TRA     2,4           AND RETURN   
                  
      07000  0 00000 0 00000  PRTSW  PZE     **            NON-ZERO TO PRINT LINE   
      07001  0 00000 0 00000  RECWRD PZE     -             NO. OF FIRST WORD ON THIS LINE 
                  
      07002  606060606060     SPACE1 BCI     3, 
      07005  006060512523     RECCOM BCI     6,0  RECORD ADDRESS 000000000000.
                  
1       W.J. PODUSKA, R.C. DALEY ... DISK/DRUM SETUP ROUTINE FOR FILE SYSTEM                     PAGE 20    
                  
                  
                                             FIRST/NEXT ... UTILITY ROUTINES TO SCAN CONTROL CARD ....
                  
      07013  0634 00 1 07054  FIRST  SXA     SX1,1         SAVE XR1, FIRST WORD ENTRY.    
      07014  0774 00 1 00014         AXT     12,1          COUNT 12 WORDS PER CARD. 
      07015  0600 00 0 07065         STZ     WORD          CLEAR SYMBOL,
      07016  0600 00 0 07063         STZ     BLKTST        CLEAR BLANK TEST,  
      07017  0020 00 0 07026         TRA     SLDQ          AND ENTER LOOP.    
                  
      07020  0634 00 1 07054  NEXT   SXA     SX1,1         SAVE XR1, NEXT WORD ENTRY.     
      07021  0774 00 1 00000  SCNX1  AXT     **,1          RESTORE INDEX VALUE.     
      07022  0560 00 0 07064         LDQ     MQ            GET PARTIAL WORD.  
      07023  0600 00 0 07065         STZ     WORD          CLEAR SYMBOL.
      07024  0600 00 0 07063         STZ     BLKTST        CLEAR BLANK TEST.  
      07025  0020 00 0 07042         TRA     TIXL          AND ENTER LOOP.    
                  
      07026  0560 00 1 17615  SLDQ   LDQ     CARD+12,1     GET NEXT WORD,     
      07027  1 00074 1 07030         TXI     *+1,1,6*12-12 AND SETUP COUNT.   
      07030 -0754 00 0 00000  NLOOP  ZAC                   CLEAR AC,    
      07031 -0763 00 0 00006         LGL     6             AND MOVE IN NEXT CHARACTER.    
      07032 -0340 00 0 17642         LAS     =H00000       CHECK FOR BLANK.   
      07033  0020 00 0 07035         TRA     *+2           NO, SKIP.    
      07034  0020 00 0 07050         TRA     BLNK          BLANK, EXIT. 
      07035 -0625 00 0 07063         STL     BLKTST        NO MORE BLANKS ACCEPTED. 
      07036 -0765 00 0 00006         LGR     6             BUILD SYMBOL.
      07037 -0500 00 0 07065         CAL     WORD          ..     
      07040 -0763 00 0 00006         LGL     6             ..     
      07041  0602 00 0 07065         SLW     WORD          ..     
      07042  2 00014 1 07030  TIXL   TIX     NLOOP,1,12    COUNT CHARACTERS.  
      07043  2 00001 1 07026         TIX     SLDQ,1,1      COUNT  WORDS.
      07044  0634 00 1 07021         SXA     SCNX1,1       END OF CARD, RESET COUNT.
      07045  0534 00 1 07054         LXA     SX1,1         RESTORE XR1, 
      07046 -0754 00 0 00000         ZAC                   SYMBOL IS ZERO,    
      07047  0020 60 4 00001         TRA*    1,4           VOID RETURN. 
                  
      07050 -0520 00 0 07063  BLNK   NZT     BLKTST        IS BLANK TERMINATOR.Q    
      07051  0020 00 0 07042         TRA     TIXL          NO, IGNORE.  
      07052 -0600 00 0 07064         STQ     MQ            TERMINATOR, SAVE MQ.     
      07053  0634 00 1 07021         SXA     SCNX1,1       SAVE COUNT.  
      07054  0774 00 1 00000  SX1    AXT     **,1          RESTORE USER'S IR1 
      07055 -0500 00 0 07065         CAL     WORD          PICK UP LAST 6 CHARACTERS IN THIS FIELD    
      07056  0560 00 0 17660         LDQ     =H            BLANKS TO MQ 
      07057 -0765 00 0 00006         LGR     6             LEFT ADJUST WORD IN MQ   
      07060 -0100 00 0 07057         TNZ     *-1           ..     
      07061 -0500 00 0 07065         CAL     WORD          ALSO RETURN WORD RIGHT ADJUSTED IN LAC     
      07062  0020 00 4 00002         TRA     2,4           ..     
                  
      07063  0 00000 0 00000  BLKTST PZE     **            NON-ZERO AFTER BEGINNING OF FIELD FOUND    
      07064  0 00000 0 00000  MQ     PZE     -             MQ SAVED ON RETURN 
      07065  0 00000 0 00000  WORD   PZE     -             LAST SIX CHARS. OF FIELD 
                  
1       W.J. PODUSKA, R.C. DALEY ... DISK/DRUM SETUP ROUTINE FOR FILE SYSTEM                     PAGE 21    
                  
                  
                                             ROUTINE TO READ ONLINE CARDS     
                  
      07066  0060 00 0 07066  CARDRD TCOA    *             WAIT FOR CHANNEL A TO STOP,    
      07067  0030 00 0 07067         TEFA    *               THEN TURN OFF E-O-F INDICATOR.     
      07070  0762 00 0 01321         RCDA 
      07071  0540 00 0 07213         RCHA    RDCARD        READ IN A CARD,    
      07072  0060 00 0 07072         TCOA    *                WAIT A WHILE,   
      07073  0030 00 0 00004         TEFA    $EXIT            AND LEAVE IF LAST.    
                  
      07074  0774 00 4 00014         AXT     12,4     
      07075  0600 00 4 17615         STZ     CARD+12,4     CLEAR BUFFER 
      07076  2 00001 4 07075         TIX     *-1,4,1  
                  
      07077  0774 00 4 00004         AXT     4,4
      07100 -0774 00 2 00015  CT9    AXC     13,2     
      07101  0441 00 0 07235         LDI     CTG
      07102 -0500 60 4 07231  CT10   CAL*    CTD+4,4  
      07103  1 00002 2 07104         TXI     *+1,2,2  
      07104 -0501 60 4 07231         ORA*    CTD+4,4  
      07105  0602 00 0 07237         SLW     CTH
      07106  1 77764 2 07107         TXI     *+1,2,-12
      07107  0441 60 4 07231         LDI*    CTD+4,4  
      07110  1 00002 2 07111         TXI     *+1,2,2  
      07111  0444 60 4 07231         OFT*    CTD+4,4  
      07112  0020 00 0 07200  CT11   TRA     ERR
      07113  0442 60 4 07231         OSI*    CTD+4,4  
      07114  0604 00 0 07241         STI     CTI
      07115  1 00024 2 07116         TXI     *+1,2,20 
      07116  0441 60 4 07231         LDI*    CTD+4,4  
      07117  1 77760 2 07120         TXI     *+1,2,-16
      07120  0774 00 1 00007         AXT     7,1
      07121  0444 60 4 07231  CT12   OFT*    CTD+4,4  
      07122  0020 00 0 07200  CT13   TRA     ERR
      07123  0442 60 4 07231         OSI*    CTD+4,4  
      07124  1 00002 2 07125         TXI     *+1,2,2  
      07125  2 00001 1 07121         TIX     CT12,1,1 
      07126  0440 00 0 07237         IIS     CTH
      07127  0444 60 4 07231         OFT*    CTD+4,4  
      07130  0020 00 0 07200         TRA     ERR
      07131  0442 60 4 07231         OSI*    CTD+4,4  
      07132  0442 00 0 07237         OSI     CTH
      07133  1 77760 2 07134         TXI     *+1,2,-16
      07134 -0046 00 0 00000         PIA  
      07135 -0320 60 4 07231         ANA*    CTD+4,4  
      07136  0602 00 0 07237         SLW     CTH
      07137 -0320 00 0 07241         ANA     CTI
      07140 -0100 00 0 07200         TNZ     ERR
      07141 -0500 60 4 07231         CAL*    CTD+4,4  
      07142  0043 00 0 00000         OAI  
      07143  0442 00 0 07241         OSI     CTI
      07144 -0320 00 0 07241         ANA     CTI
      07145  0602 60 4 07231         SLW*    CTD+4,4  
      07146 -0046 00 0 00000         PIA  
      07147  0760 00 0 00006         COM  
1       W.J. PODUSKA, R.C. DALEY ... DISK/DRUM SETUP ROUTINE FOR FILE SYSTEM                     PAGE 22    
                  
      07150 -0501 00 0 07237         ORA     CTH
      07151  1 77772 2 07152         TXI     *+1,2,-6 
      07152  0602 60 4 07231         SLW*    CTD+4,4  
      07153  0774 00 1 00006  CT20   AXT     6,1
      07154 -0500 60 4 07231         CAL*    CTD+4,4  
      07155  0602 00 0 07237         SLW     CTH
      07156  0560 00 0 07237  CT21   LDQ     CTH
      07157  0634 00 1 07164         SXA     X1,1     
      07160  0774 00 1 00006         AXT     6,1
      07161  0767 00 0 00005  CT22   ALS     5  
      07162 -0763 00 0 00001         LGL     1  
      07163  2 00001 1 07161         TIX     CT22,1,1 
      07164  0774 00 1 00000  X1     AXT     **,1     
      07165 -0600 00 0 07237         STQ     CTH
      07166 -0130 00 0 00000         XCL  
      07167  0200 00 2 07213  PCT23  MPY     CTA-1,2  
      07170  0763 00 0 00043         LLS     35 
      07171  0361 60 4 07235         ACL*    CTE+4,4  
      07172  0602 60 4 07235         SLW*    CTE+4,4  
      07173  2 00001 1 07156         TIX     CT21,1,1 
      07174  3 77775 2 07176  CT24   TXH     CT25,2,-3
      07175  1 00002 2 07153         TXI     CT20,2,2 
      07176  2 00002 4 07100  CT25   TIX     CT9,4,2  
      07177  0020 00 0 00036         TRA     PCC
                  
      07200  0074 00 4 00005  ERR    TSX     $PRINT,4      HERE FOR ILLEGAL BCD IN CARD.  
      07201  0 00010 0 07203                 CHS,,CHS1
      07202  0000 00 0 07066         HTR     CARDRD   
                  
      07203  603143432527     CHS    BCI     8, ILLEGAL BCD CARD.  PUSH START TO IGNORE IT.     
                       00010  CHS1   EQU     *-CHS    
                  
      07213  0 00030 0 07245  RDCARD IOCD    9ROWL,,24
                  
      07214 +000000000011     CTA    OCT     11 
      07215  0 00000 0 00000         PZE  
      07216 +000000000010            OCT     10 
      07217  0 00000 0 00000         PZE  
      07220 +000000000007            OCT     7  
      07221  0 00000 0 00000         PZE  
      07222 +000000000006            OCT     6  
      07223  0 00000 0 00000         PZE  
      07224 +000000000005            OCT     5  
      07225  0 00000 2 07244  CTD    PZE     9ROWL-1,2
      07226 +000000000004            OCT     4  
      07227  0 00000 2 07245         PZE     9ROWL,2  
      07230 +000000000003            OCT     3  
      07231  0 00000 1 17607  CTE    PZE     CARD+6,1 
      07232 +000000000002            OCT     2  
      07233  0 00000 1 17615         PZE     CARD+12,1
      07234 +000000000001     CTF    OCT     1  
      07235  0 00000 0 00000  CTG    PZE  
      07236 +000000000012            OCT     12 
      07237  0 00000 0 00000  CTH    PZE  
      07240 +000000000040            OCT     40 
      07241  0 00000 0 00000  CTI    PZE  
1       W.J. PODUSKA, R.C. DALEY ... DISK/DRUM SETUP ROUTINE FOR FILE SYSTEM                     PAGE 23    
                  
      07242 +000000000020            OCT     20 
      07243  0 00000 0 00000  CTJ    PZE  
      07244 +000000000060            OCT     60 
      07245                   9ROWL  BSS     76 
1       W.J. PODUSKA, R.C. DALEY ... DISK/DRUM SETUP ROUTINE FOR FILE SYSTEM                     PAGE 24    
                  
                  
                                             INT ..... UTILITY ROUTINE TO CONVERT BCD NO. TO BINARY   
                  
      07361  0634 00 4 07375  INT    SXA     INTX4,4  
      07362  0600 00 0 07377         STZ     NUM
      07363 -0130 00 0 00000         XCL                   BCD WORD TO MQ     
      07364  0774 00 4 00006         AXT     6,4
      07365 -0754 00 0 00000  INT1   ZAC                   CONVERT TO BINARY  
      07366 -0763 00 0 00003         LGL     3             ..     
      07367  0401 00 0 07377         ADM     NUM           ..     
      07370 -0763 00 0 00003         LGL     3             ..     
      07371  0401 00 0 07377         ADM     NUM           ..     
      07372  0361 00 0 07377         ACL     NUM           ..     
      07373  0602 00 0 07377         SLW     NUM           ..     
      07374  2 00001 4 07365         TIX     INT1,4,1      ..     
      07375  0774 00 4 00000  INTX4  AXT     **,4          BINARY NO. ALREADY IN AC 
      07376  0020 00 4 00001         TRA     1,4           RETURN 
                  
      07377  0 00000 0 00000  NUM    PZE     -             TEMP FOR BUILDING BINARY INTEGER     
                  
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  
                  
                                             BTDC ... UTILITY ROUTINE TO CONVERT BINARY TO DECIMAL    
                  
      07400  0634 00 4 07412  BTDC   SXA     BTDCX,4  
      07401 -0130 00 0 00000         XCL                   BINARY INTEGER TO MQ     
      07402  0600 00 0 07377         STZ     NUM           ZERO BCD TEMP
      07403  0774 00 4 00044         AXT     36,4     
      07404 -0754 00 0 00000  BTDC1  ZAC                   CONVERT TO BCD IN DECIMAL
      07405  0221 00 0 17640         DVP     =10           ..     
      07406  0767 00 4 00044         ALS     36,4          ..     
      07407 -0602 00 0 07377         ORS     NUM           ..     
      07410  2 00006 4 07404         TIX     BTDC1,4,6     ..     
      07411 -0500 00 0 07377         CAL     NUM           RETURN BCD INTEGER IN AC 
      07412  0774 00 4 00000  BTDCX  AXT     **,4          ..     
      07413  0020 00 4 00001         TRA     1,4           ..     
                  
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  
                  
                                             BTOC ... UTILITY ROUTINE TO CONVERT BINARY TO OCTAL
                  
      07414  0634 00 4 07422  BTOC   SXA     BTOCX,4  
      07415 -0754 00 0 00000         ZAC                   BINARY NO. ALREADY IN MQ 
      07416  0774 00 4 00006         AXT     6,4
      07417  0767 00 0 00003  BTOC1  ALS     3             CONVERT TO BCD IN OCTAL  
      07420 -0763 00 0 00003         LGL     3             ..     
      07421  2 00001 4 07417         TIX     BTOC1,4,1     ..     
      07422  0774 00 4 00000  BTOCX  AXT     **,4          RETURN, BCD VALUE ALREADY IN AC
      07423  0020 00 4 00001         TRA     1,4           ..     
                  
1       W.J. PODUSKA, R.C. DALEY ... DISK/DRUM SETUP ROUTINE FOR FILE SYSTEM                     PAGE 25    
                  
                  
                                             ERROR ... HERE FROM ERROR RETURN FROM DISK/DRUM ADAPTER  
                  
      07424  0020 00 4 00001  ERROR  TRA     1,4           IGNORE ERROR CALL FOR TIME BEING     
                  
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  
                  
                                             TRKER ... HERE FOR ILLEGAL TRACK ADDRESS RETURN    
                  
      07425  0074 00 4 00005  TRKER  TSX     $PRINT,4      PRINT ERROR MESSAG ON LINE     
      07426  0 00011 0 07430                 BADTRK,,9     ..     
      07427  0000 00 0 00030         HTR     READ          GET NEXT CONTROL CARD ON START 
                  
      07430  602221246063     BADTRK BCI     9, BAD TRACK ADDRESS, PRESS START TO READ NEXT CARD.     
                  
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  
                  
      07441                   ZEROES BSS     RECN          BUFFER OF ALL ZEROES     
                  
      10324                   TEST1  BSS     MAXLEN        SURFACE ANALYSIS TEST PATERNS  
      12177                   TEST2  BSS     MAXLEN        ..     
      14052                   TEST3  BSS     MAXLEN        ..     
      15725                   TEST4  BSS     MAXLEN        ..     
                  
      17600  016060606060     HEADER BCI     1,1           HEADER TO PRINT CARD IMAGE OFF LINE  
      17601                   CARD   BSS     28            CARD IMAGE BUFFER  
                  
                                     END  
                  
        LITERALS  
      17635  000000000001     
      17636  000000000002     
      17637  000000000007     
      17640  000000000012     
      17641  000000000044     
      17642  000000000060     
      17643  000000000073     
      17644  000000000120     
      17645  000000000372     
      17646  000000000620     
      17647  000000001300     
      17650  000000023420     
      17651  000000077777     
      17652  000077077777     
      17653  002330252342     
      17654  252525252525     
      17655  525252525252     
      17656  600000000073     
      17657  606000000033     
      17660  606060606060     
      17661  676767676767     
      17662  777777777777     
1       W.J. PODUSKA, R.C. DALEY ... DISK/DRUM SETUP ROUTINE FOR FILE SYSTEM                     PAGE 1     
                        POST PROCESSOR ASSEMBLY DATA  
                  
      17663 IS THE FIRST LOCATION NOT USED BY THIS PROGRAM  
                  
0REFERENCES TO DEFINED SYMBOLS      
          7      M    20, 3636, 3655, 3664, 3673, 3674, 4072
       7064     MQ  7022, 7052
       1630     TL  5006, 5007, 5047, 6701
       7164     X1  7157
       3423    32K  3371
       3413    65K  3302
       7203    CHS  7201, 7213
       7100    CT9  7176
       7214    CTA  7167
       7225    CTD  7102, 7104, 7107, 7111, 7113, 7116, 7121, 7123, 7127, 7131, 7135, 7141, 7145, 7152, 7154
       7231    CTE  7171, 7172
       7234    CTF      
       7235    CTG  7101
       7237    CTH  7105, 7126, 7132, 7136, 7150, 7155, 7156, 7165
       7241    CTI  7114, 7137, 7143, 7144
       7243    CTJ      
       7200    ERR  7112, 7122, 7130, 7140
       5051    HA2  5024
       7361    INT   116,  123,  137, 2122, 3113, 3120, 3127, 3201, 3206, 3216, 3276, 3457, 3477, 4766, 4773, 5002
       3644    MFD  3674
       7377    NUM  7362, 7367, 7371, 7372, 7373, 7402, 7407, 7411
         36    PCC  7177
       3271    RA1  3232, 3253, 3264
       3272    RA2  3234, 3256
       7054    SX1  7013, 7020, 7045
       5051    TRK  5007, 5047, 5051, 6701
       7050   BLNK  7034
       7400   BTDC  5020, 6744
       7414   BTOC  5025, 5027, 6725, 6727, 6761, 6763
      17601   CARD    34,   37, 3314, 3316, 3324, 3325, 3326, 3334, 3336, 3362, 6741, 6747, 6762, 6764, 6772, 7026, 7075
                    7231, 7233
         10   CHS1  7201, 7213
       7102   CT10      
       7112   CT11      
       7121   CT12  7125
       7122   CT13      
       7153   CT20  7175
       7156   CT21  7173
       7161   CT22  7163
       7174   CT24      
       7176   CT25  7174
       6737   DPR1  6773
       6755   DPR2  6721, 6766
       6767   DPR3  6765
       6773   DPR4  6770
        660   DREC    20, 3570, 3635, 3653, 3662, 3671, 4074, 4104
         37   DUM1    20, 1075, 3172, 3255, 5736
         16   DUM2    20, 1144, 3172, 3255, 5776
         20   DUM3    20, 2066, 3043, 3172, 3260, 3266
          1   DUML    20, 2116, 3071, 3172, 3260, 3267
       4764   DUMP   110
1       W.J. PODUSKA, R.C. DALEY ... DISK/DRUM SETUP ROUTINE FOR FILE SYSTEM                     PAGE 2     
                        POST PROCESSOR ASSEMBLY DATA  
                  
          4   EXIT    35,   66, 7073
        162   FMT1   160, 2120
       2136   FMT2  2134, 3073
       7365   INT1  7374
       3641   MFDP  3637, 3674
       7020   NEXT   114,  121,  135, 2120, 3111, 3116, 3125, 3177, 3204, 3214, 3220, 3274, 3455, 3475, 4764, 4771, 5000
       3225   R1LP  3215, 3221, 3223, 3247
         30   READ    52,   62,  113,  156, 2132, 3166, 3250, 3374, 3630, 5045, 7427
        663   RECN    20,   25,   26,  202, 1172, 2152, 3172, 3254, 3257, 3265, 5036, 5040, 5052, 6015, 7441
       7026   SLDQ  7017, 7043
        111   STOP    64
         61   TABL    44,   46,   61,  111
         30   TABN    43,   44,   46,  111
       7042   TIXL  7025, 7051
       7065   WORD  7015, 7023, 7037, 7041, 7055, 7061
       7245  9ROWL  7213, 7225, 7227
       7404  BTDC1  7410
       7412  BTDCX  7400
       7417  BTOC1  7421
       7422  BTOCX  7414
       3273  CHECK  3213, 3224, 3241
       6713  DPREC  5035, 5037
       6774  DPRX1  6713
       6775  DPRX2  6714
       6776  DPRX4  6715
        142  DSKLP   136,  154
       5004  DUMP1  5001
       5006  DUMP2  5044
       7424  ERROR    24
       7013  FIRST    40
       1736  FMT1L   160, 2120
        735  FMT2L  2134, 3073
       7375  INTX4  7361
       3404  LABEL  3376
       3412  LABLX  3363
       3313  LOAD1  3335, 3352, 3403
       3325  LOAD2  3333
       3330  LOAD3  3322
       3353  LOAD4  3321
       7030  NLOOP  7042
       3631  NMODS  3500, 3514
       3540  NRECS  3534, 3550
       7167  PCT23      
          5  PRINT    36,   50, 3301, 3350, 3370, 3401, 7200, 7425
       7000  PRTSW  6754, 6757, 6767
       3251  R1LST  3172
       3262  R2LST  3174
       5052  RECA1  5036
       6015  RECA2  5040
       7021  SCNX1  7044, 7053
       3170  TCOPY  3076, 3132, 3140, 3146, 3154
      10324  TEST1  3103, 3131
      12177  TEST2  3104, 3137
      14052  TEST3  3105, 3145
      15725  TEST4  3106, 3153
1       W.J. PODUSKA, R.C. DALEY ... DISK/DRUM SETUP ROUTINE FOR FILE SYSTEM                     PAGE 3     
                        POST PROCESSOR ASSEMBLY DATA  
                  
       4076  TLAST  3612, 4073
       4077  TNEXT  3576, 3621
       7425  TRKER   144,  147, 2127, 3135, 3143, 3151, 3157, 3237, 3366, 3560, 3566, 3601, 3626, 5013
       3636  WRMFD  3557
       3444 BADEOF  3402
       7430 BADTRK  7426
         53 BDCARD    51
       7063 BLKTST  7016, 7024, 7035, 7050
       7066 CARDRD    32, 7202
       3433 CHKBAD  3347, 3351
       3103 CHKFIL  3110
       3410 CHKSUM  3361
       3076 COMCHK  3074
       3175 COMREC  3173
       3226 DDRECP  3176
       4074 DKUCPY  3603, 3605, 3623
       3634 DKUNEX  3573, 3575, 3616
       4072 DKUREC  3571, 3600, 3611, 3617, 3625
       5046 DMPREC  4770, 4776, 5012, 5015, 5041, 5043
       3075 DRMCHK    76
       2120 DRMFMT    72
       3663 DRMLC1  3472, 3561
       3701 DRMLC2  3474
        727 DRMLEN  3075, 3172
       2133 DRMLST  2124, 2126
       3174 DRMREC   102
       3702 DRMUSD  3537, 3542
       3675 DRMUTL  3563
       3677 DRMUTP  3675
       3073 DSKCHK    74
        114 DSKFMT    70
       4100 DSKLBL  3613, 3615, 3622
       1653 DSKLEN  3073, 3172
        157 DSKLST   120,  133,  143,  146,  151,  153
       3672 DSKNRC  3536, 3547
       3172 DSKREC   100
       4101 DSKUTP  4074
          1 ENABLE    22
       3647 ENTRY1      
       3656 ENTRY2      
       3665 ENTRY3      
       6704 HA2COM  5023, 5026, 5030, 5034
      17600 HEADER  5005
         50 ILLEGL    41,  115,  122,  125,  126,  141, 2121, 3112, 3117, 3200, 3205, 3275, 3456, 3461, 3462, 3476, 3502
                    3503, 4765, 4772
       3401 ILLEOF  3315
          0 .DINIT    21
         10 .DWAIT   155, 2131, 3165, 3243, 3367, 3607, 3627, 5014
          7 .DWRCK   150, 2130, 3136, 3144, 3152, 3160, 3242
         15 .DWRIT  3556, 3564, 3577, 3624
         17 .RDHAO  5011
          2 .SETER    23
         12 .UNPAK  3225, 3574, 3610
         14 .WRCYL  3364
          6 .WRFMT   142,  145, 2125
1       W.J. PODUSKA, R.C. DALEY ... DISK/DRUM SETUP ROUTINE FOR FILE SYSTEM                     PAGE 4     
                        POST PROCESSOR ASSEMBLY DATA  
                  
         11 .WRHAO  3133, 3141, 3147, 3155, 3235
       3274 LOADER   104
       1653 MAXLEN  3172,10324,12177,14052,15725
         30 MFDCNT  3643, 3654, 3674
         33 MFDPCT  3637, 3674
       3673 POINTR  3552, 3555
       7213 RDCARD  7071
       7005 RECCOM  6726, 6730, 6732
       3236 RECPNT  3175, 3203, 3211, 3244, 3246
       3635 RECSIZ  3527, 3545
       7001 RECWRD  6736, 6743, 6750, 6752
       3632 REMAIN  3466, 3470, 3507, 3511, 3517, 3521, 3530, 3532, 3543, 3546
         13 RTBINP  3313
          3 RTDINP    33
         43 SEARCH      
       3455 SETMFD   106
       7002 SPACE1  6734
       6701 SPACE2  5032
       3131 SURTST  3126, 3164
       3167 TSTREC  3115, 3123, 3134, 3142, 3150, 3156, 3161, 3163
       3633 TWORDS  3513, 3523, 3524, 3567
       3674 WDRMUT  3565
       3602 WRDKU1  3606
       3621 WRDKU2  3570
       3570 WRDSKU  3620
       3375 WRTSSL  3300, 3365
         16 WTDOUT  5004, 5031, 5033, 6731, 6733, 6771
       7441 ZEROES    26, 3254, 3255, 3257, 3260, 3265, 3266, 3267
                  
0 NO ERROR IN ABOVE ASSEMBLY. 




 PANIC   BCD 02/09/69 0420.6    4665         00000    




 PANIC   BCD 04/05/68 0109.9    4651         00000    
1      M1416-4882 J. PODOLSKY   65K 7094 CTSS PANIC DUMP CARDS                                   PAGE 1     
                  
                                     PCC     ON 
                                     COUNT   150
                                     LBL     PANIC001 
                                     TITLE
                                     FUL                   FULL ROW-BINARY OUTPUT   
                  
                                             THIS DECK IS TO BE USED TO OBTAIN A COMPLETE DUMP OF     
                                             CPU MACHINE CONDITIONS AND CORE (32K OR 65K).  THE 
                                             FOLLOWING TAPES ARE NEEDED ..    
                  
                       02201  T      TAPENO  B1            CTSS PANIC DUMP TAPE (5 FILES) 
                       02202  U      TAPENO  B2            SECONDARY DUMP TAPE TO SAVE LOWER CORE 'A' 
                  
                                             IF TAPE 'U' IS NOT READIED PRIOR TO LOADING, A HALT AT   
                                             LOCATION 2 WILL OCCUR.  THE TAPE SHOULD BE READIED AND   
                                             THE PROGRAM RELOADED.  HOWEVER, NOTHING BUT TIME WILL    
                                             BE LOST IF THE TAPE IS NOT READY.  TAPE 'T' CONTAINS     
                                             THE DUMP RESULTS IN THE FOLLOWING FORMAT ..  
                  
                                                           FILE 1.   MACHINE CONDITIONS   
                                                           FILE 2.   CORE A, LOCATIONS 00000 - 37777  
                                                           FILE 3.   CORE A, LOCATIONS 40000 - 77777  
                                                           FILE 4.   CORE B, LOCATIONS 00000 - 37777  
                                                           FILE 5.   CORE B, LOCATIONS 40000 - 77777  
                  
                                             ORGANIZATION OF WORDS IN MACHINE CONDITION RECORD ..     
                       00000  (AC)   EQU     0             PZE AC(S,1-35)      ARITHMETIC AC    
                       00001  (MQ)   EQU     1             PZE MQ(S,1-35)      ARITHMETIC MQ    
                       00002  (SI)   EQU     2             PZE SI(0,1-35)      SENSE INDICATORS 
                       00003  (SQP)  EQU     3             PZE AC(S,Q,P,1-33)  ACCUMULATOR S,Q,P
                       00004  (IR1)  EQU     4             PZE IR1             INDEX REGISTER 1 
                       00005  (IR2)  EQU     5             PZE IR2             INDEX REGISTER 2 
                       00006  (IR3)  EQU     6             PZE IR3             INDEX REGISTER 3 
                       00007  (IR4)  EQU     7             PZE IR4             INDEX REGISTER 4 
                       00010  (IR5)  EQU     8             PZE IR5             INDEX REGISTER 5 
                       00011  (IR6)  EQU     9             PZE IR6             INDEX REGISTER 6 
                       00012  (IR7)  EQU     10            PZE IR7             INDEX REGISTER 7 
                       00013  (FLGS) EQU     11            PZE INDBTS          INDICATOR BITS   
                       00014  (PI)   EQU     12            PZE PTIND           PROTECTION INDICATORS  
                       00015  (RI)   EQU     13            PZE RLIND           RELOCATION INDICATORS  
                       00016  (KEYS) EQU     14            PZE KEYS            CONSOLE KEYS     
                  
                                             INDICATOR BIT DEFINITIONS ..     
                      000001  MTFLG  BOOL    1             BIT 35    MULTIPLE TAG MODE    
                      000002  ACOVF  BOOL    2             BIT 34    ACCUMULATOR OVERFLOW 
                      000004  DCFLG  BOOL    4             BIT 33    DIVIDE CHECK INDICATOR     
                      000170  SLTS   BOOL    170           BIT 29-32 SENSE LIGHTS 4 THRU 1
                      000200  FPTMD  BOOL    200           BIT 28    FLOATING TRAP MODE   
                      000400  MQOVF  BOOL    400           BIT 27    MQ OVERFLOW INDICATOR
                      001000  IOCHK  BOOL    1000          BIT 26    I/O CHECK INDICATOR  
                      176000  SWTS   BOOL    176000        BIT 20-25 SENSE SWITCHES 6 THRU 1    
1      M1416-4882 J. PODOLSKY   65K 7094 CTSS PANIC DUMP CARDS                                   PAGE 2     
                           INITIAL LOAD PROCEDURE - SEE IF TAPE 'U' READY           
                  
                                     TTL     INITIAL LOAD PROCEDURE - SEE IF TAPE 'U' READY     
                  
                  
                       00000         ORG     0             ..     
                  
      00000 -2 00003 0 00000         IOSP    LOAD1,,3      0  READ NEXT 3 WORDS AND PROCEED     
      00001  0770 00 0 02202         WEFU                  1  END-FILE SELECT SECONDARY DUMP TAPE     
      00002  0020 00 0 00002         TRA     *             2  AND WAIT FOR NEXT 3 WORDS   
                  
                       00000         LOC     0             ..     
                  
      00000  0544 00 0 00000  LOAD1  LCHA    LOAD2         0  HERE WHEN LOAD1...LOAD1+2 ARE IN CORE   
      00001 -3 00002 0 00000         IOST    LOAD2,,2      1  READS LOAD2...LOAD2+1 
      00002  0020 00 0 00000         TRA     LOAD1         2  THIS SEGMENT IS IN - READ NEXT 2 WORDS  
                  
                       00000         LOC     0             ..     
                  
      00000  3 00003 0 00000  LOAD2  IORT    LOAD3,,3      0  READ 3 WORDS AND SKIP OVER CARD   
      00001  0544 00 0 00002         LCHA    LOAD4         1  END OF CARD TAKES OVER 50 MILLISECS.    
                  
                       00000         LOC     0             ..     
                  
      00000 -0061 00 0 00000  LOAD3  TCNU    *             0  WAIT HERE IF TAPE 'U' IS READY    
      00001  0544 00 0 00002         LCHA    LOAD7         1  NOT READY, USE THIS CHANNEL LOAD  
      00002 -3 00003 0 00000  LOAD4  IOST    LOAD5,,3      2  TRANSFER TO LOAD3     
                  
                  
                       00000         ORG     0             NEW CARD STARTS HERE     
                  
      00000  0544 00 0 00001  LOAD5  LCHA    LOAD6         0  (THIS MAY BE USED TWICE)    
      00001  3 00002 0 00000  LOAD6  IORT    0,,2          1  SKIPS CARD IF 'U' IS READY  
      00002 -3 00002 0 00000  LOAD7  IOST    0,,2          2  TRANSFER BACK TO 0    
                  
                       00000         LOC     0             ..     
                  
      00000  0544 00 0 00000         LCHA    0             0  NEXT I/O COMMAND WILL BE AT 0     
      00001 -3 00003 0 00000         IOST    0,,3          1  READ 3 WORDS FROM THIS OR NEXT CARD     
                  
                       00000         LOC     0             NEXT 3 WORDS HANDLE HANGUP ON CHANNEL 'U'  
                  
      00000  0 00001 2 00000         IOCDN   0,,1          0  DISCONNECT CHANNEL 'A'
      00001  0760 00 0 02352         RDCU                  1  CLEAR HANGING SELECT ON DRIVE 'U' 
      00002  0000 00 0 00002         HTR     *             2  AND HALT TO INFORM OPERATOR 
1      M1416-4882 J. PODOLSKY   65K 7094 CTSS PANIC DUMP CARDS                                   PAGE 3     
                           LOADER PHASE II - DUMP LOWER CORE ONTO TAPE 'U'          
                  
                                     TTL     LOADER PHASE II - DUMP LOWER CORE ONTO TAPE 'U'    
                  
                  
                       00000         ORG     0             HERE IF DRIVE 'U' IS READY     
                  
      00000  1 00000 0 00001         TCH     1             0  EXECUTE NEXT I/O COMMAND FROM 1   
      00001  2 00003 0 00000         IORP    0,,3          1  LOAD NEXT 3 WORDS AND SKIP OVER CARD    
      00002  0020 00 0 00002         TRA     *             2  WAIT FOR WORDS TO BE READ IN
                  
                  
                       00000         LOC     0             ..     
                  
      00000  0766 00 0 02222         WTBU                  0  SAVE CORE WHICH IS LOADED OVER BY CARDS 
      00001 -0540 00 0 00002         RCHU    LOAD8         1  THIS SEQUENCE ALLOWS 7 RECORDS ON 'U'   
      00002 -3 00240 0 00000  LOAD8  IOST    0,,END        2  READS CARD, WRITES LOWER CORE     
                  
                  
                       00000         ORG     0             ..     
                  
      00000 -3 00000 0 00002         TXL     2,,0          0  (UNCHANGED BY STR FROM LOC. 1)    
      00001 -1 00210 0 00030  LOAD9  IOCT    ORG,,END-ORG  1  READ IN REST OF DECK (ALSO AN STR)
      00002  0544 00 0 00001         LCHA    LOAD9         2  READ IN REST OF DECK  
      00003  0770 00 0 02202         WEFU                  3  END-FILE SECONDARY DUMP TAPE
      00004  0020 00 0 00006         TRA     *+2           4  SKIP OVER INTERVAL TIMER    
      00005  0 00000 0 00000         PZE     0             5  INTERVAL TIMER (DO NOT USE) 
      00006  0060 00 0 00006         TCOA    *             6  WAIT FOR READER TO FINISH   
      00007  0021 00 0 00030         TTR     START         7  ENTER MAIN PROGRAM    
      00010  0021 00 0 00066         TTR     FPTRTN        10 FLOATING TRAP RETURN FOR DUMP     
                  
                  
                       00011  BUFF   EQU     *             DEFINE ORIGIN OF MACHINE CONDITIONS BUFFER 
                  
                       00017  NBUFF  EQU     15            LENGTH OF MACHINE CONDITIONS BUFFER  
1      M1416-4882 J. PODOLSKY   65K 7094 CTSS PANIC DUMP CARDS                                   PAGE 4     
                           MAIN PROGRAM - SAVE CPU MACHINE CONDITIONS               
                  
                                     TTL     MAIN PROGRAM - SAVE CPU MACHINE CONDITIONS   
                  
                  
                       00030  ORG    ORG     BUFF+NBUFF    SET MAIN PROGRAM ORIGIN  
                  
      00030  0564 00 0 00232  START  ENB     OCT0          JUST IN CASE, DISABLE TRAPS    
      00031 -0603 00 0 00011         DST     BUFF+(AC)     SAVE MACHINE CONDITIONS - AC AND MQ  
      00032  0604 00 0 00013         STI     BUFF+(SI)     SAVE SENSE INDICATORS    
      00033 -0604 00 0 00025         SPI     BUFF+(PI)     SAVE PROTECTION INDICATORS     
      00034 -0601 00 0 00026         SRI     BUFF+(RI)     SAVE RELOCATION INDICATORS     
      00035  0760 00 0 00004         ENK                   SAVE CONSOLE KEYS  
      00036 -0600 00 0 00027         STQ     BUFF+(KEYS)   ..     
      00037  0765 00 0 00045         LRS     37            GET AC(S,Q,P) IN MQ(S,1,2)     
      00040 -0600 00 0 00014         STQ     BUFF+(SQP)    SAVE AC(S,Q,P)     
      00041  0441 00 0 00231         LDI     IFLGS         INITIALIZE FLAG WORD     
      00042  0634 00 1 00015         SXA     BUFF+(IR1),1  SAVE INDEX REGISTERS 1,2, AND 3
      00043  0634 00 2 00016         SXA     BUFF+(IR2),2  ..     
      00044  0634 00 3 00017         SXA     BUFF+(IR3),3  ..     
      00045  0774 00 1 00000         AXT     0,1           TEST FOR MULTIPLE TAG MODE     
      00046  0774 00 3 00001         AXT     1,3           ..     
      00047 -3 00000 1 00053         TXL     *+4,1,0       WAS INDEX REGISTER 1 LOADED.   
      00050  0055 00  000001         SIR     MTFLG         YES, SET MULTIPLE TAG INDICATOR
      00051  0760 00 0 00016         LMTM                  GO TO 7-TAG MODE   
      00052  0634 00 3 00017         SXA     BUFF+(IR3),3  AND SAVE THE REAL INDEX REG. 3 
      00053  0634 00 4 00020         SXA     BUFF+(IR4),4  SAVE OTHER INDEX REGISTERS     
      00054  0634 00 5 00021         SXA     BUFF+(IR5),5  ..     
      00055  0634 00 6 00022         SXA     BUFF+(IR6),6  ..     
      00056  0634 00 7 00023         SXA     BUFF+(IR7),7  ..     
      00057 -0140 00 0 00061         TNO     *+2           SAVE ACCUMULATOR OVERFLOW
      00060  0055 00  000002         SIR     ACOVF         ..     
      00061  0760 00 0 00012         DCT                   SAVE DIVIDE CHECK INDICATOR    
      00062  0055 00  000004         SIR     DCFLG         ..     
      00063  0500 00 0 00237         CLA     FPTAD         SAVE FLOATING TRAP MODE  
      00064  0300 00 0 00237         FAD     FPTAD         ..     
      00065  0057 00  000200         RIR     FPTMD         ..     
      00066 -0760 00 0 00004  FPTRTN LFTM                  LEAVE FLOATING TRAP MODE 
      00067  0161 00 0 00071         TQO     *+2           SAVE MQ OVERFLOW INDICATOR     
      00070  0057 00  000400         RIR     MQOVF         ..     
      00071  0760 00 0 00005         IOT                   SAVE INPUT/OUTPUT CHECK INDICATOR    
      00072  0055 00  001000         SIR     IOCHK         ..     
      00073 -0500 00 0 00234         CAL     OCT10         INITIALIZE FOR SENSE LIGHT TEST
      00074  0774 00 4 00004         AXT     4,4           ..     
      00075 -0760 00 4 00145         SLT     5,4           IS THIS SENSE LIGHT ON.  
      00076 -0042 00 0 00000         RIA                   NO, RE-SET INDICATOR BIT 
      00077  0767 00 0 00001         ALS     1             SHIFT POINTER TO NEXT LIGHT    
      00100  2 00001 4 00075         TIX     *-3,4,1       WHEN FINISHED WITH LIGHTS,     
      00101 -0500 00 0 00236         CAL     BIT25         DO SAME WITH SWITCHES    
      00102  0774 00 4 00006         AXT     6,4           ..     
      00103  0760 00 4 00167         SWT     7,4           ..     
      00104 -0042 00 0 00000         RIA                   ..     
      00105  0767 00 0 00001         ALS     1             ..     
      00106  2 00001 4 00103         TIX     *-3,4,1       WHEN FINISHED WITH SWITCHES,   
      00107  0604 00 0 00024         STI     BUFF+(FLGS)   SAVE COMPOSITE FLAG WORD 
1      M1416-4882 J. PODOLSKY   65K 7094 CTSS PANIC DUMP CARDS                                   PAGE 5     
                           MAIN PROGRAM - DUMP MACHINE CONDITIONS AND CORE          
                  
                                     TTL     MAIN PROGRAM - DUMP MACHINE CONDITIONS AND CORE    
                  
                  
                              INIT   MACRO   X             INITIALIZE I/O ON CHANNEL 'X'  
                                     TCO'X'  *             WAIT FOR I/O ACTIVITY TO STOP  
                                     TRC'X'  *+1           TURN OFF REDUNDANCY INDICATOR  
                                     TEF'X'  *+1           AND END OF FILE INDICATOR
                              INIT   END                   ..     
                  
                  
      00110                          INIT    T             INITIALIZE I/O ON CHANNEL 'T'  
                                     IFF     U/512-T/512,, IF CHANNELS 'T' AND 'U' DIFFER,
                                     INIT    U             INITIALIZE CHANNEL 'U'   
      00113  0074 00 4 00173         TSX     WRITE,4       DUMP LOCATIONS 16384 THRU 16384 + 'END'    
      00114  0 00222 0 02202         PZE     U,,IOLST1     ONTO SECONDARY DUMP TAPE 
      00115 -0764 00 0 02202         BSFU                  BACK UP TAPE 'U' OVER TWO FILES
      00116 -0764 00 0 02202         BSFU                  (I.E., 3 FILE MARKS)     
      00117 -0764 00 0 02202         BSFU                  ..     
      00120  0074 00 4 00152         TSX     READ,4        SPACE 'U' BACK UP OVER FIRST FILE MARK     
      00121  0772 00 0 02201         REWT                  REWIND PRIMARY DUMP TAPE 
      00122  0074 00 4 00173         TSX     WRITE,4       WRITE OUT MACHINE CONDITIONS   
      00123  0 00223 0 02201         PZE     T,,IOLST2     ONTO PRIMARY DUMP TAPE   
      00124  0074 00 4 00152         TSX     READ,4        NOW READ LOWER CORE 'A' INTO BUFFER  
      00125  0074 00 4 00173         TSX     WRITE,4       DUMP FIRST HALF OF CORE A
      00126  0 00224 0 02201         PZE     T,,IOLST3     ..     
      00127  0074 00 4 00152         TSX     READ,4        READ UPPER CORE BACK IN  
      00130  0074 00 4 00173         TSX     WRITE,4       DUMP SECOND HALF OF CORE A     
      00131  0 00226 0 02201         PZE     T,,IOLST4     ..     
      00132 -0761 00 0 00044         EFT                   NOW TEST 32K/65K - ARE WE IN CORE B. 
      00133  0020 00 0 00137         TRA     32K           YES, MUST BE 32K (CALL IT CORE A)    
      00134 -0761 00 0 00042         SEB                   CORE A - SEE IF ECC CAN BE SET TO CORE B   
      00135 -0761 00 0 00044         EFT                   IS ECC IN CORE B, ICC IN CORE A.     
      00136  0020 00 0 00142         TRA     65K           YES, 65K SWITCH IS ON.   
      00137  0770 00 0 02201  32K    WEFT                  IN 32K - CALL IT CORE A, 
      00140  0770 00 0 02201         WEFT                  AND WRITE DUMMY FILES FOR CORE B     
      00141  0020 00 0 00147         TRA     FINIS         FINISH UP DUMP     
      00142 -0761 00 0 00041  65K    SEA                   IN 65K MODE - RETURN ECC TO CORE A   
      00143  0074 00 4 00173         TSX     WRITE,4       DUMP FIRST HALF OF CORE B
      00144  0 00227 0 02201         PZE     T,,IOLST5     ..     
      00145  0074 00 4 00173         TSX     WRITE,4       DUMP SECOND HALF OF CORE B     
      00146  0 00230 0 02201         PZE     T,,IOLST6     ..     
      00147  0772 00 0 02201  FINIS  REWT                  FINISHED - REWIND DUMP TAPES   
      00150  0772 00 0 02202         REWU                  ..     
      00151  0000 00 0 00151         HTR     *             AND HALT FOREVER   
1      M1416-4882 J. PODOLSKY   65K 7094 CTSS PANIC DUMP CARDS                                   PAGE 6     
                           SUBROUTINES USED BY DUMP PROGRAM                         
                  
                                     TTL     SUBROUTINES USED BY DUMP PROGRAM 
                  
                  
      00152  0774 00 1 00005  READ   AXT     5,1           COUNT 5 READ ATTEMPTS PER RECORD     
      00153  0762 00 0 02222  READ1  RTBU                  READ-SELECT SECONDARY DUMP TAPE
      00154 -0540 00 0 00222         RCHU    IOLST1        LOAD CHANNEL I/O COMMAND (ONLY 1 EXISTS)   
      00155  0061 00 0 00155         TCOU    *             AND WAIT FOR I/O COMPLETION    
      00156 -0030 00 4 00001         TEFU    1,4           RETURN (NORMAL) IF FILE EMPTY  
      00157 -0022 00 0 00166         TRCU    RDERR         SKIP IF REDUNDANCY READING     
      00160  0762 00 0 02222  RDEOF  RTBU                  GOOD READ - SKIP TO END OF FILE
      00161 -0540 00 0 00171         RCHU    SKPFIL        BY READING IN AN ENDLESS LOOP  
      00162  0061 00 0 00162         TCOU    *             ..     
      00163 -0022 00 0 00164         TRCU    *+1           ..     
      00164 -0030 00 0 00165         TEFU    *+1           TURN OFF END OF FILE INDICATOR 
      00165  0020 00 4 00001         TRA     1,4           AND RETURN TO CALLING PROGRAM  
      00166 -2 00001 1 00152  RDERR  TNX     READ,1,1      REDUNDANCY READING - DO WE RE-READ.  
      00167  0764 00 0 02202         BSRU                  YES, BACK UP ONE RECORD  
      00170  0020 00 0 00153         TRA     READ1         AND GO BACK TO RETRY.    
                  
      00171  2 00001 2 00000  SKPFIL IORPN   0,,1          CHANNEL PROGRAM TO SKIP TO END OF FILE     
      00172  1 00000 0 00171         TCH     *-1           ..     
                  
                  
      00173 -0500 00 4 00001  WRITE  CAL     1,4           PICK UP CONTROL WORD     
      00174 -0501 00 0 00235         ORA     OCT20         BE SURE SELECT ADDRESS IS BINARY     
      00175  0621 00 0 00205         STA     WRSEL         FORM WRITE-SELECT ADDRESS
      00176  0322 00 0 00235         ERA     OCT20         REMOVE BINARY SELECT BIT 
      00177  0621 00 0 00212         STA     WEFSEL        AND FORM EOF-SELECT ADDRESS    
      00200 -0737 00 1 00000         PDC     ,1            MOVE I/O COMMAND ORIGIN TO IR1 
      00201  0771 00 0 00012         ARS     10            ISOLATE CHANNEL NUMBER IN AC   
      00202 -0320 00 0 00233         ANA     OCT1          ..     
      00203  0737 00 2 00000         PAC     ,2            AND MOVE COMPLEMENT TO IR2     
      00204  0774 00 3 00002         AXT     2,3           COUNT FOR 2 GOOD WRITES  
      00205  0766 00 0 00000  WRSEL  WRS     **            WRITE-SELECT DESIRED TAPE
      00206  0522 00 2 00214         XEC     RCH,2         RESET-LOAD CHANNEL 
      00207  0522 00 2 00216  WRWAIT XEC     TCO,2         AND WAIT FOR I/O ACTIVITY
      00210  0522 00 2 00220         XEC     TRC,2         RE-WRITE IF REDUNDANCY DETECTED
      00211  2 00001 3 00205         TIX     WRSEL,3,1     OTHERWISE, WRITE A SECOND GOOD RECORD
      00212  0770 00 0 00200  WEFSEL WEF     **            2 GOOD RECORDS - END FILE
      00213  0020 00 4 00002         TRA     2,4           AND RETURN TO CALLER     
                  
      00214  0540 00 1 00000  RCH    RCHA    0,1           RESET AND LOAD CHANNEL A 
      00215 -0540 00 1 00000         RCHB    0,1           RESET AND LOAD CHANNEL B 
      00216  0060 00 0 00207  TCO    TCOA    WRWAIT        I/O DELAY FOR CHANNEL A  
      00217  0061 00 0 00207         TCOB    WRWAIT        I/O DELAY FOR CHANNEL B  
      00220  0022 00 0 00205  TRC    TRCA    WRSEL         REDUNDANCY RETURN FOR CHANNEL A
      00221 -0022 00 0 00205         TRCB    WRSEL         REDUNDANCY RETURN FOR CHANNEL B
1      M1416-4882 J. PODOLSKY   65K 7094 CTSS PANIC DUMP CARDS                                   PAGE 7     
                           MISCELLANEOUS STORAGE                                    
                  
                                     TTL     MISCELLANEOUS STORAGE
                  
      00222  3 00240 0 40000  IOLST1 IORT    16384,0,END   ..     
      00223  3 00017 0 00011  IOLST2 IORT    BUFF,0,NBUFF  ..     
      00224 -0 00240 0 40000  IOLST3 IOCP    16384,0,END   ..     
      00225  3 37540 0 00240         IORT    END,0,16384-END
      00226  3 40000 0 40000  IOLST4 IORT    16384,0,16384 ..     
      00227  3 40000 1 00000  IOLST5 IORT    0,1,16384     ..     
      00230  3 40000 1 40000  IOLST6 IORT    16384,1,16384 ..     
      00231  000000076770     IFLGS  VFD     18/0,18/SLTS+SWTS+FPTMD+MQOVF    
      00232 +000000000000     OCT0   OCT     0             ..     
      00233 +000000000001     OCT1   OCT     1             ..     
      00234 +000000000010     OCT10  OCT     10            ..     
      00235 +000000000020     OCT20  OCT     20            ..     
      00236 +000000002000     BIT25  OCT     2000          ..     
      00237 +377400000000     FPTAD  OCT     377400000000  ..     
                  
                       00240  END    EQU     *             DEFINE END OF PROGRAM    
                  
                                     END  
1      M1416-4882 J. PODOLSKY   65K 7094 CTSS PANIC DUMP CARDS                                   PAGE 1     
                        POST PROCESSOR ASSEMBLY DATA  
                  
        240 IS THE FIRST LOCATION NOT USED BY THIS PROGRAM  
                  
0REFERENCES TO DEFINED SYMBOLS      
       2201      T     0,  110,  111,  112,  121,  123,  126,  131,  137,  140,  144,  146,  147
       2202      U     0,    1,    0,    1,    0,    1,    3,  114,  115,  116,  117,  150,  153,  154,  155,  156,  157
                     160,  161,  162,  163,  164,  167
        137    32K   133
        142    65K   136
        240    END     2,    1,  222,  224,  225,  240
         30    ORG     1
        214    RCH   206
        216    TCO   207
        220    TRC   210
         11   BUFF    11,   30,   31,   32,   33,   34,   36,   40,   42,   43,   44,   52,   53,   54,   55,   56,  107
                     223
        232   OCT0    30
        233   OCT1   202
        152   READ   120,  124,  127,  166
        170   SLTS     0,  231
     176000   SWTS     0,  231
          0   (AC)     0,   31
          1   (MQ)     0
         14   (PI)     0,   33
         15   (RI)     0,   34
          2   (SI)     0,   32
          2  ACOVF     0,   60
        236  BIT25   101
          4  DCFLG     0,   62
        147  FINIS   141
        237  FPTAD    63,   64
        200  FPTMD     0,   65,  231
        231  IFLGS    41
       1000  IOCHK     0,   72
          0  LOAD1     0,    2
          0  LOAD2     0,    1
          0  LOAD3     0
          2  LOAD4     1
          0  LOAD5     2
          1  LOAD6     0
          2  LOAD7     1
          2  LOAD8     1
          1  LOAD9     2
        400  MQOVF     0,   70,  231
          1  MTFLG     0,   50
         17  NBUFF    11,   30,  223
        234  OCT10    73
        235  OCT20   174,  176
        160  RDEOF      
        166  RDERR   157
        153  READ1   170
         30  START     7
        173  WRITE   113,  122,  125,  130,  143,  145
        205  WRSEL   175,  211,  220,  221
          4  (IR1)     0,   42
1      M1416-4882 J. PODOLSKY   65K 7094 CTSS PANIC DUMP CARDS                                   PAGE 2     
                        POST PROCESSOR ASSEMBLY DATA  
                  
          5  (IR2)     0,   43
          6  (IR3)     0,   44,   52
          7  (IR4)     0,   53
         10  (IR5)     0,   54
         11  (IR6)     0,   55
         12  (IR7)     0,   56
          3  (SQP)     0,   40
         66 FPTRTN    10
        222 IOLST1   114,  154
        223 IOLST2   123
        224 IOLST3   126
        226 IOLST4   131
        227 IOLST5   144
        230 IOLST6   146
        171 SKPFIL   161
        212 WEFSEL   177
        207 WRWAIT   216,  217
         13 (FLGS)     0,  107
         16 (KEYS)     0,   36
                  
0 NO ERROR IN ABOVE ASSEMBLY. 




B1INP1   BCD 10/12/70 1608.0    4272         00000    
1      M1416 3845  PETER R. BOS ....... B1 DUMP INPUT PROGRAM .............      02/12/70 1030.4 PAGE 1     
                  
                                     PCC     ON 
                                     LBL     B1RD     
                                     PCC     OFF
                  
                                     EXTERN  ATTACH,OPEN,BUFFER,TRFILE,WRWAIT,CLOSE 
                                     EXTERN  PRNTER,EXIT,WRFLX,RESETF,SETIO   
                                     EXTERN  GETIME,CTIME   
                  
                                     UNLIST     
                  
                  
                  
      00015                          CALL    SETIO(=0)     INITIALIZE FILE SYSTEM IF STANDALONE 
      00017  0074 00 4 00013         TSX     GETIME,4      GET DATE AND TIME FOR FILE NAME
      00020 -0600 00 0 00247         STQ     N1            ..     
      00021 -0130 00 0 00000         XCL                   ..     
      00022  0074 00 4 00014         TSX     CTIME,4       CONVERT 60THS TO HHMM.M  
      00023  0602 00 0 00250         SLW     N2            ..     
      00024                          CALL    ATTACH(M1416,CMFL01,IOERR)  ATTACH TO TSS FILES    
      00030                          CALL    OPEN(=HW,N1,N2,=1,=2,IOERR)  OPEN DUMP FILE  
      00037                          CALL    BUFFER(N1,N2,(DBUF,,432),IOERR)  BUFFER IT   
      00044                          CALL    TRFILE(N1,N2,=0,IOERR)  INSURE LENGTH 0
                  
      00051  0074 00 4 00140         TSX     READ,4        READ FIRST RECORD OF B1 DUMP TAPE    
      00052  3 00112 0 00104         PAR     ERR1,,ERR1A   .. MACHINE CONDITION RECORD    
      00053                   WRMC   CALL    WRWAIT(N1,N2,=0,(BUFF,,MCSIZ),=-0,=-0,IOERR) 
                  
      00063  0774 00 1 00004         AXT     4,1           FOUR RECORDS OF CORE DUMP
      00064  0074 00 4 00140  RDMEM  TSX     READ,4        READ NEXT CORE DUMP RECORD     
      00065  3 00124 0 00117         PAR     ERR2,,ERR2A   ..     
      00066                   WRMEM  CALL    WRWAIT(N1,N2,=0,(BUFF,,16384),=-0,=-0,IOERR) 
      00076  2 00001 1 00064         TIX     RDMEM,1,1     ..     
                  
      00077                          CALL    CLOSE(N1,N2,IOERR)   
      00103  0074 00 4 00007         TSX     EXIT,4        EXIT TO FMS OR STOP
                  
                  
      00104                   ERR1   TYPE    (/ MACHINE CONDITIONS NOT ON DUMP TAPE./)    
      00106  0774 00 4 00017  ERR1X  AXT     MCSIZ,4       CLEAR I/O DATA AREA
      00107  0600 00 4 00270         STZ     BUFF+MCSIZ,4  ..     
      00110  2 00001 4 00107         TIX     *-1,4,1       ..     
      00111  0020 00 0 00053         TRA     WRMC          AND WRITE OUT ZEROS
                  
      00112 -0500 00 0 41152  ERR1A  CAL     =HFILE 1      COMMENT FOR BAD FILE     
      00113  0602 00 0 41145         SLW     ERRCM+5       ..     
      00114  0074 00 4 00010         TSX     WRFLX,4       ..     
      00115  0 00007 0 41140         PZE     ERRCM,,LERRCM ..     
      00116  0020 00 0 00106         TRA     ERR1X         ..     
                  
      00117 -0500 00 1 00245  ERR2   CAL     NPNT,1        PICK UP POINTER TO COMMENT FOR EMPTY FILE  
      00120  0602 00 0 00122         SLW     *+2           ..     
      00121  0074 00 4 00010         TSX     WRFLX,4       PRINT COMMENT
      00122  0 00000 0 00000         PZE     -,,-          ..     
      00123  0020 00 0 00130         TRA     ERR2X         SKIP   
      00124 -0500 00 1 00241  ERR2A  CAL     EWRD,1        GET FILE NUMBER FOR COMMENT    
      00125  0602 00 0 41145         SLW     ERRCM+5       ..     
1      M1416 3845  PETER R. BOS ....... B1 DUMP INPUT PROGRAM .............      02/12/70 1030.4 PAGE 2     
                  
      00126                          TYPE    (/ UNRECOVERABLE TAPE ERRORS IN FILE X./),ERRCM,LERRCM   
      00130  0774 00 4 40000  ERR2X  AXT     16384,4       CLEAR BUFFER 
      00131  0600 00 4 40251         STZ     BUFF+16384,4  ..     
      00132  2 00001 4 00131         TIX     *-1,4,1       ..     
      00133  0020 00 0 00066         TRA     WRMEM         AND GO WRITE ZERO RECORD INTO FILE   
                  
                  
      00134  0074 00 4 00006  IOERR  TSX     PRNTER,4      HERE FOR FILE I/O ERROR  
      00135                          CALL    RESETF(*+1)   RESET FILE   
      00137  0074 00 4 00007         TSX     EXIT,4        AND EXIT TO FMS OR STOP  
1      M1416 3845  PETER R. BOS ....... B1 DUMP INPUT PROGRAM .............      02/12/70 1030.4 PAGE 3     
                  
                  
                       02201  T      TAPENO  B1            DUMP TAPE IS B1, BINARY  
                  
      00140  0634 00 4 00156  READ   SXA     READX,4       ROUTINE TO READ FROM B1 TAPE   
      00141  0762 00 0 02221         RTBT                  SELECT DUMP TAPE FOR READING   
      00142 -0540 00 0 00172         RCHT    RDIOP         START CHANNEL
      00143  0061 00 0 00143         TCOT    *             WAIT FOR I/O COMPLETION  
      00144 -0030 60 4 00001         TEFT*   1,4           EMPTY FILE RETURN  
      00145 -0500 00 4 00001         CAL     1,4           ..     
      00146  0774 00 4 00005         AXT     5,4           SET TO TRY FIVE TIMES PER RECORD     
      00147  0020 00 0 00154         TRA     READ3         .. SKIP TO CHECK FOR REDUNDANCY
                  
      00150  0774 00 4 00005  READ1  AXT     5,4           REENTRY TO TRY SECOND RECORD IN THIS FILE  
      00151  0762 00 0 02221  READ2  RTBT                  SELECT TAPE FOR READING  
      00152 -0540 00 0 00172         RCHT    RDIOP         START CHANNEL ON THIS RECORD   
      00153  0061 00 0 00153         TCOT    *             WAIT FOR I/O COMPLETION  
      00154 -0022 00 0 00165  READ3  TRCT    READ4         CHECK FOR REDUNDANCY READING   
      00155 -0030 00 0 00170         TEFT    READ5         CHECK FOR END-OF-FILE    
      00156  0774 00 4 00000  READX  AXT     -,4           SUCCESSFUL READ, RESTORE X4    
      00157  0762 00 0 02221  RDEOF  RTBT                  SPACE TO NEXT END OF FILE MARK 
      00160 -0540 00 0 00173         RCHT    SKPFIL        ..     
      00161  0061 00 0 00161         TCOT    *             ..     
      00162 -0022 00 0 00163         TRCT    *+1           ..     
      00163 -0030 00 4 00002         TEFT    2,4           NORMAL RETURN AT END OF FILE   
      00164  0020 00 0 00157         TRA     RDEOF         KEEP SKIPPING
                  
      00165 -2 00001 4 00150  READ4  TNX     READ1,4,1     HERE FOR REDUNDANCY READING.   
      00166  0764 00 0 02201         BSRT                  IF NOT LAST TRY, BACKSPACE RECORD    
      00167  0020 00 0 00151         TRA     READ2         AND READ AGAIN     
                  
      00170 -0737 00 4 00000  READ5  PDC     ,4            HERE FOR END OF FILE WITHOUT READING 
      00171  0020 00 4 00000         TRA     0,4           .. GIVE ERROR RETURN     
                  
      00172  3 40000 0 00251  RDIOP  IORT    BUFF,,16384   CHANNEL COMMAND TO READ RECORD 
      00173  3 00001 0 00174  SKPFIL IORT    *+1,,1        CHANNEL COMMAND TO SKIP RECORD 
      00174  0 00000 0 00000         PZE                   ..     
1      M1416 3845  PETER R. BOS ....... B1 DUMP INPUT PROGRAM .............      02/12/70 1030.4 PAGE 4     
                  
                  
      00175  604346232163     CM01   BCI     / LOCATIONS 00000 THRU 37777 CORE A NOT ON TAPE./  
                       00010  LCM01  EQU     *-CM01        ..     
      00205  604346232163     CM02   BCI     / LOCATIONS 40000 THRU 77777 CORE A NOT ON TAPE./  
                       00010  LCM02  EQU     *-CM02        ..     
      00215  604346232163     CM03   BCI     / LOCATIONS 00000 THRU 37777 CORE B NOT ON TAPE./  
                       00010  LCM03  EQU     *-CM03        ..     
      00225  604346232163     CM04   BCI     / LOCATIONS 40000 THRU 77777 CORE B NOT ON TAPE./  
                       00010  LCM04  EQU     *-CM04        ..     
                  
      00235  263143256002            BCI     1,FILE 2      ..     
      00236  263143256003            BCI     1,FILE 3      ..     
      00237  263143256004            BCI     1,FILE 4      ..     
      00240  263143256005            BCI     1,FILE 5      ..     
                       00241  EWRD   SYN     *  
                  
      00241  0 00010 0 00175         PZE     CM01,,LCM01   ..     
      00242  0 00010 0 00205         PZE     CM02,,LCM02   ..     
      00243  0 00010 0 00215         PZE     CM03,,LCM03   ..     
      00244  0 00010 0 00225         PZE     CM04,,LCM04   ..     
                       00245  NPNT   SYN     *  
                  
                  
      00245  604401040106     M1416  BCI     1, M1416 
      00246  234426430001     CMFL01 BCI     1,CMFL01 
      00247  0 00000 0 00000  N1     PZE  
      00250  0 00000 0 00000  N2     PZE  
                  
      00251                   BUFF   BSS     16384    
      40251                   DBUF   BSS     432
                       00017  MCSIZ  EQU     15            SIZE OF MACHINE CONDITION BLOCK
                  
      41131                          RMT     *  
      41131  604421233031     ..001  BCI     / MACHINE CONDITIONS NOT ON DUMP TAPE./                          .001
      41140  606445512523     ERRCM  BCI     / UNRECOVERABLE TAPE ERRORS IN FILE X./                          .001
                                     END  
                  
        LITERALS  
      41147  000000000000     
      41150  000000000001     
      41151  000000000002     
      41152  263143256001     
      41153  400000000000     
      41154  666060606060     
1      M1416 3845  PETER R. BOS ....... B1 DUMP INPUT PROGRAM .............      02/12/70 1030.4 PAGE 1     
                        POST PROCESSOR ASSEMBLY DATA  
                  
      41155 IS THE FIRST LOCATION NOT USED BY THIS PROGRAM  
                  
0REFERENCES TO DEFINED SYMBOLS      
       2201      T   140,  141,  142,  143,  144,  151,  152,  153,  154,  155,  157,  160,  161,  162,  163,  166
        247     N1    20,   32,   40,   45,   54,   67,  100
        250     N2    23,   33,   41,   46,   55,   70,  101
        251   BUFF    57,   72,  107,  131,  172
        175   CM01   205,  241
        205   CM02   215,  242
        215   CM03   225,  243
        225   CM04   235,  244
      40251   DBUF    42
        104   ERR1    52
        117   ERR2    65
        241   EWRD   124,  241
          7   EXIT   103,  137
        245   NPNT   117,  245
          1   OPEN    30
        140   READ    51,   64
         53   WRMC   111
          5  CLOSE    77
         14  CTIME    22
        112  ERR1A    52
        106  ERR1X   116
        124  ERR2A    65
        130  ERR2X   123
      41140  ERRCM   113,  115,  125,  127,41147
        134  IOERR    27,   36,   43,   50,   62,   75,  102
      41131  ..001   105,41140
          7  ..002   105,41140
         10  LCM01   205,  241
         10  LCM02   215,  242
         10  LCM03   225,  243
         10  LCM04   235,  244
        245  M1416    25
         17  MCSIZ    57,  106,  107,41131
        157  RDEOF   164
        172  RDIOP   142,  152
         64  RDMEM    76
        150  READ1   165
        151  READ2   167
        154  READ3   147
        165  READ4   154
        170  READ5   155
        156  READX   140
         12  SETIO    15
         10  WRFLX   104,  114,  121,  126
         66  WRMEM   133
          0 ATTACH    24
          2 BUFFER    37
        246 CMFL01    26
         13 GETIME    17
          7 LERRCM   115,  127,41147
          6 PRNTER   134
1      M1416 3845  PETER R. BOS ....... B1 DUMP INPUT PROGRAM .............      02/12/70 1030.4 PAGE 2     
                        POST PROCESSOR ASSEMBLY DATA  
                  
         11 RESETF   135
        173 SKPFIL   160
          3 TRFILE    44
          4 WRWAIT    53,   66
                  
0 NO ERROR IN ABOVE ASSEMBLY. 
1      M1416 3845  PETER R. BOS ..... FILE SYSTEM ENTRIES FOR BACKGROUND .....   02/12/70 1025.6 PAGE 1     
                  
                                     PCC     ON 
                                     BCORE
                                     NOLNK
                       00000         ENTRY   SETIO         DUMMY ENTRY TO INITIALIZE FILE SYSTEM
                       00001         ENTRY   GETIME        GET DATE AND TIME OF DAY 
                       00002         ENTRY   TPWAIT        WAIT ON TAPE CHANNELS    
                       00024         ENTRY   FERRTN        SET UP FILE ERROR RETURN 
                       00025         ENTRY   TILOCK        SET UP FILE INTERLOCK RETURN   
                       00026         ENTRY   EXIT          EXIT TO FMS OR STOP
                       00027         ENTRY   PRINT         PRINT ON ON-LINE PRINTER 
                       00030         ENTRY   PUNCH         PUNCH CARD ONLINE  
                       00031         ENTRY   EPRINT        PRINT ONLINE DISABLED    
                       00032         ENTRY   WRFLX         TYPE ON TYPEWRITER (FOR COMPATIBILITY)     
                  
                       00033         ENTRY   UPDMFD        ENTRIES TO CTSS FILE COORDINATOR     
                       00034         ENTRY   DELMFD        ..     
                       00035         ENTRY   ATTACH        ..     
                       00036         ENTRY   ATTNAM        ..     
                       00037         ENTRY   UPDATE        ..     
                       00040         ENTRY   SETPRI        ..     
                       00041         ENTRY   OPEN          ..     
                       00042         ENTRY   BUFFER        ..     
                       00043         ENTRY   RDFILE        ..     
                       00044         ENTRY   RDWAIT        ..     
                       00045         ENTRY   WRFILE        ..     
                       00046         ENTRY   WRWAIT        ..     
                       00047         ENTRY   TRFILE        ..     
                       00050         ENTRY   FCHECK        ..     
                       00051         ENTRY   FWAIT         ..     
                       00052         ENTRY   CLOSE         ..     
                       00053         ENTRY   RESETF        ..     
                       00054         ENTRY   CHFILE        ..     
                       00055         ENTRY   DELFIL        ..     
                       00056         ENTRY   FSTATE        ..     
                       00057         ENTRY   MOVFIL        ..     
                       00060         ENTRY   SETFIL        ..     
                       00061         ENTRY   LINK          ..     
                       00062         ENTRY   UNLINK        ..     
                       00063         ENTRY   ALLOT         ..     
                       00064         ENTRY   STORGE        ..     
                       00065         ENTRY   MOUNT         ..     
                       00066         ENTRY   UMOUNT        ..     
                       00067         ENTRY   VERIFY        ..     
                       00070         ENTRY   LABEL         ..     
                       00071         ENTRY   TAPFIL        ..     
                       00072         ENTRY   IODIAG        ..     
                                     LBL     FSYS     
                                     PCC     OFF
                  
                  
      00000  0020 00 4 00002  SETIO  TRA     2,4           DUMMY INITIALIZE ENTRY   
                  
      00001  0101 00 0 00110  GETIME TIA     =HGETIME      ..     
1      M1416 3845  PETER R. BOS ..... FILE SYSTEM ENTRIES FOR BACKGROUND .....   02/12/70 1025.6 PAGE 2     
                  
      00002  0634 00 1 00012  TPWAIT SXA     TPX1,1        WAIT ON TAPE CHANNELS    
      00003 -0500 00 4 00001         CAL     1,4           CHANNEL NUMBER     
      00004  0737 00 1 00000         PAC     ,1            ..     
      00005 -3 77775 1 00011         TXL     OOPS,1,-3     BAD CHANNEL NO.    
      00006  0522 00 1 00013  BACK   XEC     TCO,1         WAIT FOR I/O COMPLETION  
      00007  0522 00 1 00015         XEC     TRC,1         CHECK FOR REDUNDANCY     
      00010  0522 00 1 00017         XEC     TEF,1         CHECK FOR EOF
      00011  1 77774 4 00012  OOPS   TXI     *+1,4,-4      NORMAL RETURN 4,4  
      00012  0774 00 1 00000  TPX1   AXT     -,1           RESTORE X1   
      00013  0020 00 4 00000         TRA     0,4           EXIT   
                       00013  TCO    SYN     *-1           TABLE OF TCOX INST.
      00014  0060 00 0 00006         TCOA    BACK          ..     
      00015  0061 00 0 00006         TCOB    BACK          ..     
                       00015  TRC    SYN     *-1           TABLE OF TRCX
      00016  0022 00 0 00022         TRCA    ERR           ..     
      00017 -0022 00 0 00022         TRCB    ERR           ..     
                       00017  TEF    SYN     *-1           TABLE OF TEFX
      00020  0030 00 0 00023         TEFA    EOF           ..     
      00021 -0030 00 0 00023         TEFB    EOF           ..     
      00022  1 77776 4 00012  ERR    TXI     TPX1,4,-2     TAPE CHECK RETURN 2,4    
      00023  1 77775 4 00012  EOF    TXI     TPX1,4,-3     EOF RETURN 3,4     
                  
      00024  0101 00 0 00105  FERRTN TIA     =HFERRTN      ..     
      00025  0101 00 0 00130  TILOCK TIA     =HTILOCK      ..     
      00026  0101 00 0 00101  EXIT   TIA     =HDEAD        ..     
      00027  0101 00 0 00117  PRINT  TIA     =HPRINT       ..     
      00030  0101 00 0 00120  PUNCH  TIA     =HPUNCH       ..     
      00031  0101 00 0 00117  EPRINT TIA     =HPRINT       ..     
      00032  0101 00 0 00140  WRFLX  TIA     =HWRFLX       ..     
                  
      00033  0101 00 0 00135  UPDMFD TIA     =HUPDMFD      FILE COORDINATOR ENTRIES 
      00034  0101 00 0 00103  DELMFD TIA     =HDELMFD      ..     
      00035  0101 00 0 00074  ATTACH TIA     =HATTACH      ..     
      00036  0101 00 0 00075  ATTNAM TIA     =HATTNAM      ..     
      00037  0101 00 0 00134  UPDATE TIA     =HUPDATE      ..     
      00040  0101 00 0 00125  SETPRI TIA     =HSETPRI      ..     
      00041  0101 00 0 00116  OPEN   TIA     =HOPEN        ..     
      00042  0101 00 0 00076  BUFFER TIA     =HBUFFER      ..     
      00043  0101 00 0 00121  RDFILE TIA     =HRDFILE      ..     
      00044  0101 00 0 00122  RDWAIT TIA     =HRDWAIT      ..     
      00045  0101 00 0 00137  WRFILE TIA     =HWRFILE      ..     
      00046  0101 00 0 00141  WRWAIT TIA     =HWRWAIT      ..     
      00047  0101 00 0 00131  TRFILE TIA     =HTRFILE      ..     
      00050  0101 00 0 00104  FCHECK TIA     =HFCHECK      ..     
      00051  0101 00 0 00107  FWAIT  TIA     =HFWAIT       ..     
      00052  0101 00 0 00100  CLOSE  TIA     =HCLOSE       ..     
      00053  0101 00 0 00123  RESETF TIA     =HRESETF      ..     
      00054  0101 00 0 00077  CHFILE TIA     =HCHFILE      ..     
      00055  0101 00 0 00102  DELFIL TIA     =HDELFIL      ..     
      00056  0101 00 0 00106  FSTATE TIA     =HFSTATE      ..     
      00057  0101 00 0 00115  MOVFIL TIA     =HMOVFIL      ..     
      00060  0101 00 0 00124  SETFIL TIA     =HSETFIL      ..     
      00061  0101 00 0 00113  LINK   TIA     =HLINK        ..     
      00062  0101 00 0 00133  UNLINK TIA     =HUNLINK      ..     
      00063  0101 00 0 00073  ALLOT  TIA     =HALLOT       ..     
      00064  0101 00 0 00126  STORGE TIA     =HSTORGE      ..     
1      M1416 3845  PETER R. BOS ..... FILE SYSTEM ENTRIES FOR BACKGROUND .....   02/12/70 1025.6 PAGE 3     
                  
      00065  0101 00 0 00114  MOUNT  TIA     =HMOUNT       ..     
      00066  0101 00 0 00132  UMOUNT TIA     =HUMOUNT      ..     
      00067  0101 00 0 00136  VERIFY TIA     =HVERIFY      ..     
      00070  0101 00 0 00112  LABEL  TIA     =HLABEL       ..     
      00071  0101 00 0 00127  TAPFIL TIA     =HTAPFIL      ..     
      00072  0101 00 0 00111  IODIAG TIA     =HIODIAG      ..     
                  
      00073                          RMT     *  
                                     END  
                  
        LITERALS  
      00073  214343466360     
      00074  216363212330     
      00075  216363452144     
      00076  226426262551     
      00077  233026314325     
      00100  234346622560     
      00101  242521246060     
      00102  242543263143     
      00103  242543442624     
      00104  262330252342     
      00105  262551516345     
      00106  266263216325     
      00107  266621316360     
      00110  272563314425     
      00111  314624312127     
      00112  432122254360     
      00113  433145426060     
      00114  444664456360     
      00115  444665263143     
      00116  464725456060     
      00117  475131456360     
      00120  476445233060     
      00121  512426314325     
      00122  512466213163     
      00123  512562256326     
      00124  622563263143     
      00125  622563475131     
      00126  626346512725     
      00127  632147263143     
      00130  633143462342     
      00131  635126314325     
      00132  644446644563     
      00133  644543314542     
      00134  644724216325     
      00135  644724442624     
      00136  652551312670     
      00137  665126314325     
      00140  665126436760     
      00141  665166213163     
1      M1416 3845  PETER R. BOS ..... FILE SYSTEM ENTRIES FOR BACKGROUND .....   02/12/70 1025.6 PAGE 1     
                        POST PROCESSOR ASSEMBLY DATA  
                  
        142 IS THE FIRST LOCATION NOT USED BY THIS PROGRAM  
                  
0REFERENCES TO DEFINED SYMBOLS      
         23    EOF    20,   21
         22    ERR    16,   17
         13    TCO     6,   14
         17    TEF    10,   20
         15    TRC     7,   16
          6   BACK    14,   15
         26   EXIT     0
         61   LINK     0
         11   OOPS     5
         41   OPEN     0
         12   TPX1     2,   22,   23
         63  ALLOT     0
         52  CLOSE     0
         51  FWAIT     0
         70  LABEL     0
         65  MOUNT     0
         27  PRINT     0
         30  PUNCH     0
          0  SETIO     0
         32  WRFLX     0
         35 ATTACH     0
         36 ATTNAM     0
         42 BUFFER     0
         54 CHFILE     0
         55 DELFIL     0
         34 DELMFD     0
         31 EPRINT     0
         50 FCHECK     0
         24 FERRTN     0
         56 FSTATE     0
          1 GETIME     0
         72 IODIAG     0
         57 MOVFIL     0
         43 RDFILE     0
         44 RDWAIT     0
         53 RESETF     0
         60 SETFIL     0
         40 SETPRI     0
         64 STORGE     0
         71 TAPFIL     0
         25 TILOCK     0
          2 TPWAIT     0
         47 TRFILE     0
         66 UMOUNT     0
         62 UNLINK     0
         37 UPDATE     0
         33 UPDMFD     0
         67 VERIFY     0
         45 WRFILE     0
         46 WRWAIT     0
1      M1416 3845  PETER R. BOS ..... FILE SYSTEM ENTRIES FOR BACKGROUND .....   02/12/70 1025.6 PAGE 2     
                        POST PROCESSOR ASSEMBLY DATA  
                  
0 NO ERROR IN ABOVE ASSEMBLY. 




B1PRT1   BCD 10/12/70 1649.8   21646         00000    




B1MAIN   BCD 09/20/68 1637.4    3269         00000    
1      M1416-4882 J. PODOLSKY   CTSS DIAGNOSTIC DUMP INTERPRETER PROGRAM                         PAGE 1     
                  
                                     PCC     ON 
                                     COUNT   200
                                     LBL     MAIN     
                  
        TRANSFER VECTOR 
      00000  336225636447     .SETUP
      00001  433162636060     LIST  
      00002  234764244447     CPUDMP
      00003  742464444734     (DUMP)
      00004  256731636060     EXIT  
                  
                       00005  START  EQU     *             ..     
                                     TITLE                 ..     
                                     NOCRS                 ..     
                  
                  
                                             THIS PROGRAM IS TO BE USED TO OBTAIN OCTAL/SYMBOLIC
                                             LISTINGS FROM 'PANIC DUMPS' OF CTSS.  THE TAPE ON  
                                             DRIVE 'T' SHOULD BE DIVIDED INTO 5 FILES ..  
                  
                                             FILE  1       MACHINE CONDITIONS 
                                             FILE  2       CORE 'A', LOCATIONS 00000 THRU 37777 
                                             FILE  3       CORE 'A', LOCATIONS 40000 THRU 77777 
                                             FILE  4       CORE 'B', LOCATIONS 00000 THRU 37777 
                                             FILE  5       CORE 'B', LOCATIONS 40000 THRU 77777 
                  
                                             EACH FILE MAY CONTAIN AS MANY RECORDS AS IT WISHES,
                                             THOUGH THE DUMP PROGRAM WILL USE ONLY THE FIRST GOOD     
                                             RECORD IT CAN FIND.  IF A DUMP OF A PARTICULAR FILE
                                             IS NOT DESIRED, THEN THAT FILE SHOULD BE EMPTY - I.E.,   
                                             NO RECORDS BETWEEN THE FILE MARKS.  THE FILE MUST BE     
                                             EXISTENT, EVEN IF IT IS EMPTY.   
                  
                  
                       02201  T      TAPENO  B1            DRIVE CONTAINING DUMP TAPE     
1      M1416-4882 J. PODOLSKY   CTSS DIAGNOSTIC DUMP INTERPRETER PROGRAM                         PAGE 2     
                           MACRO'S TO MANIPULATE OFF-LINE PRINTED OUTPUT            
                  
                                     TTL     MACRO'S TO MANIPULATE OFF-LINE PRINTED OUTPUT
                  
                  
                                             $LIST - ROUTINE TO WRITE F.M.S. LISTING OUTPUT TAPE
                  
                                             CALLING SEQUENCE ..  
                  
                                                           TSX $LIST,4  
                                                           VFD  H6/C,2/F,5/B,5/N,3/T,15/LINE    
                  
                                             THE N-WORD BCI STRING BEGINNING AT LINE IS TO BE WRITTEN 
                                             ONTO THE OUTPUT TAPE WITH B WORDS OF BLANKS PRECEDING    
                                             AND C AS CARRIAGE CONTROL.  F IS A 2-BIT FLAG WHICH
                                             SPECIFIES INDIRECTION (BIT 6) AND ON-LINE PRINT (BIT     
                                             7).  T IS A TAG MODIFIER WITH THE INDIRECT FEATURE 
                                             ONLY.    
                  
                  
                              PARM   MACRO   LINE,COUNT,NBLNKS,CARG     
                                     VFD     H6/'CARG',2/0,5/'NBLNKS',5/'COUNT',3/0,15/'LINE'   
                              PARM   END  
                  
                              PNTR   MACRO   ADDR,TAG 
                                     PZE     ADDR,TAG,2048  
                              PNTR   END  
1      M1416-4882 J. PODOLSKY   CTSS DIAGNOSTIC DUMP INTERPRETER PROGRAM                         PAGE 3     
                           MAIN PROGRAM FOR CTSS DUMP INTERPRETER                   
                  
                                     TTL     MAIN PROGRAM FOR CTSS DUMP INTERPRETER 
                  
      00005  0074 00 4 00000         TSX     $.SETUP,4     CALL F.M.S. SETUP ROUTINE
      00006  0760 00 0 00140         SLF                   TURN OFF SENSE LIGHTS    
      00007  0772 00 0 02201         REWT                  REWIND DUMP TAPE   
      00010  0061 00 0 00010         TCOT    *             MAKE SURE TAPE IS READIED
      00011 -0022 00 0 00012         TRCT    *+1           TURN OFF REDUNDANCY AND END OF FILE  
      00012 -0030 00 0 00013         TEFT    *+1           ..     
                  
      00013  0074 00 4 00001  DUMP0  TSX     $LIST,4       PRINT HEADING FOR CPU DUMP     
      00014                          PARM    CMNT01,5,8,1  5 WORDS, 8 BLANKS, NEW PAGE    
      00015  0074 00 4 00001         TSX     $LIST,4       SPACE AN EXTRA 3 BLANK LINES   
      00016                          PARM    0,0,1,-       ONE BLANK, TRIPLE SPACE  
      00017  0074 00 4 00115         TSX     READ,4        TRY TO READ ONE GOOD RECORD FROM FILE 1    
      00020  0 00064 0 00061         PZE     ERR1,,ERR2    RETURNS FOR EMPTY FILE,,BAD FILE     
      00021  0074 00 4 00002         TSX     $CPUDMP,4     GOOD READ, DUMP MACHINE CONDITIONS   
      00022  0 00000 0 37462         PZE     BUFF          ..     
      00023  0774 00 1 00002  DUMP1  AXT     2,1           COUNT 2 CORES (A AND B)  
      00024  0074 00 4 00001  DUMP2  TSX     $LIST,4       PRINT HEADING FOR THIS CORE (A OR B) 
      00025                          PNTR    MEMNO+2,1     INDIRECT CONTROL WORD FOR $LIST
      00026  0074 00 4 00001         TSX     $LIST,4       PRINT 3 EXTRA BLANK LINES
      00027                          PARM    0,0,1,-       ..     
      00030  0074 00 4 00115         TSX     READ,4        READ A GOOD RECORD FROM THIS FILE    
      00031  0 00072 0 00067         PZE     ERR3,,ERR4    ERROR RETURNS
      00032  0074 00 4 00003         TSX     $(DUMP),4     NO ERRORS, DUMP BUFFER LOAD    
      00033 -0 37774 0 37462         MZE     BUFF,,16380   (WORD COUNT SHOULD BE MULT. OF 6)    
      00034  0 00000 0 00000         PZE     0             ORIGIN TO APPEAR ON LISTING    
      00035  0774 00 4 00004         AXT     4,4           MOVE 4 LAST WORDS OF BUFFER TO BELOW BUFF  
      00036 -0500 00 4 77462         CAL     BUFF+16384,4  ..     
      00037  0602 00 4 37462         SLW     BUFF,4        ..     
      00040  2 00001 4 00036         TIX     *-2,4,1       ..     
      00041  0760 00 0 00141         SLN     1             INDICATE EXISTENCE OF 4 WORDS BELOW BUFF   
      00042  0074 00 4 00115  DUMP3  TSX     READ,4        NOW READ NEXT FILE 
      00043  0 00105 0 00075         PZE     ERR5,,ERR6    ..     
      00044 -0760 00 0 00141         SLT     1             NO ERRORS, WAS FIRST HALF SKIPPED.   
      00045  0020 00 0 00052         TRA     *+5           YES, USE SECOND CALLING SEQUENCE     
      00046  0074 00 4 00003         TSX     $(DUMP),4     NO, DUMP 16388 WORDS FROM BUFF-4     
      00047  0 40004 0 37456         PZE     BUFF-4,,16388 ..     
      00050  0 00000 0 37774         PZE     16380         LISTING ORIGIN     
      00051  0020 00 0 00055         TRA     *+4           SKIP OVER SECOND CALLING SEQUENCE    
      00052  0074 00 4 00003         TSX     $(DUMP),4     DUMP 16384 WORDS FROM BUFF     
      00053 -0 40000 0 37462         MZE     BUFF,,16384   ..     
      00054  0 00000 0 40000         PZE     16384         ORIGIN TO APPEAR ON LISTING    
      00055  2 00001 1 00024  DUMP4  TIX     DUMP2,1,1     FINISHED, BACK FOR MORE IF CORE B FOLLOWS  
      00056  0074 00 4 00001         TSX     $LIST,4       FINISHED, COMMENT AS SUCH
      00057                          PARM    CMNT10,3,9,-  ..     
      00060  0074 00 4 00004         TSX     $EXIT,4       AND TAKE NORMAL EXIT     
1      M1416-4882 J. PODOLSKY   CTSS DIAGNOSTIC DUMP INTERPRETER PROGRAM                         PAGE 4     
                           ERROR PROCEDURES                                         
                  
                                     TTL     ERROR PROCEDURES     
                  
      00061  0074 00 4 00001  ERR1   TSX     $LIST,4       NO MACHINE CONDITIONS    
      00062                          PARM    CMNT04,7,7,-  ..     
      00063  0020 00 0 00023         TRA     DUMP1         SKIP TO CORE DUMP SECTION
      00064  0074 00 4 00001  ERR2   TSX     $LIST,4       CAN'T READ MACHINE CONDITIONS  
      00065                          PARM    CMNT07,11,5,- ..     
      00066  0020 00 0 00023         TRA     DUMP1         SKIP TO CORE DUMP SECTION
      00067  0074 00 4 00001  ERR3   TSX     $LIST,4       FIRST HALF OF CORE NOT ON TAPE 
      00070                          PARM    CMNT05,8,7,-  ..     
      00071  0020 00 0 00042         TRA     DUMP3         DUMP SECOND HALF OF CORE 
      00072  0074 00 4 00001  ERR4   TSX     $LIST,4       FIRST HALF OF CORE CAN'T BE READ     
      00073                          PARM    CMNT08,12,5,- ..     
      00074  0020 00 0 00042         TRA     DUMP3         DUMP SECOND HALF OF CORE 
      00075 -0760 00 0 00141  ERR5   SLT     1             SECOND HALF NOT ON TAPE, TEST FIRST HALF.  
      00076  0020 00 0 00102         TRA     *+4           FIRST HALF WAS SKIPPED ALSO.   
      00077  0074 00 4 00003         TSX     $(DUMP),4     FIRST HALF DUMPED - COMPLETE IT.     
      00100  0 00004 0 37456         PZE     BUFF-4,,4     ..     
      00101  0 00000 0 37774         PZE     16380         ..     
      00102  0074 00 4 00001         TSX     $LIST,4       COMMENT, SECOND HALF NOT ON TAPE     
      00103                          PARM    CMNT06,8,7,-  ..     
      00104  0020 00 0 00055         TRA     DUMP4         AND SKIP TO FINISH OF 2'ND HALF
      00105 -0760 00 0 00141  ERR6   SLT     1             SECOND HALF CAN'T BE READ.     
      00106  0020 00 0 00112         TRA     *+4           FIRST HALF WAS NOT DUMPED, SKIP.     
      00107  0074 00 4 00003         TSX     $(DUMP),4     DUMP 4 WORDS IN BUFF-4 THRU BUFF-1   
      00110  0 00004 0 37456         PZE     BUFF-4,,4     ..     
      00111  0 00000 0 37774         PZE     16380         LISTING ORIGIN     
      00112  0074 00 4 00001         TSX     $LIST,4       COMMENT, 2'ND HALF CAN'T BE READ     
      00113                          PARM    CMNT09,12,5,- ..     
      00114  0020 00 0 00055         TRA     DUMP4         AND GO BACK TO FINISH OF 2'ND HALF   
1      M1416-4882 J. PODOLSKY   CTSS DIAGNOSTIC DUMP INTERPRETER PROGRAM                         PAGE 5     
                           READ, ROUTINE TO READ DUMP TAPE                          
                  
                                     TTL     READ, ROUTINE TO READ DUMP TAPE  
                  
                  
                                             CALLING SEQUENCE ..  
                  
                                                           TSX  READ,4  
                                                           PZE  IEOF,,TEOF    
                  
                                             THE DUMP TAPE ON DRIVE 'T' IS READ INTO CORE BEGINNING   
                                             AT 'BUFF', AND THEN THE TAPE IS SPACED TO AN END OF
                                             FILE.  IF THE FILE IS EMPTY, RETURN WILL BE TO 'IEOF'.   
                                             IF NO RECORD CAN BE READ SUCCESSFULLY, RETURN WILL BE    
                                             TO 'TEOF'.  IN ANY CASE, THE TAPE WILL BE LEFT PAST AN   
                                             END OF FILE MARKER.  
                  
      00115  0634 00 4 00133  READ   SXA     READX,4       SAVE CALLING LINKAGE     
      00116  0762 00 0 02221         RTBT                  ISSUE READ-SELECT FOR DUMP TAPE
      00117 -0540 00 0 00147         RCHT    RDIOP         LOAD CHANNEL PROGRAM ORIGIN    
      00120  0061 00 0 00120         TCOT    *             AND WAIT FOR I/O COMPLETION    
      00121 -0030 60 4 00001         TEFT*   1,4           WAS END OF FILE SENSED.  
      00122 -0500 00 4 00001         CAL     1,4           NO, PICK UP CONTROL WORD 
      00123  0774 00 4 00005         AXT     5,4           SET NUMBER TIMES TO READ 1ST RECORD  
      00124  0020 00 0 00131         TRA     READ3         AND SKIP TO CHECK FOR READ ERRORS    
                  
      00125  0774 00 4 00005  READ1  AXT     5,4           RE-ENTRY TO ATTEMPT READING NEW RECORD     
      00126  0762 00 0 02221  READ2  RTBT                  READ-SELECT DUMP TAPE    
      00127 -0540 00 0 00147         RCHT    RDIOP         LOAD CHANNEL I/O SEQUENCE
      00130  0061 00 0 00130         TCOT    *             AND WAIT FOR I/O ACTIVITY TO STOP    
      00131 -0022 00 0 00142  READ3  TRCT    READ4         WAS REDUNDANCY CHECK SENSED.   
      00132 -0030 00 0 00145         TEFT    READ5         NO, WAS END OF FILE SENSED.    
      00133  0774 00 4 00000  READX  AXT     **,4          NO, RESTORE INDEX REGISTER 4   
      00134  0762 00 0 02221  RDEOF  RTBT                  SKIP TO END OF FILE
      00135 -0540 00 0 00150         RCHT    SKPFIL        ..     
      00136  0061 00 0 00136         TCOT    *             ..     
      00137 -0022 00 0 00140         TRCT    *+1           TURN OFF REDUNDANCY CHECK INDICATOR  
      00140 -0030 00 4 00002         TEFT    2,4           TAKE NORMAL RETURN ON END OF FILE    
      00141  0020 00 0 00134         TRA     RDEOF         OTHERWISE, KEEP SEEKING END OF FILE MARK   
                  
      00142 -2 00001 4 00125  READ4  TNX     READ1,4,1     REDUNDANCY ERROR, IF NOT 5'TH, 
      00143  0764 00 0 02201         BSRT                  BACK UP DUMP TAPE  
      00144  0020 00 0 00126         TRA     READ2         AND TRY AGAIN ON SAME RECORD   
                  
      00145 -0737 00 4 00000  READ5  PDC     ,4            END OF FILE, MOVE 'TEOF' TO IR4
      00146  0020 00 4 00000         TRA     0,4           AND TAKE END OF FILE RETURN    
                  
                  
      00147  3 40000 0 37462  RDIOP  IORT    BUFF,,16384   I/O COMMAND TO READ INTO HALF-CORE BUFFER  
      00150  3 00001 0 00151  SKPFIL IORT    *+1,,1        I/O COMMAND TO SKIP A RECORD (CTSS COMP.)  
      00151  0 00000 0 00000         PZE     0             DUMMY WORD   
1      M1416-4882 J. PODOLSKY   CTSS DIAGNOSTIC DUMP INTERPRETER PROGRAM                         PAGE 6     
                           CONSTANTS AND TEMPORARY STORAGE                          
                  
                                     TTL     CONSTANTS AND TEMPORARY STORAGE  
                  
      00152  462363214360     CMNT01 BCI     5,OCTAL DUMP OF CPU CONSOLE ..   
      00157  462363214360     CMNT02 BCI     4,OCTAL DUMP OF CORE A ..  
      00163  462363214360     CMNT03 BCI     4,OCTAL DUMP OF CORE B ..  
      00167  442123303145     CMNT04 BCI     7,MACHINE CONDITIONS ARE NOT ON DUMP TAPE    
      00176  434623216331     CMNT05 BCI     8,LOCATIONS 00000 THRU 37777 ARE NOT ON DUMP TAPE  
      00206  434623216331     CMNT06 BCI     8,LOCATIONS 40000 THRU 77777 ARE NOT ON DUMP TAPE  
      00216  442123303145     CMNT07 BCI     9,MACHINE CONDITIONS OMITTED DUE TO REDUNDANCIES READING 
      00227  602464444760            BCI     2, DUMP TAPE   
      00231  434623216331     CMNT08 BCI     9,LOCATIONS 00000 THRU 37777 OMITTED DUE TO REDUNDANCIES 
      00242  605125212431            BCI     3, READING DUMP TAPE 
      00245  434623216331     CMNT09 BCI     9,LOCATIONS 40000 THRU 77777 OMITTED DUE TO REDUNDANCIES 
      00256  605125212431            BCI     3, READING DUMP TAPE 
      00261  254524604626     CMNT10 BCI     3,END OF CORE DUMP   
                  
      00264                   MEMNO  PARM    CMNT02,4,9,1  LIST PARAMETER FOR CORE 'A'    
      00265                          PARM    CMNT03,4,9,1  LIST PARAMETER FOR CORE 'B'    
                  
                       37462         COMMON  16383         CORE BUFFER FOR DUMP TAPE
                       37462  BUFF   COMMON  5             ..     
                  
                                     DETAIL     
                  
                                     END  
1      M1416-4882 J. PODOLSKY   CTSS DIAGNOSTIC DUMP INTERPRETER PROGRAM                         PAGE 1     
                        POST PROCESSOR ASSEMBLY DATA  
                  
       37455 IS THE LAST LOCATION NOT USED BY THIS PROGRAM  
        266 IS THE FIRST LOCATION NOT USED BY THIS PROGRAM  
                  
0REFERENCES TO DEFINED SYMBOLS      
       2201      T     5,    7,   10,   11,   12,  116,  117,  120,  121,  126,  127,  130,  131,  132,  134,  135,  136
                     137,  140,  143
      37462   BUFF    22,   33,   36,   37,   47,   53,  100,  110,  147,  266
         61   ERR1    20
         64   ERR2    20
         67   ERR3    31
         72   ERR4    31
         75   ERR5    43
        105   ERR6    43
          4   EXIT    60
          1   LIST    13,   15,   24,   26,   56,   61,   64,   67,   72,  102,  112
        115   READ    17,   30,   42
         13  DUMP0      
         23  DUMP1    63,   66
         24  DUMP2    55
         42  DUMP3    71,   74
         55  DUMP4   104,  114
        264  MEMNO    25
        134  RDEOF   141
        147  RDIOP   117,  127
        125  READ1   142
        126  READ2   144
        131  READ3   124
        142  READ4   131
        145  READ5   132
        133  READX   115
          5  START     5
        152 CMNT01    14
        157 CMNT02   264
        163 CMNT03   265
        167 CMNT04    62
        176 CMNT05    70
        206 CMNT06   103
        216 CMNT07    65
        231 CMNT08    73
        245 CMNT09   113
        261 CMNT10    57
          2 CPUDMP    21
          0 .SETUP     5
        150 SKPFIL   135
          3 (DUMP)    32,   46,   52,   77,  107
                  
0 NO ERROR IN ABOVE ASSEMBLY. 




MDMP2D   BCD 09/11/67 1731.8    3578         00000    
1      M1416-4882 J. PODOLSKY   MACHINE CONDITION DUMP ROUTINE $CPUDMP                           PAGE 1     
                  
                                     PCC     ON 
                                     NOCRS                 NO ORIGIN-CREATED SYMBOLS IN MACRO'S 
                                     COUNT   200
                                     TITLE
                                     LBL     CPUDMP   
                  
                       00005         ENTRY   CPUDMP   
                                     EXTERN  CVA,CVW,LIST   
                  
      00000  236521606060     CVA   
      00001  236566606060     CVW   
      00002  433162636060     LIST  
                  
                  
                       00005  START  EQU     *             ..     
                  
                  
                                             CALLING SEQUENCE ..  
                  
                                                           TSX $CPUDMP,4  CALL FOR SYMBOLIC DUMP
                                                           PZE  LIST      OF CONDITIONS IN 'LIST'     
                  
                                             THE LIST MUST BE ORGANIZED AS FOLLOWS ..     
                  
                       00000  (AC)   EQU     0             PZE AC(S,1-35)      ARITHMETIC ACCUMULATOR 
                       00001  (MQ)   EQU     1             PZE MQ(S,1-35)      MULTIPLIER-QUOTIENT    
                       00002  (SI)   EQU     2             PZE SI(0-35)        SENSE INDICATORS 
                       00003  (SQP)  EQU     3             PZE AC(S,Q,P,1-33)  ACCUMULATOR S,Q,P
                       00004  (IR1)  EQU     4             PZE IR1             INDEX REGISTER 1 
                       00005  (IR2)  EQU     5             PZE IR2             INDEX REGISTER 2 
                       00006  (IR3)  EQU     6             PZE IR3             INDEX REGISTER 3 
                       00007  (IR4)  EQU     7             PZE IR4             INDEX REGISTER 4 
                       00010  (IR5)  EQU     8             PZE IR5             INDEX REGISTER 5 
                       00011  (IR6)  EQU     9             PZE IR6             INDEX REGISTER 6 
                       00012  (IR7)  EQU     10            PZE IR7             INDEX REGISTER 7 
                       00013  (FLGS) EQU     11            PZE INDBTS          INDICATOR BITS   
                       00014  (PI)   EQU     12            PZE PTIND           PROTECTION INDICATORS  
                       00015  (RI)   EQU     13            PZE RLIND           RELOCATION INDICATORS  
                       00016  (KEYS) EQU     14            PZE KEYS            CONSOLE KEYS     
                  
                                             INDICATOR BITS IN (FLGS)   
                      000001  MTFLG  BOOL    1             BIT 35    MULTIPLE TAG MODE    
                      000002  ACOVF  BOOL    2             BIT 34    ACCUMULATOR OVERFLOW 
                      000004  DCFLG  BOOL    4             BIT 33    DIVIDE CHECK INDICATOR     
                      000170  SLTS   BOOL    170           BIT 29-32 SENSE LIGHTS 4 THRU 1
                      000200  FPTMD  BOOL    200           BIT 28    FLOATING TRAP MODE   
                      000400  MQOVF  BOOL    400           BIT 27    MQ OVERFLOW    
                      001000  IOCHK  BOOL    1000          BIT 26    I/O CHECK LIGHT
                      176000  SWTS   BOOL    176000        BIT 20-25 SENSE SWITCHES 6 THRU 1    
1      M1416-4882 J. PODOLSKY   MACHINE CONDITION DUMP ROUTINE $CPUDMP                           PAGE 2     
                           LIST, MACRO TO GENERATE OFF-LINE OUTPUT                  
                  
                                     TTL     LIST, MACRO TO GENERATE OFF-LINE OUTPUT
                  
                  
                                             LIST  LINE,COUNT,NBLNKS,CARG     
                  
                                             THE 'COUNT'-WORD BCI STRING BEGINNING AT 'LINE' WITH     
                                             'NBLNKS' BLANK WORDS PRECEDING IS WRITTEN ONTO THE 
                                             F.M.S. OUTPUT TAPE WITH 'CARG' AS CARRIAGE CONTROL.
                                             THE CALLING SEQUENCE GENERATED IS ..   
                  
                                                           TSX $LIST,4  
                                                           VFD  H6/'CARG',2/0,5/'NBLNKS',5/'COUNT',   
                                                                3/0,15/'LINE' 
                  
                                             THE CHARACTER 'CARG' DETERMINES CARRIAGE CONTROL AS
                                             FOLLOWS ..     
                  
                                                 +         NO SPACE     
                                                 (BLANK)   SINGLE SPACE 
                                                 0         DOUBLE SPACE 
                                                 -         TRIPLE SPACE 
                                                 1         NEW PAGE     
                                                 2         NEW HALF-PAGE
                                                 3         NEW THIRD-PAGE     
                                                 4         NEW QUARTER-PAGE   
                  
                  
                  
                  
 M                            LIST   MACRO   LINE,COUNT,NBLNKS,CARG                                               
                                     TSX     LIST,4   
                                     VFD     H6/'CARG',2/0,5/'NBLNKS',5/'COUNT',3/0,15/'LINE'   
                              LIST   END  
1      M1416-4882 J. PODOLSKY   MACHINE CONDITION DUMP ROUTINE $CPUDMP                           PAGE 3     
                           $CPUDMP, MAIN PROGRAM FOR CPU DUMP                       
                  
                                     TTL     $CPUDMP, MAIN PROGRAM FOR CPU DUMP     
                  
      00005  0634 00 1 00170  CPUDMP SXA     SAVX1,1       SAVE INDEX REGISTERS     
      00006  0634 00 2 00171         SXA     SAVX2,2       ..     
      00007  0634 00 4 00172         SXA     SAVX4,4       ..     
      00010  0604 00 0 00300         STI     SIND          SAVE SENSE INDICATORS    
      00011 -0500 00 4 00001         CAL     1,4           PICK UP ORIGIN OF MACH. CONDITIONS LIST    
      00012  0737 00 1 00000         PAC     ,1            USE INDEX REG. 1 AS A POINTER  
      00013                          LIST    LINE01,12,5,- PRINT OUT FIRST HEADING  
      00015  0074 00 4 00175         TSX     CLEAR,4       BLANK OUT LINE IMAGE BUFFER    
      00016  0560 00 1 00003         LDQ     (SQP),1       PICK UP AC(S,Q,P) IN PREFIX FIELD    
      00017  0774 00 4 00003         AXT     3,4           FORM BCI 1,S Q P   
      00020  0767 00 0 00005         ALS     5             ..     
      00021 -0763 00 0 00001         LGL     1             ..     
      00022  0767 00 0 00006         ALS     6             ..     
      00023  2 00001 4 00020         TIX     *-3,4,1       ..     
      00024 -0501 00 0 00320         ORA     =H0 0 0       ..     
      00025  0602 00 0 00301         SLW     BUFF          AND INSERT INTO LINE IAMGE     
      00026  0500 00 1 00000         CLA     (AC),1        PICK UP AC(S,1-35) 
      00027 -0130 00 0 00000         XCL                   LEAVE SIGN BEHIND  
      00030  0074 00 4 00001         TSX     CVW,4         CONVERT TO OCTAL-BCI     
      00031 -0603 00 0 00302         DST     BUFF+1        AND INSERT INTO LINE IMAGE     
      00032  0560 00 1 00001         LDQ     (MQ),1        CONVERT MQ TO BCI  
      00033  0074 00 4 00001         TSX     CVW,4         ..     
      00034 -0603 00 0 00306         DST     BUFF+5        ..     
      00035  0560 00 1 00002         LDQ     (SI),1        SAME WITH SENSE INDICATORS     
      00036  0074 00 4 00001         TSX     CVW,4         ..     
      00037 -0603 00 0 00312         DST     BUFF+9        ..     
      00040                          LIST    BUFF,11,5,0   SEND OUT LINE IMAGE
      00042                          LIST    LINE02,11,5,- PRINT OUT SECOND HEADING 
      00044  0560 00 1 00014         LDQ     (PI),1        NOW CONVERT PROTECTION INDICATORS    
      00045  0074 00 4 00001         TSX     CVW,4         ..     
      00046 -0603 00 0 00302         DST     BUFF+1        ..     
      00047  0560 00 1 00015         LDQ     (RI),1        CONVERT RELOCATION INDICATORS  
      00050  0074 00 4 00001         TSX     CVW,4         ..     
      00051 -0603 00 0 00306         DST     BUFF+5        ..     
      00052  0560 00 1 00016         LDQ     (KEYS),1      CONVERT CONSOLE KEYS TO BCI    
      00053  0074 00 4 00001         TSX     CVW,4         ..     
      00054 -0603 00 0 00312         DST     BUFF+9        ..     
      00055                          LIST    BUFF+1,10,6,0 SEND OUT LINE IMAGE BUFFER     
      00057  0074 00 4 00175         TSX     CLEAR,4       BLANK OUT LINE IMAGE BUFFER    
      00060                          LIST    LINE03,3,9,-  PRINT OUT INDEX REGISTER HEADING     
      00062  0560 00 1 00004         LDQ     (IR1),1       PICK UP INDEX REGISTER 1 
      00063  0074 00 4 00000         TSX     CVA,4         CONVERT TO OCTAL-BCI     
      00064  0602 00 0 00301         SLW     BUFF          CONVERTED INDEX REG. 1 TO IMAGE
      00065  0560 00 1 00005         LDQ     (IR2),1       SAME WITH OTHER INDEX REGISTERS
      00066  0074 00 4 00000         TSX     CVA,4         ..     
      00067  0602 00 0 00303         SLW     BUFF+2        ..     
      00070  0560 00 1 00006         LDQ     (IR3),1       INDEX REGISTER 3   
      00071  0074 00 4 00000         TSX     CVA,4         ..     
      00072  0602 00 0 00305         SLW     BUFF+4        ..     
      00073  0560 00 1 00007         LDQ     (IR4),1       INDEX REGISTER 4   
      00074  0074 00 4 00000         TSX     CVA,4         ..     
      00075  0602 00 0 00307         SLW     BUFF+6        ..     
      00076  0560 00 1 00010         LDQ     (IR5),1       INDEX REGISTER 5   
1      M1416-4882 J. PODOLSKY   MACHINE CONDITION DUMP ROUTINE $CPUDMP                           PAGE 4     
                           $CPUDMP, MAIN PROGRAM FOR CPU DUMP                       
                  
      00077  0074 00 4 00000         TSX     CVA,4         ..     
      00100  0602 00 0 00311         SLW     BUFF+8        ..     
      00101  0560 00 1 00011         LDQ     (IR6),1       INDEX REGISTER 6   
      00102  0074 00 4 00000         TSX     CVA,4         ..     
      00103  0602 00 0 00313         SLW     BUFF+10       ..     
      00104  0560 00 1 00012         LDQ     (IR7),1       INDEX REGISTER 7   
      00105  0074 00 4 00000         TSX     CVA,4         ..     
      00106  0602 00 0 00315         SLW     BUFF+12       ..     
      00107                          LIST    BUFF,13,4,0   SEND OUT LINE BUFFER     
      00111  0074 00 4 00175         TSX     CLEAR,4       NOW CLEAR OUT GARBAGE IN BUFFER
      00112                          LIST    LINE04,9,6,-  PRINT HEADING FOR SWITCHES AND LIGHTS
      00114  0441 00 1 00013         LDI     (FLGS),1      PICK UP FLAG WORD  
      00115 -0500 00 0 00316         CAL     =8            INITIALIZE SENSE LIGHT POINTER 
      00116  0774 00 2 00004         AXT     4,2           COUNT 4 SENSE LIGHTS     
      00117  0560 00 0 00322         LDQ     =H OFF        ASSUME LIGHT WAS OFF     
      00120  0046 00 0 00122         TIF     *+2           WAS LIGHT ON.
      00121  0560 00 0 00323         LDQ     =H  ON        YES, CHANGE TO 'ON'
      00122 -0600 00 2 00314         STQ     BUFF+11,2     ..     
      00123  0767 00 0 00001         ALS     1             SHIFT POINTER
      00124  2 00001 2 00117         TIX     *-5,2,1       WHEN FINISHED WITH LIGHTS,     
      00125  0774 00 2 00006         AXT     6,2           DO SIMILARLY WITH SWITCHES     
      00126 -0500 00 0 00317         CAL     =1024         INITIALIZE POINTER 
      00127  0560 00 0 00325         LDQ     =H  UP        ASSUME SWITCH WAS UP     
      00130  0046 00 0 00132         TIF     *+2           WAS SWITCH DOWN.   
      00131  0560 00 0 00321         LDQ     =H DOWN       YES, CHANGE TO 'DOWN'    
      00132 -0600 00 2 00307         STQ     BUFF+6,2      INSERT INTO LINE IMAGE   
      00133  0767 00 0 00001         ALS     1             SHIFT SWITCH POINTER     
      00134  2 00001 2 00127         TIX     *-5,2,1       WHEN FINISHED,     
      00135                          LIST    BUFF,11,5,0   SEND OUT LINE IMAGE
      00137  0074 00 4 00175         TSX     CLEAR,4       CLEAR OUT LINE IMAGE BUFFER    
      00140                          LIST    LINE05,11,5,- PRINT FIRST HEADING FOR INDICATORS   
      00142  0074 00 4 00202         TSX     INIT,4        INITIALIZE LINE IMAGE    
      00143 -0500 00 0 00323         CAL     =H  ON        NOW TEST INDICATOR BITS  
      00144  0054 00  000002         RFT     ACOVF         WAS THERE AN AC OVERFLOW.
      00145  0602 00 0 00301         SLW     BUFF          YES, CHANGE LINE COMMENT 
      00146  0054 00  000400         RFT     MQOVF         TEST MQ OVERFLOW   
      00147  0602 00 0 00305         SLW     BUFF+4        ..     
      00150  0054 00  000004         RFT     DCFLG         TEST DIVIDE CHECK  
      00151  0602 00 0 00311         SLW     BUFF+8        ..     
      00152                          LIST    BUFF,9,6,0    SEND OUT LINE IMAGE
      00154                          LIST    LINE06,11,5,- PRINT SECOND INDICATOR HEADING 
      00156  0074 00 4 00202         TSX     INIT,4        INITIALIZE LINE IMAGE    
      00157 -0500 00 0 00323         CAL     =H  ON        ..     
      00160  0054 00  000001         RFT     MTFLG         TEST MULTIPLE-TAG MODE   
      00161  0602 00 0 00301         SLW     BUFF          ..     
      00162  0054 00  000200         RFT     FPTMD         TEST FLOATING TRAP MODE  
      00163  0602 00 0 00305         SLW     BUFF+4        ..     
      00164  0054 00  001000         RFT     IOCHK         TEST I/O-CHECK LIGHT     
      00165  0602 00 0 00311         SLW     BUFF+8        ..     
      00166                          LIST    BUFF,9,6,0    SEND OUT LINE IMAGE
      00170  0774 00 1 00000  SAVX1  AXT     **,1          RESTORE INDEX REGISTERS  
      00171  0774 00 2 00000  SAVX2  AXT     **,2          ..     
      00172  0774 00 4 00000  SAVX4  AXT     **,4          ..     
      00173  0441 00 0 00300         LDI     SIND          RESTORE SENSE INDICATORS 
      00174  0020 00 4 00002         TRA     2,4           AND RETURN TO CALLER     
1      M1416-4882 J. PODOLSKY   MACHINE CONDITION DUMP ROUTINE $CPUDMP                           PAGE 5     
                           MISCELLANEOUS SUBROUTINES USED BY CPU DUMP               
                  
                                     TTL     MISCELLANEOUS SUBROUTINES USED BY CPU DUMP   
                  
                  
                                             CLEAR, USED TO CLEAR OUT LINE IMAGE BUFFER.  
                  
      00175  0774 00 2 00015  CLEAR  AXT     NBUFF,2       COUNT NUMBER OF WORDS IN BUFFER
      00176 -0500 00 0 00324         CAL     =H            PICK UP WORD OF BLANKS   
      00177  0602 00 2 00316         SLW     BUFF+NBUFF,2  FILL BUFFER WITH BLANKS  
      00200  2 00001 2 00177         TIX     *-1,2,1       WHEN FINISHED,     
      00201  0020 00 4 00001         TRA     1,4           RETURN TO CALLER   
                  
                  
                                             INIT, INITIALIZE INDICATOR READINGS TO 'OFF' 
                  
      00202 -0500 00 0 00322  INIT   CAL     =H OFF        INITIALIZE INDICATOR READINGS TO 'OFF'     
      00203  0774 00 2 00014         AXT     12,2          SET UP INITIAL LINE IMAGE
      00204  0602 00 2 00315         SLW     BUFF+12,2     ..     
      00205  2 00004 2 00204         TIX     *-1,2,4       ..     
      00206  0020 00 4 00001         TRA     1,4           RETURN TO CALLER   
                  
                  
                                             CONSTANTS AND TEMPORARY STORAGE  
                  
      00207  626050604760     LINE01 BCI     9,S Q P  ACCUMULATOR        MULTIPLIER-QUOTIENT       SE 
      00220  456225603145            BCI     3,NSE INDICATORS     
      00223  604751466325     LINE02 BCI     9, PROTECTION INDICATORS   RELOCATION INDICATORS   
      00234  234645624643            BCI     2,CONSOLE KEYS 
      00236  606060314524     LINE03 BCI     3,   INDEX REGISTERS 
      00241  606060606062     LINE04 BCI     9,     SENSE SWITCHES                       SENSE LIGHTS 
      00252  606060212360     LINE05 BCI     9,   AC OVERFLOW             MQ OVERFLOW             DIV 
      00263  312425602330            BCI     2,IDE CHECK    
      00265  606060446443     LINE06 BCI     9,   MULTIPLE TAG           FLOATING TRAP             I/ 
      00276  466023302523            BCI     2,O CHECK
                  
      00300  0 00000 0 00000  SIND   PZE     **            SAVE SENSE INDICATORS    
                  
                  
                       00015  NBUFF  EQU     13            LENGTH OF LINE IMAGE BUFFER    
                  
      00301                   BUFF   BSS     NBUFF         LINE IMAGE BUFFER  
                  
                                     DETAIL                LIST LITERALS
                  
                                     END  
                  
        LITERALS  
      00316  000000000010     
      00317  000000002000     
      00320  006000600060     
      00321  602446664560     
      00322  604626266060     
      00323  606046456060     
      00324  606060606060     
      00325  606064476060     
1      M1416-4882 J. PODOLSKY   MACHINE CONDITION DUMP ROUTINE $CPUDMP                           PAGE 1     
                        POST PROCESSOR ASSEMBLY DATA  
                  
        326 IS THE FIRST LOCATION NOT USED BY THIS PROGRAM  
                  
0REFERENCES TO DEFINED SYMBOLS      
          0    CVA    63,   66,   71,   74,   77,  102,  105
          1    CVW    30,   33,   36,   45,   50,   53
        301   BUFF    25,   31,   34,   37,   41,   46,   51,   54,   56,   64,   67,   72,   75,  100,  103,  106,  110
                     122,  132,  136,  145,  147,  151,  153,  161,  163,  165,  167,  177,  204
        202   INIT   142,  156
          2   LIST    13,   40,   42,   55,   60,  107,  112,  135,  140,  152,  154,  166
        300   SIND    10,  173
        170   SLTS     5
     176000   SWTS     5
          0   (AC)     5,   26
          1   (MQ)     5,   32
         14   (PI)     5,   44
         15   (RI)     5,   47
          2   (SI)     5,   35
          2  ACOVF     5,  144
        175  CLEAR    15,   57,  111,  137
          4  DCFLG     5,  150
        200  FPTMD     5,  162
       1000  IOCHK     5,  164
        400  MQOVF     5,  146
          1  MTFLG     5,  160
         15  NBUFF   175,  177,  301
        170  SAVX1     5
        171  SAVX2     6
        172  SAVX4     7
          5  START     5
          4  (IR1)     5,   62
          5  (IR2)     5,   65
          6  (IR3)     5,   70
          7  (IR4)     5,   73
         10  (IR5)     5,   76
         11  (IR6)     5,  101
         12  (IR7)     5,  104
          3  (SQP)     5,   16
          5 CPUDMP     0
        207 LINE01    14
        223 LINE02    43
        236 LINE03    61
        241 LINE04   113
        252 LINE05   141
        265 LINE06   155
         13 (FLGS)     5,  114
         16 (KEYS)     5,   52
                  
0 NO ERROR IN ABOVE ASSEMBLY. 




CDMP1D   BCD 09/11/67 1731.8    2250         00000    
1      M1416-4882 J. PODOLSKY   OCTAL/SYMBOLIC DUMP PROGRAM $(DUMP)                              PAGE 1     
                  
                                     PCC     ON 
                                     COUNT   100
                                     LBL     DUMP     
                                     NOCRS                 NO ORIGIN-CREATED SYMBOLS FOR MACROS 
                                     TITLE
                  
                                             CALLING SEQUENCE     
                  
                                                           TSX     $(DUMP),4  
                                                           PFX     FIRST,,'N' 
                                                           PZE     LOC1 
                  
                                             THE 'N' WORDS BEGINNING AT 'FIRST' ARE DUMPED WITH 
                                             MNEMONICS ONTO THE F.M.S. OUTPUT TAPE.  THE SYMBOLIC     
                                             LISTING ORIGIN IS DETERMINED BY 'LOC1'.  IF PFX=MZE,     
                                             AN EXTRA 3 BLANK LINES WILL BE WRITTEN BEFORE THE  
                                             FIRST LINE.    
                  
                  
                                             PARM - MACRO FOR CONTROL WORD OF $LIST 
                  
                              PARM   MACRO   LINE,COUNT,NBLNKS,CARG     
                                     VFD     H6/'CARG',2/0,5/'NBLNKS',5/'COUNT',3/0,15/'LINE'   
                              PARM   END  
                  
                  
                       00006         ENTRY   (DUMP)   
                  
      00000  433162636060     LIST  
      00001  236521606060     CVA   
      00002  236566606060     CVW   
      00003  464723462425     OPCODE
                  
                  
      00006  0634 00 4 00147  (DUMP) SXA     DMR4,4        SAVE INDEX REGISTERS     
      00007  0634 00 2 00150         SXA     DMR2,2        ..     
      00010  0634 00 1 00151         SXA     DMR1,1        ..     
      00011 -0500 00 4 00001         CAL     1,4           GET CONTROL WORD   
      00012 -0734 00 1 00000         PDX     ,1            MOVE N TO XR1
      00013 -3 00000 1 00147         TXL     DMR4,1,0      IF N IS NOT 0,     
      00014  0754 00 1 00000         PXA     ,1            MOVE N TO ADDRESS OF AC  
      00015  0361 00 4 00002         ACL     2,4           FORM 'N' + LISTING ORIGIN
      00016  0602 00 0 00155         SLW     LOC1          SAVE 'LOC1' + 'N'  
      00017  0754 00 1 00000         PXA     ,1            FETCH 'N' AGAIN    
      00020  0361 00 4 00001         ACL     1,4           FORM FIRST + N     
      00021  0621 00 0 00041         STA     LDQ           SAVE FOR NEXT WORD 
      00022 -0760 00 0 00001         PBT                   ARE BLANK LINES TO BE WRITTEN. 
      00023  0020 00 0 00026         TRA     *+3           NO, SKIP CALL TO $LIST   
      00024  0074 00 4 00000         TSX     $LIST,4       YES, WRITE BLANK WORD WITH TRIPLE SPACE    
      00025                          PARM    0,0,1,-       ..     
                  
      00026  0774 00 2 00022  NXTL   AXT     18,2          COUNT 18 WORDS IN LINE IMAGE   
      00027  0600 00 0 00153         STZ     RPTFLG        RESET REPEAT FLAG  
      00030 -0500 60 0 00041         CAL*    LDQ           PICK UP FIRST WORD OF LINE     
      00031  0602 00 0 00154         SLW     FWORD         AND SAVE FOR REPEAT TESTING    
      00032  0756 00 1 00000         PCA     ,1            MINUS K
1      M1416-4882 J. PODOLSKY   OCTAL/SYMBOLIC DUMP PROGRAM $(DUMP)                              PAGE 2     
                  
      00033  0361 00 0 00155         ACL     LOC1          FORM LOC1 + N - K  
      00034 -0130 00 0 00000         XCL                   IS ADDRESS OF NEXT WORD  
      00035  0074 00 4 00001         TSX     $CVA,4        CONVERT TO OCTAL-BCI     
      00036  0560 00 0 00217         LDQ     =H            POSITION BLANK     
      00037 -0763 00 0 00006         LGL     6             TO RIGHT OF WORD   
      00040  0602 00 0 00171         SLW     LNIM          INSERT INTO LINE IMAGE   
      00041  0560 00 1 00000  LDQ    LDQ     -,1           GET NEXT WORD
      00042  0074 00 4 00002         TSX     $CVW,4        CONVERT TO OCTAL-BCI     
      00043 -0603 00 2 00215         DST     LNIM+20,2     INSERT INTO LINE IMAGE   
      00044 -0500 60 0 00041         CAL*    LDQ           GET SAME WORD
      00045 -0340 00 0 00154         LAS     FWORD         COMPARE WITH FIRST WORD IN LINE
      00046  0020 00 0 00050         TRA     *+2           ..     
      00047  0020 00 0 00051         TRA     *+2           SAME, SKIP FLAG SETTING  
      00050 -0625 00 0 00153         STL     RPTFLG        NOT SAME, SET FLAG 
      00051  0074 00 4 00003         TSX     $OPCODE,4     GET SYMBOLIC OPCODE
      00052  0602 00 2 00214         SLW     LNIM+19,2     INSERT INTO LINE IMAGE   
      00053 -2 00003 2 00060         TNX     POUT,2,3      UNDEX WORD COUNT IN LINE 
      00054  2 00001 1 00041         TIX     LDQ,1,1       IF LAST WORD TO DUMP,    
      00055  0560 00 0 00217         LDQ     =H            WIPE OUT REMAINING GARBAGE     
      00056 -0600 00 2 00214         STQ     LNIM+19,2     IN LINE IMAGE
      00057  2 00001 2 00056         TIX     *-1,2,1       COUNT REMAINING WORDS    
      00060  0074 00 4 00000  POUT   TSX     $LIST,4       WRITE OUT THIS LINE IMAGE
      00061                          PARM    LNIM,19,1,     
      00062 -2 00001 1 00147         TNX     DMR4,1,1      IF NOT LAST WORD,  
      00063  0520 00 0 00153         ZET     RPTFLG        SEE IF ALL WORDS IN LAST LINE THE SAME     
      00064  0020 00 0 00026         TRA     NXTL          NON-ZERO, RETURN TO NORMAL LOOP
      00065  0636 00 1 00107  CLNS   SCA     RNXL,1        SAVE (COMPLEMENT) FIRST WORD ADDRESS 
      00066  0774 00 2 00006         AXT     6,2           COUNT 6 WORDS IN LINE    
      00067 -0500 60 0 00041         CAL*    LDQ           GET NEXT WORD
      00070  0322 00 0 00154         ERA     FWORD         COMPARE WITH REPEAT WORD 
      00071 -0100 00 0 00107         TNZ     RNXL          IF WORDS COMPARE,  
      00072 -2 00001 1 00107         TNX     RNXL,1,1      AND IF THIS WORD IS NOT LAST,  
      00073  2 00001 2 00067         TIX     *-4,2,1       OK SO FAR, COUNT FOR 6 MATCHES 
      00074  0520 00 0 00153         ZET     RPTFLG        THIS ENTIRE LINE IS A REPEAT.  
      00075  1 00001 4 00065         TXI     CLNS,4,1      NOT FIRST TIME, COUNT REPEATS  
      00076 -0625 00 0 00153         STL     RPTFLG        SET REPEAT FLAG    
      00077 -0500 00 0 00155         CAL     LOC1          FORM LOC1 + N - K  
      00100  0401 00 0 00107         ADM     RNXL          ..     
      00101 -0130 00 0 00000         XCL                   MOVE TO MQ   
      00102  0074 00 4 00001         TSX     $CVA,4        CONVERT MQ ADDRESS TO BCI
      00103 -0320 00 0 00216         ANA     =O601717171717  DELETE ALL BUT LEADING BLANK 
      00104  0602 00 0 00160         SLW     RPTCOM+2      INSERT INTO REPEAT COMMENT     
      00105  0774 00 4 00001         AXT     1,4           COUNT REPEATS OF LINE    
      00106  0020 00 0 00065         TRA     CLNS          AND GO BACK TO CHECK NEXT LINE 
                  
      00107 -0774 00 1 00000  RNXL   AXC     -,1           RESTORE ADDRESS OF FIRST WORD, NEXT LINE   
      00110 -0520 00 0 00153         NZT     RPTFLG        IF FIRST TEST FAILED,    
      00111  0020 00 0 00026         TRA     NXTL          RETURN IMMEDIATELY 
      00112 -3 00001 4 00134         TXL     PLL,4,1       SKIP IF ONLY ONE LINE WAS A REPEAT   
      00113 -0500 00 0 00155         CAL     LOC1          FORM LOC1 + N - K - 7    
      00114  0401 00 0 00107         ADM     RNXL          ..     
      00115  0402 00 0 00215         SUB     =7            ..     
      00116 -0130 00 0 00000         XCL                   MOVE TO MQ   
      00117  0074 00 4 00001         TSX     $CVA,4        AND CONVERT TO OCTAL-BCI 
      00120 -0320 00 0 00216         ANA     =O601717171717  REMOVE ALL BUT LEADING BLANK 
      00121  0560 00 0 00217         LDQ     =H            LEFT-JUSTIFY 
1      M1416-4882 J. PODOLSKY   OCTAL/SYMBOLIC DUMP PROGRAM $(DUMP)                              PAGE 3     
                  
      00122 -0763 00 0 00006         LGL     6             ..     
      00123  0602 00 0 00162         SLW     RPTCOM+4      AND INSERT INTO LINE IMAGE     
      00124  0774 00 4 00003         AXT     3,4           MOVE OPCODE AND OCTAL-BCI TO COMMENT 
      00125 -0500 00 4 00175         CAL     LNIM+4,4      ..     
      00126  0602 00 4 00170         SLW     RPTCOM+10,4   ..     
      00127  2 00001 4 00125         TIX     *-2,4,1       ..     
      00130  0074 00 4 00000         TSX     $LIST,4       SEND OUT REPEAT MESSAGE  
      00131                          PARM    RPTCOM,11,5,0 ..     
      00132  0074 00 4 00000         TSX     $LIST,4       PRINT EXTRA BLANK LINE   
      00133                          PARM    0,0,1,        ..     
      00134  0756 00 1 00000  PLL    PCA     ,1            FORM ADDRESS OF    
      00135  0361 00 0 00155         ACL     LOC1          FIRST WORD   
      00136  0402 00 0 00214         SUB     =6            IN LAST LINE OF ZEROES   
      00137 -0130 00 0 00000         XCL                   MOVE TO MQ   
      00140  0074 00 4 00001         TSX     $CVA,4        CONVERT TO OCTAL-BCI     
      00141  0560 00 0 00217         LDQ     =H            POSITION BLANK     
      00142 -0763 00 0 00006         LGL     6             TO RIGHT OF WORD   
      00143  0602 00 0 00171         SLW     LNIM          INSERT INTO LINE IMAGE   
      00144  0074 00 4 00000         TSX     $LIST,4       WRITE OUT LINE IMAGE     
      00145                          PARM    LNIM,19,1,     
      00146  0020 00 0 00026         TRA     NXTL          RETURN TO NORMAL LOOP    
1      M1416-4882 J. PODOLSKY   OCTAL/SYMBOLIC DUMP PROGRAM $(DUMP)                              PAGE 4     
                  
                                     EJECT
                  
      00147  0774 00 4 00000  DMR4   AXT     -,4           RESTORE INDEX REGISTERS  
      00150  0774 00 2 00000  DMR2   AXT     -,2           ..     
      00151  0774 00 1 00000  DMR1   AXT     -,1           ..     
      00152  0020 00 4 00003         TRA     3,4          *RETURN TO CALLER   
                  
                  
                                     SPACE   2  
      00153  0 00000 0 00000  RPTFLG PZE     0             REPEAT FLAG WORD   
      00154  0 00000 0 00000  FWORD  PZE     0             FIRST WORD OF CURRENT LINE IMAGE     
      00155  0 00000 0 00000  LOC1   PZE     0             LISTING ORIGIN + WORD COUNT    
      00156  333360434623     RPTCOM BCI     9,.. LOCATIONS 00000 THRU 00000 ALL CONTAIN  ---- 000000 
      00167  000000000000            BCI     2,000000 ..    
      00171                   LNIM   BSS     19            LINE IMAGE BUFFER  
                                     DETAIL                RESUME NORMAL LISTING    
                  
                                     END  
                  
        LITERALS  
      00214  000000000006     
      00215  000000000007     
      00216  601717171717     
      00217  606060606060     
1      M1416-4882 J. PODOLSKY   OCTAL/SYMBOLIC DUMP PROGRAM $(DUMP)                              PAGE 1     
                        POST PROCESSOR ASSEMBLY DATA  
                  
        220 IS THE FIRST LOCATION NOT USED BY THIS PROGRAM  
                  
0REFERENCES TO DEFINED SYMBOLS      
          1    CVA    35,  102,  117,  140
          2    CVW    42
         41    LDQ    21,   30,   44,   54,   67
        134    PLL   112
         65   CLNS    75,  106
        151   DMR1    10
        150   DMR2     7
        147   DMR4     6,   13,   62
          0   LIST    24,   60,  130,  132,  144
        171   LNIM    40,   43,   52,   56,   61,  125,  143,  145
        155   LOC1    16,   33,   77,  113,  135
         26   NXTL    64,  111,  146
         60   POUT    53
        107   RNXL    65,   71,   72,  100,  114
        154  FWORD    31,   45,   70
          3 OPCODE    51
        156 RPTCOM   104,  123,  126,  131
        153 RPTFLG    27,   50,   63,   74,   76,  110
          6 (DUMP)     0
                  
0 NO ERROR IN ABOVE ASSEMBLY. 




LIST1D   BCD 09/11/67 1731.8    1207         00000    
1      M1416-4882 J. PODOLSKY   OFF-LINE OUTPUT TAPE LISTING ROUTINE $LIST                       PAGE 1     
                  
                                     PCC     ON 
                                     COUNT   100
                                     LBL     LIST     
                       00004         ENTRY   LIST          ..     
                  
        TRANSFER VECTOR 
      00000  336247514563     .SPRNT
      00001  744751456334     (PRNT)
                  
            LINKAGE DIRECTOR  
      00002  000000000000     
      00003  433162636060     
                  
                       00004  BEGIN  EQU     *             ..     
                  
                                             CALLING SEQUENCE ..  
                  
                                                           TSX $LIST,4  
                                                           VFD  H6/C,2/FLAGS,5/B,5/N,3/0,15/LINE
                  
                                             'LINE' IS THE ORIGIN OF AN 'N'-WORD BCI STRING WHICH IS  
                                             TO BE WRITTEN ONTO THE F.M.S. MONITOR OUTPUT TAPE WITH   
                                             'B' BLANK WORDS PRECEDING.  'C' IS THE DESIRED CARRIAGE  
                                             CONTROL CHARACTER.  'FLAGS' DETERMINE SPECIAL FUNCTIONS  
                                             AS FOLLOWS ..  
                  
                      004000  INDSW  BOOL    4000          BIT 6.    INDIRECT FLAG (1 LEVEL)    
                      002000  PRNSW  BOOL    2000          BIT 7.    ON-LINE PRINT SWITCH 
                  
      00004  0634 00 1 00053  LIST   SXA     LSTX1,1       SAVE INDEX REGISTERS 1, 2, AND 4     
      00005  0634 00 2 00054         SXA     LSTX2,2       ..     
      00006  0634 00 4 00055         SXA     LSTX4,4       ..     
      00007  0604 00 0 00057         STI     SIND          SAVE SENSE INDICATORS    
      00010  0441 00 4 00001         LDI     1,4           PICK UP CONTROL WORD     
      00011 -0054 00  004000         LFT     INDSW         IS INDIRECTION SPECIFIED.
      00012  0441 60 4 00001         LDI*    1,4           YES, GO INDIRECT TO GET REAL CONTROL WORD  
      00013 -0046 00 0 00000         PIA                   MOVE CONTROL WORD TO ACCUMULATOR     
      00014 -0320 00 0 00106         ANA     =O1777777777  ISOLATE LINE,C,N+32*B    
      00015  0737 00 4 00000         PAC     ,4            MOVE LINE ORIGIN COMPLEMENT TO IR4   
      00016 -0734 00 2 00000         PDX     ,2            MOVE N+32*B TO IR2 
      00017  0774 00 1 00000         AXT     0,1           INITIALIZE BUFFER WORD COUNT   
      00020 -0500 00 0 00107         CAL     =H            PICK UP BLANK CHARACTERS 
      00021 -3 00037 2 00025  LIST1  TXL     LIST2,2,31    IS BLANK WORD TO PRECEDE.
      00022  0602 00 1 00060         SLW     BUFF,1        YES, INSERT WORD IN BUFFER     
      00023  1 77777 1 00024         TXI     *+1,1,-1      INCREMENT BUFFER WORD COUNT    
      00024  1 77740 2 00021         TXI     LIST1,2,-32   AND GO BACK WITH BLANK COUNT DECREASED     
      00025 -3 00000 2 00033  LIST2  TXL     LIST3,2,0     IS LINE IMAGE COUNT NON-ZERO.  
      00026 -0500 00 4 00000         CAL     0,4           YES, PICK UP NEXT WORD IN LINE IMAGE.
      00027  0602 00 1 00060         SLW     BUFF,1        AND INSERT INTO BUFFER   
      00030  1 77777 1 00031         TXI     *+1,1,-1      INCREMENT BUFFER WORD COUNT    
      00031  1 77777 2 00032         TXI     *+1,2,-1      DECREASE LINE IMAGE WORD COUNT 
      00032  1 77777 4 00025         TXI     LIST2,4,-1    AND GO BACK WITH LINE IMAGE POINTER MOVED  
      00033 -3 00000 1 00052  LIST3  TXL     LISTX,1,0     BUFFER COMPLETE, IS IT EMPTY.  
      00034 -0636 00 1 00044         SCD     LIST4,1       NO, INSERT TRUE COUNT IN CONTROL WORD
      00035 -0046 00 0 00000         PIA                   PICK UP 'C' FROM CONTROL WORD  
      00036  0771 00 0 00036         ARS     30            ..     
1      M1416-4882 J. PODOLSKY   OFF-LINE OUTPUT TAPE LISTING ROUTINE $LIST                       PAGE 2     
                  
      00037  0560 00 0 00060         LDQ     BUFF          REPLACE FIRST CHARACTER OF FIRST WORD
      00040 -0773 00 0 00006         RQL     6             BY SPECIFIED CARRIAGE CONTROL CHARACTER    
      00041 -0765 00 0 00006         LGR     6             ..     
      00042 -0600 00 0 00060         STQ     BUFF          ..     
      00043  0074 00 4 00000         TSX     $.SPRNT,4     WRITE BUFFER ONTO LISTING TAPE 
      00044  0 00000 0 00060  LIST4  PZE     BUFF,,**      ..     
      00045 -0056 00  002000         LNT     PRNSW         IS ON-LINE PRINT SPECIFIED.    
      00046  0020 00 0 00052         TRA     LISTX         NO, SKIP ON-LINE PRINTING
      00047 -0636 00 1 00051         SCD     *+2,1         YES, SET CONTROL WORD FOR (PRNT)     
      00050  0074 00 4 00001         TSX     $(PRNT),4     GO PRINT ON-LINE   
      00051  0 00000 0 00060         PZE     BUFF,,**      ..     
      00052  0441 00 0 00057  LISTX  LDI     SIND          FINISHED, RESTORE INDICATORS   
      00053  0774 00 1 00000  LSTX1  AXT     **,1          AND INDEX REGISTERS
      00054  0774 00 2 00000  LSTX2  AXT     **,2          ..     
      00055  0774 00 4 00000  LSTX4  AXT     **,4          ..     
      00056  0020 00 4 00002         TRA     2,4           AND RETURN TO CALLING PROGRAM  
                  
      00057  0 00000 0 00000  SIND   PZE     **            STORAGE FOR SENSE INDICATORS   
                  
                  
      00060                   BUFF   BSS     22            LINE-IMAGE BUFFER  
                  
                                     END  
                  
        LITERALS  
      00106  001777777777     
      00107  606060606060     
1      M1416-4882 J. PODOLSKY   OFF-LINE OUTPUT TAPE LISTING ROUTINE $LIST                       PAGE 1     
                        POST PROCESSOR ASSEMBLY DATA  
                  
        110 IS THE FIRST LOCATION NOT USED BY THIS PROGRAM  
                  
0REFERENCES TO DEFINED SYMBOLS      
         60   BUFF    22,   27,   37,   42,   44,   51
          4   LIST     0
         57   SIND     7,   52
          4  BEGIN     4
       4000  INDSW     4,   11
         21  LIST1    24
         25  LIST2    21,   32
         33  LIST3    25
         44  LIST4    34
         52  LISTX    33,   46
         53  LSTX1     4
         54  LSTX2     5
         55  LSTX4     6
       2000  PRNSW     4,   45
          0 .SPRNT    43
          1 (PRNT)    50
                  
0 NO ERROR IN ABOVE ASSEMBLY. 




OPCD1D   BCD 09/11/67 1731.8    4267         00000    
1      M1416-4882 J. PODOLSKY   SYMBOLIC OPERATION CODE LOOKUP - $OPCODE                         PAGE 1     
                  
                                     PCC     ON 
                                     COUNT   250
                                     LBL     OPCODE   
                  
                       00002         ENTRY   OPCODE        DEFINE ENTRY POINT 
                  
            LINKAGE DIRECTOR  
      00000  000000000000     
      00001  464723462425     
                  
      00002  0634 00 4 00056  OPCODE SXA     OPR4,4        SAVE INDEX REGISTERS     
      00003  0634 00 2 00057         SXA     OPR2,2        ..     
      00004  0602 00 0 00066         SLW     OWRD          SAVE WORD    
      00005 -0320 00 0 00452         ANA     =O777700000000   MASK FOR OPERATION FIELD    
      00006  0602 00 0 00067         SLW     OPFLD         SAVE OP-CODE FIELD 
      00007 -0320 00 0 00447         ANA     =O300000000000   MASK PREFIX MINUS SIGN
      00010 -0100 00 0 00061         TNZ     OPFX          DON'T SEARCH IF IT IS A PREFIX CODE  
                  
      00011  0774 00 4 00200         AXT     128,4         INITIALIZE SEARCH IN MIDDLE OF TABLE 
      00012  0774 00 2 00022         AXT     18,2          INITIALIZE TO 2 + LENGTH OF LOG TABLE
      00013  3 00346 4 00021  OPCK   TXH     GOLOW,4,NTBL  IF INSIDE TABLE,   
      00014 -0500 00 4 00436         CAL     OPTBL+NTBL,4  GET TABLE ENTRY    
      00015 -0320 00 0 00452         ANA     =O777700000000   MASK OP FIELD   
      00016 -0340 00 0 00067         LAS     OPFLD         COMPARE WITH WORD'S OP FIELD   
      00017  1 77776 2 00042         TXI     HIGHER,2,-2   TOO LOW IN TABLE, GO UP  
      00020  0020 00 0 00044         TRA     OPFND         MATCH, EXIT  
      00021  1 77776 2 00043  GOLOW  TXI     LOWER,2,-2    TOO HIGH IN TABLE, GO DOWN     
                  
      00022  1 00100 4 00013         TXI     OPCK,4,+64    ..     
      00023  1 77700 4 00013         TXI     OPCK,4,-64    ..     
      00024  1 00040 4 00013         TXI     OPCK,4,+32    ..     
      00025  1 77740 4 00013         TXI     OPCK,4,-32    ..     
      00026  1 00020 4 00013         TXI     OPCK,4,+16    ..     
      00027  1 77760 4 00013         TXI     OPCK,4,-16    ..     
      00030  1 00010 4 00013         TXI     OPCK,4,+8     ..     
      00031  1 77770 4 00013         TXI     OPCK,4,-8     ..     
      00032  1 00004 4 00013         TXI     OPCK,4,+4     ..     
      00033  1 77774 4 00013         TXI     OPCK,4,-4     ..     
      00034  1 00002 4 00013         TXI     OPCK,4,+2     ..     
      00035  1 77776 4 00013         TXI     OPCK,4,-2     ..     
      00036  1 00001 4 00013         TXI     OPCK,4,+1     ..     
      00037  1 77777 4 00013         TXI     OPCK,4,-1     ..     
      00040  0020 00 0 00061         TRA     OPFX          ..     
      00041  0020 00 0 00061         TRA     OPFX          ..     
      00042  0020 00 2 00042  HIGHER TRA     *,2           INCREASE TABLE POINTER   
      00043  0020 00 2 00043  LOWER  TRA     *,2           GO LOWER IN TABLE  
1      M1416-4882 J. PODOLSKY   SYMBOLIC OPERATION CODE LOOKUP - $OPCODE                         PAGE 2     
                  
                                     EJECT
                  
      00044  0560 00 0 00451  OPFND  LDQ     =H            ASSUME NO '*' FOR INDIRECT     
      00045 -0500 00 0 00066         CAL     OWRD          RESTORE WORD 
      00046 -0320 00 0 00446         ANA     =O000060000000   MASK OUT ALL BUT INDIRECT FIELD   
      00047 -0340 00 0 00446         LAS     =O000060000000   CHECK FOR BOTH INDIRECT BITS
      00050  0020 00 0 00052         TRA     *+2           ..     
      00051  0560 00 0 00450         LDQ     =H*           BOTH PRESENT, INSERT '*' 
      00052 -0500 00 4 00436  GETOP  CAL     OPTBL+NTBL,4  GET MATCHING TABLE ENTRY 
      00053 -0765 00 0 00030         LGR     24            MOVE SYMBOLIC CODE TO MQ 
      00054 -0773 00 0 00036         RQL     30            AND RIGHT-JUSTIFY  
      00055 -0130 00 0 00000         XCL                   MOVE FINAL RESULT TO AC  
      00056  0774 00 4 00000  OPR4   AXT     -,4           RESTORE INDEX REGISTERS  
      00057  0774 00 2 00000  OPR2   AXT     -,2           ..     
      00060  0020 00 4 00001         TRA     1,4           RETURN 
                  
                  
                                     SPACE   2  
      00061 -0500 00 0 00066  OPFX   CAL     OWRD          PREFIX CODE, GET WORD    
      00062  0771 00 0 00041         ARS     33            MOVE PREFIX TO ADDRESS   
      00063  0737 00 4 00000         PAC     ,4            NEGATIVE OF PREFIX IS TABLE ENTRY    
      00064  0560 00 0 00451         LDQ     =H            NO INDIRECT  
      00065  0020 00 0 00052         TRA     GETOP         GET BCI OPCODE     
                  
                  
                                     SPACE   2  
      00066  0 00000 0 00000  OWRD   PZE     0             STORAGE FOR WORD   
      00067  0 00000 0 00000  OPFLD  PZE     0             STORAGE FOR OPERATION FIELD OF 'OWRD'
1      M1416-4882 J. PODOLSKY   SYMBOLIC OPERATION CODE LOOKUP - $OPCODE                         PAGE 3     
                           OPTBL, TABLE FOR OPCODE LOOKUP                           
                  
                                     TTL     OPTBL, TABLE FOR OPCODE LOOKUP   
                  
                       00070  OPTBL  EQU     *             ORIGIN OF OPTBL    
                  
      00070  000060306351            VFD     O12/0000,H24/HTR     
      00071  002060635121            VFD     O12/0020,H24/TRA     
      00072  002160636351            VFD     O12/0021,H24/TTR     
      00073  002263512321            VFD     O12/0022,H24/TRCA    
      00074  002463512323            VFD     O12/0024,H24/TRCC    
      00075  002663512325            VFD     O12/0026,H24/TRCE    
      00076  002763512327            VFD     O12/0027,H24/TRCG    
      00077  003063252621            VFD     O12/0030,H24/TEFA    
      00100  003163252623            VFD     O12/0031,H24/TEFC    
      00101  003263252625            VFD     O12/0032,H24/TEFE    
      00102  003363252627            VFD     O12/0033,H24/TEFG    
      00103  004060634350            VFD     O12/0040,H24/TLQ     
      00104  004160313121            VFD     O12/0041,H24/IIA     
      00105  004260633146            VFD     O12/0042,H24/TIO     
      00106  004360462131            VFD     O12/0043,H24/OAI     
      00107  004460472131            VFD     O12/0044,H24/PAI     
      00110  004660633126            VFD     O12/0046,H24/TIF     
      00111  005160313151            VFD     O12/0051,H24/IIR     
      00112  005460512663            VFD     O12/0054,H24/RFT     
      00113  005560623151            VFD     O12/0055,H24/SIR     
      00114  005660514563            VFD     O12/0056,H24/RNT     
      00115  005760513151            VFD     O12/0057,H24/RIR     
      00116  006063234621            VFD     O12/0060,H24/TCOA    
      00117  006163234622            VFD     O12/0061,H24/TCOB    
      00120  006263234623            VFD     O12/0062,H24/TCOC    
      00121  006363234624            VFD     O12/0063,H24/TCOD    
      00122  006463234625            VFD     O12/0064,H24/TCOE    
      00123  006563234626            VFD     O12/0065,H24/TCOF    
      00124  006663234627            VFD     O12/0066,H24/TCOG    
      00125  006763234630            VFD     O12/0067,H24/TCOH    
      00126  007460636267            VFD     O12/0074,H24/TSX     
      00127  010060637125            VFD     O12/0100,H24/TZE     
      00130  010160633121            VFD     O12/0101,H24/TIA     
      00131  011460236551            VFD     O12/0114,H24/CVR     
      00132  012060634743            VFD     O12/0120,H24/TPL     
      00133  013160672321            VFD     O12/0131,H24/XCA     
      00134  014060634665            VFD     O12/0140,H24/TOV     
      00135  016160635046            VFD     O12/0161,H24/TQO     
      00136  016260635047            VFD     O12/0162,H24/TQP     
      00137  020060444770            VFD     O12/0200,H24/MPY     
      00140  020460654344            VFD     O12/0204,H24/VLM     
      00141  022060246530            VFD     O12/0220,H24/DVH     
      00142  022160246547            VFD     O12/0221,H24/DVP     
      00143  022460652430            VFD     O12/0224,H24/VDH     
      00144  022560652447            VFD     O12/0225,H24/VDP     
      00145  024060262430            VFD     O12/0240,H24/FDH     
      00146  024160262447            VFD     O12/0241,H24/FDP     
      00147  026060264447            VFD     O12/0260,H24/FMP     
      00150  026124264447            VFD     O12/0261,H24/DFMP    
      00151  030060262124            VFD     O12/0300,H24/FAD     
      00152  030124262124            VFD     O12/0301,H24/DFAD    
1      M1416-4882 J. PODOLSKY   SYMBOLIC OPERATION CODE LOOKUP - $OPCODE                         PAGE 4     
                           OPTBL, TABLE FOR OPCODE LOOKUP                           
                  
      00153  030260266222            VFD     O12/0302,H24/FSB     
      00154  030324266222            VFD     O12/0303,H24/DFSB    
      00155  030460262144            VFD     O12/0304,H24/FAM     
      00156  030524262144            VFD     O12/0305,H24/DFAM    
      00157  030660266244            VFD     O12/0306,H24/FSM     
      00160  030724266244            VFD     O12/0307,H24/DFSM    
      00161  032060214562            VFD     O12/0320,H24/ANS     
      00162  032260255121            VFD     O12/0322,H24/ERA     
      00163  034060232162            VFD     O12/0340,H24/CAS     
      00164  036160212343            VFD     O12/0361,H24/ACL     
      00165  040060212424            VFD     O12/0400,H24/ADD     
      00166  040160212444            VFD     O12/0401,H24/ADM     
      00167  040260626422            VFD     O12/0402,H24/SUB     
      00170  042060304751            VFD     O12/0420,H24/HPR     
      00171  044060313162            VFD     O12/0440,H24/IIS     
      00172  044160432431            VFD     O12/0441,H24/LDI     
      00173  044260466231            VFD     O12/0442,H24/OSI     
      00174  044360244324            VFD     O12/0443,H24/DLD     
      00175  044460462663            VFD     O12/0444,H24/OFT     
      00176  044560513162            VFD     O12/0445,H24/RIS     
      00177  044660464563            VFD     O12/0446,H24/ONT     
      00200  050060234321            VFD     O12/0500,H24/CLA     
      00201  050260234362            VFD     O12/0502,H24/CLS     
      00202  052060712563            VFD     O12/0520,H24/ZET     
      00203  052260672523            VFD     O12/0522,H24/XEC     
      00204  053460436721            VFD     O12/0534,H24/LXA     
      00205  053560432123            VFD     O12/0535,H24/LAC     
      00206  054051233021            VFD     O12/0540,H24/RCHA    
      00207  054151233023            VFD     O12/0541,H24/RCHC    
      00210  054251233025            VFD     O12/0542,H24/RCHE    
      00211  054351233027            VFD     O12/0543,H24/RCHG    
      00212  054443233021            VFD     O12/0544,H24/LCHA    
      00213  054543233023            VFD     O12/0545,H24/LCHC    
      00214  054643233025            VFD     O12/0546,H24/LCHE    
      00215  054743233027            VFD     O12/0547,H24/LCHG    
      00216  056060432450            VFD     O12/0560,H24/LDQ     
      00217  056260435131            VFD     O12/0562,H24/LRI     
      00220  056460254522            VFD     O12/0564,H24/ENB     
      00221  060060626371            VFD     O12/0600,H24/STZ     
      00222  060160626346            VFD     O12/0601,H24/STO     
      00223  060260624366            VFD     O12/0602,H24/SLW     
      00224  060460626331            VFD     O12/0604,H24/STI     
      00225  062160626321            VFD     O12/0621,H24/STA     
      00226  062260626324            VFD     O12/0622,H24/STD     
      00227  062560626363            VFD     O12/0625,H24/STT     
      00230  063060626347            VFD     O12/0630,H24/STP     
      00231  063460626721            VFD     O12/0634,H24/SXA     
      00232  063660622321            VFD     O12/0636,H24/SCA     
      00233  064062233021            VFD     O12/0640,H24/SCHA    
      00234  064162233023            VFD     O12/0641,H24/SCHC    
      00235  064262233025            VFD     O12/0642,H24/SCHE    
      00236  064362233027            VFD     O12/0643,H24/SCHG    
      00237  064462232421            VFD     O12/0644,H24/SCDA    
      00240  064562232423            VFD     O12/0645,H24/SCDC    
      00241  064662232425            VFD     O12/0646,H24/SCDE    
1      M1416-4882 J. PODOLSKY   SYMBOLIC OPERATION CODE LOOKUP - $OPCODE                         PAGE 5     
                           OPTBL, TABLE FOR OPCODE LOOKUP                           
                  
      00242  064762232427            VFD     O12/0647,H24/SCDG    
      00243  066062624321            VFD     O12/0660,H24/SSLA    
      00244  066162624323            VFD     O12/0661,H24/SSLC    
      00245  066262624325            VFD     O12/0662,H24/SSLE    
      00246  066362624327            VFD     O12/0663,H24/SSLG    
      00247  066447624321            VFD     O12/0664,H24/PSLA    
      00250  066547624323            VFD     O12/0665,H24/PSLC    
      00251  066647624325            VFD     O12/0666,H24/PSLE    
      00252  066747624327            VFD     O12/0667,H24/PSLG    
      00253  073460472167            VFD     O12/0734,H24/PAX     
      00254  073760472123            VFD     O12/0737,H24/PAC     
      00255  075460476721            VFD     O12/0754,H24/PXA     
      00256  075660472321            VFD     O12/0756,H24/PCA     
      00257  076060476225            VFD     O12/0760,H24/PSE     
      00260  076160454647            VFD     O12/0761,H24/NOP     
      00261  076260512462            VFD     O12/0762,H24/RDS     
      00262  076360434362            VFD     O12/0763,H24/LLS     
      00263  076460226251            VFD     O12/0764,H24/BSR     
      00264  076560435162            VFD     O12/0765,H24/LRS     
      00265  076660665162            VFD     O12/0766,H24/WRS     
      00266  076760214362            VFD     O12/0767,H24/ALS     
      00267  077060662526            VFD     O12/0770,H24/WEF     
      00270  077160215162            VFD     O12/0771,H24/ARS     
      00271  077260512566            VFD     O12/0772,H24/REW     
      00272  077460216763            VFD     O12/0774,H24/AXT     
      00273  077660622445            VFD     O12/0776,H24/SDN     
      00274  402125624563            VFD     O12/4021,H24/ESNT    
      00275  402263512322            VFD     O12/4022,H24/TRCB    
      00276  402463512324            VFD     O12/4024,H24/TRCD    
      00277  402663512326            VFD     O12/4026,H24/TRCF    
      00300  402763512330            VFD     O12/4027,H24/TRCH    
      00301  403063252622            VFD     O12/4030,H24/TEFB    
      00302  403163252624            VFD     O12/4031,H24/TEFD    
      00303  403263252626            VFD     O12/4032,H24/TEFF    
      00304  403363252630            VFD     O12/4033,H24/TEFH    
      00305  404260513121            VFD     O12/4042,H24/RIA     
      00306  404660473121            VFD     O12/4046,H24/PIA     
      00307  405160313143            VFD     O12/4051,H24/IIL     
      00310  405460432663            VFD     O12/4054,H24/LFT     
      00311  405560623143            VFD     O12/4055,H24/SIL     
      00312  405660434563            VFD     O12/4056,H24/LNT     
      00313  405760513143            VFD     O12/4057,H24/RIL     
      00314  406063234521            VFD     O12/4060,H24/TCNA    
      00315  406163234522            VFD     O12/4061,H24/TCNB    
      00316  406263234523            VFD     O12/4062,H24/TCNC    
      00317  406363234524            VFD     O12/4063,H24/TCND    
      00320  406463234525            VFD     O12/4064,H24/TCNE    
      00321  406563234526            VFD     O12/4065,H24/TCNF    
      00322  406663234527            VFD     O12/4066,H24/TCNG    
      00323  406763234530            VFD     O12/4067,H24/TCNH    
      00324  410060634571            VFD     O12/4100,H24/TNZ     
      00325  410160633122            VFD     O12/4101,H24/TIB     
      00326  411460232150            VFD     O12/4114,H24/CAQ     
      00327  412060634431            VFD     O12/4120,H24/TMI     
      00330  413060672343            VFD     O12/4130,H24/XCL     
1      M1416-4882 J. PODOLSKY   SYMBOLIC OPERATION CODE LOOKUP - $OPCODE                         PAGE 6     
                           OPTBL, TABLE FOR OPCODE LOOKUP                           
                  
      00331  414060634546            VFD     O12/4140,H24/TNO     
      00332  415460235150            VFD     O12/4154,H24/CRQ     
      00333  420060444751            VFD     O12/4200,H24/MPR     
      00334  424024262430            VFD     O12/4240,H24/DFDH    
      00335  424124262447            VFD     O12/4241,H24/DFDP    
      00336  426060642644            VFD     O12/4260,H24/UFM     
      00337  426124642644            VFD     O12/4261,H24/DUFM    
      00340  430060642621            VFD     O12/4300,H24/UFA     
      00341  430124642621            VFD     O12/4301,H24/DUFA    
      00342  430260642662            VFD     O12/4302,H24/UFS     
      00343  430324642662            VFD     O12/4303,H24/DUFS    
      00344  430460642144            VFD     O12/4304,H24/UAM     
      00345  430524642144            VFD     O12/4305,H24/DUAM    
      00346  430660646244            VFD     O12/4306,H24/USM     
      00347  430724646244            VFD     O12/4307,H24/DUSM    
      00350  432060214521            VFD     O12/4320,H24/ANA     
      00351  434060432162            VFD     O12/4340,H24/LAS     
      00352  440060622244            VFD     O12/4400,H24/SBM     
      00353  450060232143            VFD     O12/4500,H24/CAL     
      00354  450160465121            VFD     O12/4501,H24/ORA     
      00355  452060457163            VFD     O12/4520,H24/NZT     
      00356  453460436724            VFD     O12/4534,H24/LXD     
      00357  453560432423            VFD     O12/4535,H24/LDC     
      00360  454051233022            VFD     O12/4540,H24/RCHB    
      00361  454151233024            VFD     O12/4541,H24/RCHD    
      00362  454251233026            VFD     O12/4542,H24/RCHF    
      00363  454351233030            VFD     O12/4543,H24/RCHH    
      00364  454443233022            VFD     O12/4544,H24/LCHB    
      00365  454543233024            VFD     O12/4545,H24/LCHD    
      00366  454643233026            VFD     O12/4546,H24/LCHF    
      00367  454743233030            VFD     O12/4547,H24/LCHH    
      00370  456460434731            VFD     O12/4564,H24/LPI     
      00371  460060626350            VFD     O12/4600,H24/STQ     
      00372  460160625131            VFD     O12/4601,H24/SRI     
      00373  460260465162            VFD     O12/4602,H24/ORS     
      00374  460360246263            VFD     O12/4603,H24/DST     
      00375  460460624731            VFD     O12/4604,H24/SPI     
      00376  462060624350            VFD     O12/4620,H24/SLQ     
      00377  462560626343            VFD     O12/4625,H24/STL     
      00400  463460626724            VFD     O12/4634,H24/SXD     
      00401  463660622324            VFD     O12/4636,H24/SCD     
      00402  464062233022            VFD     O12/4640,H24/SCHB    
      00403  464162233024            VFD     O12/4641,H24/SCHD    
      00404  464262233026            VFD     O12/4642,H24/SCHF    
      00405  464362233030            VFD     O12/4643,H24/SCHH    
      00406  464462232422            VFD     O12/4644,H24/SCDB    
      00407  464562232424            VFD     O12/4645,H24/SCDD    
      00410  464662232426            VFD     O12/4646,H24/SCDF    
      00411  464762232430            VFD     O12/4647,H24/SCDH    
      00412  466062624322            VFD     O12/4660,H24/SSLB    
      00413  466162624324            VFD     O12/4661,H24/SSLD    
      00414  466262624326            VFD     O12/4662,H24/SSLF    
      00415  466362624330            VFD     O12/4663,H24/SSLH    
      00416  466447624322            VFD     O12/4664,H24/PSLB    
      00417  466547624324            VFD     O12/4665,H24/PSLD    
1      M1416-4882 J. PODOLSKY   SYMBOLIC OPERATION CODE LOOKUP - $OPCODE                         PAGE 7     
                           OPTBL, TABLE FOR OPCODE LOOKUP                           
                  
      00420  466647624326            VFD     O12/4666,H24/PSLF    
      00421  466747624330            VFD     O12/4667,H24/PSLH    
      00422  473460472467            VFD     O12/4734,H24/PDX     
      00423  473760472423            VFD     O12/4737,H24/PDC     
      00424  475460476724            VFD     O12/4754,H24/PXD     
      00425  475660472324            VFD     O12/4756,H24/PCD     
      00426  476060446225            VFD     O12/4760,H24/MSE     
      00427  476160622540            VFD     O12/4761,H24/SE-     
      00430  476360432743            VFD     O12/4763,H24/LGL     
      00431  476460226226            VFD     O12/4764,H24/BSF     
      00432  476560432751            VFD     O12/4765,H24/LGR     
      00433  477260516445            VFD     O12/4772,H24/RUN     
      00434  477360515043            VFD     O12/4773,H24/RQL     
      00435  477460216723            VFD     O12/4774,H24/AXC     
                  
                       00346  NTBL   EQU     *-OPTBL       LENGTH OF 'NORMAL OPTBL  
                  
                  
                                     SPACE   2  
                              *      TABLE OF PREFIX CODES FOLLOWS...   
                  
      00436  000060477125            VFD     O12/0000,H24/PZE     
      00437  100060636731            VFD     O12/1000,H24/TXI     
      00440  200060633167            VFD     O12/2000,H24/TIX     
      00441  300060636730            VFD     O12/3000,H24/TXH     
      00442  400060447125            VFD     O12/4000,H24/MZE     
      00443  500060626351            VFD     O12/5000,H24/STR     
      00444  600060634567            VFD     O12/6000,H24/TNX     
      00445  700060636743            VFD     O12/7000,H24/TXL     
                  
                                     END  
                  
        LITERALS  
      00446  000060000000     
      00447  300000000000     
      00450  546060606060     
      00451  606060606060     
      00452  777700000000     
1      M1416-4882 J. PODOLSKY   SYMBOLIC OPERATION CODE LOOKUP - $OPCODE                         PAGE 1     
                        POST PROCESSOR ASSEMBLY DATA  
                  
        453 IS THE FIRST LOCATION NOT USED BY THIS PROGRAM  
                  
0REFERENCES TO DEFINED SYMBOLS      
        346   NTBL    13,   14,   52,  436
         13   OPCK    22,   23,   24,   25,   26,   27,   30,   31,   32,   33,   34,   35,   36,   37
         61   OPFX    10,   40,   41
         57   OPR2     3
         56   OPR4     2
         66   OWRD     4,   45,   61
         52  GETOP    65
         21  GOLOW    13
         43  LOWER    21
         67  OPFLD     6,   16
         44  OPFND    20
         70  OPTBL    14,   52,   70,  436
         42 HIGHER    17
          2 OPCODE     0
                  
0 NO ERROR IN ABOVE ASSEMBLY. 




CNVT1D   BCD 09/11/67 1731.8    1074         00000    
1      M1416-4882 J. PODOLSKY   $CVA, $CVW, $CDA - UTILITY CONVERSION ROUTINES                   PAGE 1     
                  
                                     PCC     ON 
                                     COUNT   50 
                                     LBL     UTIL     
                  
                       00002         ENTRY   CVA           CONVERT ADDRESS TO OCTAL-BCI   
                       00020         ENTRY   CVW           CONVERT FULL-WORD TO OCTAL-BCI 
                       00035         ENTRY   CDA           CONVERT ADDRESS TO DECIMAL-BCI 
                  
                                             $CVA, CONVERT MQ ADDRESS TO OCTAL-BCI  
                  
                  
            LINKAGE DIRECTOR  
      00000  000000000000     
      00001  236521606060     
                  
      00002  0634 00 4 00016  CVA    SXA     CVA4,4        SAVE INDEX REGISTER 4    
      00003 -0763 00 0 00025         LGL     21            SHIFT ADDRESS TO LEFT-HALF MQ  
      00004 -0754 00 0 00000         ZAC                   WIPE OUT ACCUMULATOR     
      00005  0774 00 4 00005         AXT     5,4           COUNT 5 CHARACTERS IN 15 BIT ADDRESS 
      00006 -0763 00 0 00003         LGL     3             MOVE NEXT CHARACTER TO AC
      00007 -0100 00 0 00011         TNZ     *+2           IF IT IS STILL A ZERO,   
      00010  2 00001 4 00006         TIX     *-2,4,1       IGNORE IT    
      00011 -0501 00 0 00061         ORA     =H     0      INSERT LEADING BLANKS    
      00012 -2 00001 4 00016         TNX     CVA4,4,1      IF NOT LAST CHARACTER,   
      00013  0767 00 0 00003         ALS     3             INSERT ZONE FOR NEXT CHARACTER 
      00014 -0763 00 0 00003         LGL     3             INSERT NEXT CHARACTER    
      00015  2 00001 4 00013         TIX     *-2,4,1       AND COUNT REMAINING CHARACTERS 
      00016  0774 00 4 00000  CVA4   AXT     -,4           RESTORE RETURN     
      00017  0020 00 4 00001         TRA     1,4           RETURN TO CALLER   
                  
                  
                                     SPACE   2  
                                             $CVW, CONVERT MQ WORD TO OCTAL-BCI     
                  
      00020 -0773 00 0 00022  CVW    RQL     18            CONVERT RIGHT HALF FIRST 
      00021  0140 00 0 00022         TOV     *+1           TURN OFF AC OVERFLOW LIGHT     
      00022 -0500 00 0 00057         CAL     =1            SET MARKER FOR OVERFLOW  
      00023  0767 00 0 00003         ALS     3             INSERT ZONE  
      00024 -0763 00 0 00003         LGL     3             AND THEN CHARACTER 
      00025 -0140 00 0 00023         TNO     *-2           COUNT 6 CHARACTERS 
      00026  0602 00 0 00056         SLW     CVTR          SAVE CONVERTED RIGHT HALF
      00027 -0500 00 0 00057         CAL     =1            SET OVERFLOW MARKER
      00030  0767 00 0 00003         ALS     3             INSERT ZONE  
      00031 -0763 00 0 00003         LGL     3             INSERT CHARACTER   
      00032 -0140 00 0 00030         TNO     *-2           COUNT 6 CHARACTERS 
      00033  0560 00 0 00056         LDQ     CVTR          GET CONVERTED RIGHT HALF 
      00034  0020 00 4 00001         TRA     1,4           RETURN 
                  
                  
                                     SPACE   2  
                                             $CDA, CONVERT MQ ADDRESS TO DECIMAL-BCI
                  
      00035  0634 00 4 00054  CDA    SXA     CDA4,4        SAVE INDEX REGISTER 4    
      00036 -0763 00 0 00025         LGL     21            CLEAR OUT GARBAGE  
      00037 -0773 00 0 00017         RQL     15            FROM LEFT 21 BITS OF MQ  
      00040  0600 00 0 00056         STZ     CVTR          INITIALIZE CONVERTED WORD
1      M1416-4882 J. PODOLSKY   $CVA, $CVW, $CDA - UTILITY CONVERSION ROUTINES                   PAGE 2     
                  
      00041  0774 00 4 00036         AXT     30,4          COUNT 5 CHARACTERS 
      00042 -0754 00 0 00000  CDZ    ZAC                   CLEAR AC     
      00043  0221 00 0 00060         DVP     =10           MOVE NEXT DECIMAL DIGIT TO AC  
      00044  0767 00 4 00036         ALS     30,4          SHIFT INTO POSITION
      00045 -0602 00 0 00056         ORS     CVTR          AND 'OR' INTO PARTIAL WORD     
      00046 -0500 00 0 00057         CAL     =1            SET FOR TLQ TEST   
      00047  0040 00 0 00051         TLQ     *+2           IF MQ IS NOT ZERO, 
      00050  1 77772 4 00042         TXI     CDZ,4,-6      RETURN FOR NEXT CHARACTER
      00051 -0500 00 0 00062         CAL     =H            WORD OF BLANKS     
      00052  0767 00 4 00044         ALS     36,4          SHIFT TO ONE CHARACTER PAST    
      00053 -0501 00 0 00056         ORA     CVTR          THE LEFT-MOST NON-ZERO DIGIT   
      00054  0774 00 4 00000  CDA4   AXT     -,4           RESTORE RETURN     
      00055  0020 00 4 00001         TRA     1,4           RETURN TO CALLER   
                  
                  
                                     SPACE   2  
      00056  0 00000 0 00000  CVTR   PZE     0             STORAGE FOR CONVERTED RIGHT HALF     
                  
                                     END  
                  
        LITERALS  
      00057  000000000001     
      00060  000000000012     
      00061  606060606000     
      00062  606060606060     
1      M1416-4882 J. PODOLSKY   $CVA, $CVW, $CDA - UTILITY CONVERSION ROUTINES                   PAGE 1     
                        POST PROCESSOR ASSEMBLY DATA  
                  
         63 IS THE FIRST LOCATION NOT USED BY THIS PROGRAM  
                  
0REFERENCES TO DEFINED SYMBOLS      
         35    CDA     0
         42    CDZ    50
          2    CVA     0
         20    CVW     0
         54   CDA4    35
         16   CVA4     2,   12
         56   CVTR    26,   33,   40,   45,   53
                  
0 NO ERROR IN ABOVE ASSEMBLY. 




UPCK2D   BCD 09/11/67 1731.8    5903         00000    
1      M1416-4882 J. PODOLSKY   UTILITY PACKAGE FOR B-1 DUMP INTERPRETER                         PAGE 1     
                  
                                     PCC     ON 
                                     COUNT   250
                                     LBL     UTIL     
                                     TITLE
                       00002         ENTRY   .SETUP        TO INITIALIZE UTILITY PACKAGE  
                       00045         ENTRY   .SPRNT        TO WRITE OFF-LINE LISTING TAPE 
                       00104         ENTRY   .FOUT         TO FORCE BUFFER ONTO OUTPUT TAPE     
                       00223         ENTRY   (PRNT)        TO PRINT ON THE ON-LINE PRINTER
                       00362         ENTRY   EXIT          TO RETURN TO F.M.S. IF BACKGROUND    
                  
                  
                       00002  START  EQU     *             ..     
                  
                                             CALLING SEQUENCES .. 
                  
                                             1.  TO INITIALIZE UTILITY PACKAGE ..   
                  
                                                           TSX $.SETUP,4       ..   
                  
                                             2.  TO PRINT A BCD STRING WITH CARRIAGE CONTROL .. 
                  
                                                           TSX $.SPRNT,4       CALL OFF-LINE PRINT    
                                                           PZE  STRING,,'N'    ..   
                  
                                                 .SPRNT WRITES THE 'N'-WORD BCD STRING BEGINNING AT   
                                                 'STRING' ONTO THE F.M.S. LISTING TAPE 'P'.  OUTPUT   
                                                 IS PACKED AT A MAXIMUM OF 'NBUFF' WORDS PER RECORD,  
                                                 WITH 'RCDMK' AS THE 1401 RECORD MARK CHARACTER.
                  
                                             3.  TO FORCE OUTPUT BUFFER ONTO TAPE ..
                  
                                                           TSX $.FOUT,4        ..   
                  
                                             4.  TO PRINT A MESSAGE ON-LINE ..
                  
                                                           TSX $(PRNT),4       CALL ON-LINE PRINT     
                                                           PFX  STRING,T,N    
                  
                                                 PFX=PZE, T=0, NO SPACING OR HALT.  
                                                 PFX=PZE, T NON-0, NO STOP BUT SPACE 5 LINES.   
                                                 PFX=MZE, PRINT, SPACE 5 LINES, LIGHT UP CONSOLE,     
                                                          AND HALT (HTR 2,4). 
                                                 'N' MUST BE LESS THAN 20 - EXTRA WORDS IGNORED.
                  
                                             5.  TO TERMINATE THIS JOB ..     
                  
                                                           TSX $EXIT,4         LET EXIT FINISH UP     
                  
                  
                                             PARAMETERS VARIABLE AT ASSEMBLY TIME ..
                  
                       01203  P      TAPENO  A3            F.M.S. LISTING OUTPUT TAPE     
                       01201  S      TAPENO  A1            F.M.S. SYSTEMS TAPE
                       00150  NBUFF  EQU     104           MAXIMUM RECORD SIZE ACCEPTED BY 1401 
                      000072  RCDMK  BOOL    72            1401 RECORD MARK   
1      M1416-4882 J. PODOLSKY   UTILITY PACKAGE FOR B-1 DUMP INTERPRETER                         PAGE 2     
                           .SETUP - INITIALIZE UTILITY PACKAGE                      
                  
                                     TTL     .SETUP - INITIALIZE UTILITY PACKAGE    
                  
      00002  0634 00 4 00040  .SETUP SXA     SETP4,4       SAVE RETURN LINKAGE
      00003  0760 00 0 00016         LMTM                  THIS IS A 7094     
      00004  0060 00 0 00004         TCOA    *             INITIALIZE CHANNEL I/O ..
      00005  0022 00 0 00006         TRCA    *+1           TURN OFF REDUNDANCY AND EOF INDICATORS     
      00006  0030 00 0 00007         TEFA    *+1           ..     
      00007 -0760 00 0 01000         ETTA                  TURN OFF END OF TAPE INDICATOR 
      00010  0761 00 0 00000         NOP                   ..     
      00011  0061 00 0 00011         TCOB    *             DO SAME WITH CHANNEL B   
      00012 -0022 00 0 00013         TRCB    *+1           ..     
      00013 -0030 00 0 00014         TEFB    *+1           ..     
      00014 -0760 00 0 02000         ETTB                  ..     
      00015  0761 00 0 00000         NOP                   ..     
      00016  0760 00 0 00005         IOT                   TURN OFF I/O CHECK INDICATOR   
      00017  0761 00 0 00000         NOP                   ..     
      00020  0074 00 4 00043         TSX     CKTSS,4       SEE IF CTSS IS RUNNING   
      00021  0020 00 0 00027         TRA     NOTSS         NO, SKIP OVER I/O COMMAND SETTING    
      00022  0774 00 4 00005         AXT     NCLST,4       YES, SET ALL I/O COMMANDS FOR CORE B 
      00023 -0500 00 0 01046         CAL     =O100000      ..     
      00024 -0602 00 4 00442         ORS     CLST+NCLST,4  SET BIT 20 FOR THIS COMMAND    
      00025  2 00001 4 00024         TIX     *-1,4,1       WHEN FINISHED,     
      00026  0020 00 0 00040         TRA     SETP4         WIND UP SETUP ROUTINE    
      00027  0000 00 0 00030  NOTSS  HTR     *+1           NOT BACKGROUND - PAUSE FOR OPERATOR  
      00030 -0761 00 0 00044         EFT                   TEST 32/65K - ARE WE IN CORE B.
      00031  0020 00 0 00040         TRA     SETP4         YES, MUST BE RUNNING UNDER F.M.S.    
      00032  0774 00 4 00000         AXT     0,4           CORE A, SEE IF 32K OR 65K
      00033 -0761 00 0 00042         SEB                   CAN WE SET ECC TO CORE B 
      00034 -0761 00 0 00044         EFT                   ..     
      00035  1 00001 4 00036         TXI     *+1,4,1       YES, SET NON-ZERO FLAG   
      00036 -0761 00 0 00041         SEA                   RESET E-CYCLE CONTROL    
      00037  0634 00 4 00042         SXA     CYLDR,4       SET 32K/65K SWITCH 
      00040  0774 00 4 00000  SETP4  AXT     **,4          RESTORE RETURN LINKAGE   
      00041  0020 00 4 00001         TRA     1,4           AND RETURN TO CALLER     
                  
                  
      00042  0 00000 0 00000  CYLDR  PZE     0             NON-ZERO IF LOADED BY CYLINDER LOADER
      00043  0101 00 0 00044  CKTSS  TIA     *+1           ARE WE EITHER 32K OR CORE A, 65K.    
      00044  0020 00 4 00001         TRA     1,4           YES, RETURN 1,4    
                                                           (SUPERVISOR RETURNS 2,4 IF CTSS)     
1      M1416-4882 J. PODOLSKY   UTILITY PACKAGE FOR B-1 DUMP INTERPRETER                         PAGE 3     
                           .SPRNT, .FOUT, OFF-LINE OUTPUT TAPE LISTING ROUTINES     
                  
                                     TTL     .SPRNT, .FOUT, OFF-LINE OUTPUT TAPE LISTING ROUTINES     
                  
                  
                                             .SPRNT, BUFFERED OFF-LINE OUTPUT TAPE ROUTINE
                  
      00045  0634 00 1 00100  .SPRNT SXA     SPRX1,1       SAVE INDEX REGISTERS     
      00046  0634 00 2 00101         SXA     SPRX2,2       ..     
      00047  0634 00 4 00102         SXA     SPRX4,4       ..     
      00050 -0500 00 4 00001         CAL     1,4           PICK UP CONTROL WORD     
      00051 -0734 00 1 00000         PDX     ,1            MOVE COUNT TO INDEX REG. 1     
      00052 -3 00000 1 00100         TXL     SPRX1,1,0     EXIT IF COUNT FIELD IS ZERO.   
      00053  0754 00 1 00000         PXA     ,1            OTHERWISE, FORM 'FIRST' + 'N'  
      00054  0361 00 4 00001         ACL     1,4           ..     
      00055  0621 00 0 00072         STA     PKUP          AND SAVE FOR STRING MOVING     
      00056 -0634 00 1 00060         SXD     INCMT,1       SAVE TO INCREMENT COUNT OF BUFFER    
      00057 -0534 00 2 00435         LXD     CURBUF,2      PICK UP WORD COUNT OF CURRENT BUFFER 
      00060  1 00000 2 00061  INCMT  TXI     *+1,2,**      INCREMENT BY 'N'   
      00061 -3 00150 2 00065         TXL     MOVE,2,NBUFF  WILL THIS OVERFLOW CURRENT BUFFER    
      00062  0074 00 4 00114         TSX     CHECK,4       YES, CHECK LAST TAPE WRITE.    
      00063  0074 00 4 00166         TSX     WRIT1,4       INITIATE WRITE ON CURRENT BUFFER     
      00064 -0534 00 2 00060         LXD     INCMT,2       AND INITIALIZE WORD COUNT FOR NEW BUFFER   
      00065  0754 00 2 00000  MOVE   PXA     ,2            SET UP TO COPY STRING INTO CURRENT BUFFER  
      00066  0361 00 0 00435         ACL     CURBUF        ..     
      00067  0621 00 0 00073         STA     COPY          ..     
      00070  1 00001 2 00071         TXI     *+1,2,1       ADD 1 TO TOTAL COUNT FOR RECORD MARKER     
      00071 -0634 00 2 00435         SXD     CURBUF,2      ..     
      00072 -0500 00 1 00000  PKUP   CAL     **,1          NOW MOVE BCD STRING TO OUTPUT BUFFER 
      00073  0602 00 1 00000  COPY   SLW     **,1          ..     
      00074  2 00001 1 00072         TIX     PKUP,1,1      ..     
      00075  0774 00 1 00000         AXT     0,1           ADD RECORD MARKER TO BUFFER    
      00076 -0500 00 0 00222         CAL     RCDMKR        ..     
      00077  0602 60 0 00073         SLW*    COPY          ..     
      00100  0774 00 1 00000  SPRX1  AXT     **,1          RESTORE INDEX REGISTERS  
      00101  0774 00 2 00000  SPRX2  AXT     **,2          ..     
      00102  0774 00 4 00000  SPRX4  AXT     **,4          ..     
      00103  0020 00 4 00002         TRA     2,4           AND RETURN TO CALLING PROGRAM  
                  
                  
                                             .FOUT, ROUTINE TO WRITE AND WRITE-CHECK CURRENT BUFFER   
                  
      00104  0634 00 4 00112  .FOUT  SXA     FOUTX,4       SAVE RETURN  
      00105  0074 00 4 00114         TSX     CHECK,4       CHECK LAST WRITE NOW     
      00106 -0534 00 4 00435         LXD     CURBUF,4      PICK UP WORD COUNT OF CURRENT BUFFER 
      00107 -3 00000 4 00112         TXL     FOUTX,4,0     IS BUFFER NON-EMPTY.     
      00110  0074 00 4 00166         TSX     WRIT1,4       YES, INITIATE I/O IN THIS BUFFER     
      00111  0074 00 4 00114         TSX     CHECK,4       AND CHECK WRITING IN BUFFER.   
      00112  0774 00 4 00000  FOUTX  AXT     **,4          RESTORE RETURN LINKAGE   
      00113  0020 00 4 00001         TRA     1,4           AND GO BACK  
1      M1416-4882 J. PODOLSKY   UTILITY PACKAGE FOR B-1 DUMP INTERPRETER                         PAGE 4     
                           SUBROUTINES AND MISCELLANEOUS FOR .SPRNT, .FOUT          
                  
                                     TTL     SUBROUTINES AND MISCELLANEOUS FOR .SPRNT, .FOUT    
                  
      00114  0634 00 4 00122  CHECK  SXA     CHKX4,4       SAVE RETURN LOCATION     
      00115  0774 00 4 00012  CHECK1 AXT     10,4          TRY 10 TIMES TO WRITE.   
      00116  0060 00 0 00116  CHECK2 TCOP    *             WAIT FOR I/O ACTIVITY TO STOP  
      00117  0022 00 0 00124         TRCP    WRTERR        WAS THERE A REDUNDANCY WRITING.
      00120 -0760 00 0 01000         ETTP                  NO, WAS END OF TAPE MARKER SENSED.   
      00121  0020 00 0 00146         TRA     ENDTP         YES, SKIP TO CLOSE OUT TAPE.   
      00122  0774 00 4 00000  CHKX4  AXT     **,4          ALL OK, RESTORE RETURN   
      00123  0020 00 4 00001         TRA     1,4           AND GO BACK TO CALLING PROGRAM 
                  
      00124  0764 00 0 01203  WRTERR BSRP                  REDUNDANCY WRITING - BACK UP TAPE    
      00125 -2 00001 4 00131         TNX     ERASE,4,1     IS THIS THE 10'TH ERROR IN A ROW.    
      00126  0766 00 0 01203         WTDP                  NO, TRY WRITING AGAIN OVER SAME SPOT.
      00127  0540 00 0 00436         RCHP    IOBUF         ..     
      00130  0020 00 0 00116         TRA     CHECK2        AND GO BACK TO RE-CHECK. 
      00131  0766 00 0 01203  ERASE  WTDP                  10 CONSECUTIVE ERRORS - TRY TO ERASE.
      00132  0060 00 0 00132         TCOP    *             ..     
      00133  0022 00 0 00137         TRCP    ERASE1        WAS THERE A BAD SPOT ON THE TAPE.    
      00134  0766 00 0 01203         WTDP                  NO, TRY 10 TIMES OVER THIS AREA OF TAPE.   
      00135  0540 00 0 00436         RCHP    IOBUF         ..     
      00136  0020 00 0 00115         TRA     CHECK1        ..     
      00137  0764 00 0 01203  ERASE1 BSRP                  BAD SPOT - BACK UP OVER IT.    
      00140  0074 00 4 00223         TSX     (PRNT),4      COMMENT ON-LINE, BAD TAPE.     
      00141  0 00007 0 00177         PZE     CMNT1,,7      ..     
      00142  0074 00 4 00152         TSX     CLOSE,4       CLOSE OUT THIS TAPE.     
      00143  0766 00 0 01203         WTDP                  NEW TAPE IS UP, HERE WE GO AGAIN.    
      00144  0540 00 0 00436         RCHP    IOBUF         ..     
      00145  0020 00 0 00115         TRA     CHECK1        GO BACK TO TRY 10 TIMES AGAIN. 
                  
      00146  0074 00 4 00223  ENDTP  TSX     (PRNT),4      END OF TAPE - COMMENT ON-LINE. 
      00147  0 00005 0 00206         PZE     CMNT2,,5      ..     
      00150  0074 00 4 00152         TSX     CLOSE,4       CLOSE OUT TAPE.    
      00151  0020 00 0 00122         TRA     CHKX4         NEW TAPE UP - EXIT.
                  
      00152  0634 00 4 00164  CLOSE  SXA     CLSX4,4       SAVE RETURN  
      00153  0774 00 4 00005         AXT     5,4           WRITE 5 END OF FILE MARKS
      00154  0770 00 0 01203         WEFP                  ..     
      00155  2 00001 4 00154         TIX     *-1,4,1       ..     
      00156 -0772 00 0 01203         RUNP                  REWIND AND UNLOAD THE TAPE.    
      00157  0022 00 0 00160         TRCP    *+1           TURN OFF ANY RANDOM CHECK INDICATORS 
      00160 -0760 00 0 01000         ETTP                  ..     
      00161  0761 00 0 00000         NOP                   ..     
      00162  0074 00 4 00223         TSX     (PRNT),4      COMMENT ON-LINE, CHANGE TAPES. 
      00163 -0 00007 0 00213         MZE     CMNT3,,7      ..     
      00164  0774 00 4 00000  CLSX4  AXT     **,4          START PRESSED - RESTORE RETURN 
      00165  0020 00 4 00001         TRA     1,4           AND RETURN TO CALLER     
                  
      00166 -0500 00 0 00435  WRIT1  CAL     CURBUF        PICK UP CURRENT BUFFER POINTER 
      00167  0402 00 0 01047         SUB     =O1000000     SUBTRACT 1 FROM WORD COUNT     
      00170  0560 00 0 00436         LDQ     IOBUF         IN ORDER TO DELETE LAST RECORD MARKER
      00171  0602 00 0 00436         SLW     IOBUF         AND EXCHANGE BUFFER POINTERS   
      00172 -0600 00 0 00435         STQ     CURBUF        ..     
      00173 -0634 00 0 00435         SXD     CURBUF,0      INITIALIZE WORD COUNT IN NEW 'CURBUF'
      00174  0766 00 0 01203         WTDP                  WRITE-SELECT OUTPUT TAPE 
1      M1416-4882 J. PODOLSKY   UTILITY PACKAGE FOR B-1 DUMP INTERPRETER                         PAGE 5     
                           SUBROUTINES AND MISCELLANEOUS FOR .SPRNT, .FOUT          
                  
      00175  0540 00 0 00436         RCHP    IOBUF         AND INITIALIZE WRITING I/O BUFFER    
      00176  0020 00 4 00001         TRA     1,4           AND RETURN TO CONTINUE MAIN PROGRAM  
                  
                  
                       01203  T      SET     P             DEFINE BCD NAME OF OUTPUT TAPE 
                                     IFF     T/1024,X,Y    IS IT ON CHANNEL 'A'     
                       02103  T      SET     T+448         YES, CHANGE '12' TO '21' 
      00177  000100602346     CMNT1  BCI     6,010 CONSECUTIVE FAILURES WRITING TAP 
      00205  256021033360            VFD     O12/2560,12/T,O12/3360     
      00206  002545246046     CMNT2  BCI     4,0END OF TAPE SENSED ON T 
      00212  214725602103            VFD     O24/21472560,12/T    
      00213  602330214527     CMNT3  BCI     7, CHANGE TAPES AND PRESS START TO CONTINUE. 
                  
      00222  606060606072     RCDMKR VFD     O30/6060606060,6/RCDMK     
1      M1416-4882 J. PODOLSKY   UTILITY PACKAGE FOR B-1 DUMP INTERPRETER                         PAGE 6     
                           $(PRNT), ON-LINE PRINT ROUTINE                           
                  
                                     TTL     $(PRNT), ON-LINE PRINT ROUTINE   
                  
      00223  0634 00 4 00336  (PRNT) SXA     PRTX4,4       SAVE INDEX REGISTERS     
      00224  0634 00 2 00337         SXA     PRTX2,2       ..     
      00225  0634 00 1 00340         SXA     PRTX1,1       ..     
      00226 -0500 00 4 00001         CAL     1,4           GET CONTROL WORD   
      00227  0625 00 0 00354         STT     TAG           SPACING CONTROL    
      00230 -0734 00 2 00000         PDX     ,2            DECREMENT IS 'N'   
      00231 -3 00000 2 00336         TXL     PRTX4,2,0     EXIT IF WORD COUNT IS ZERO.    
      00232 -3 00024 2 00234         TXL     *+2,2,20      IF GREATER THAN 20,
      00233  0774 00 2 00024         AXT     20,2          PRINT FIRST 20 WORDS ONLY
      00234  0754 00 2 00000         PXA     ,2            MOVE N TO AC 
      00235  0361 00 4 00001         ACL     1,4           FORM FIRST + N     
      00236  0621 00 0 00314         STA     PRNT12        SAVE FOR CARD IMAGE ALGORITHM  
      00237 -0754 00 0 00000         ZAC                   CLEAR AC     
      00240  0522 00 0 00314         XEC     PRNT12        AND MOVE FIRST WORD TO MQ
      00241 -0763 00 0 00006         LGL     6             IF CARRIAGE CONTROL CHARACTER  
      00242 -0340 00 0 01044         LAS     =1            IS GREATER THAN 1, 
      00243 -0500 00 0 01045         CAL     =2            ASSUME SINGLE SPACE
      00244  0761 00 0 00000         NOP                   ..     
      00245  0737 00 4 00000         PAC     ,4            MOVE CARRIAGE CONTROL INDEX    
      00246 -0500 00 4 00356         CAL     CCLST,4       INSERT CARRIAGE CONTROL  
      00247  0602 00 0 00327         SLW     PSPRA         FOR SENSING AFTER PRINTER SELECT     
      00250 -0500 00 0 01050         CAL     =O200000000000   COLUMN MARKER--IGNORE FIRST CHARACTER   
      00251  0774 00 4 00005         AXT     5,4           COUNT 5 CHARACTERS FOR FIRST WORD    
      00252  0774 00 1 00030  PRNT1  AXT     24,1          COUNT 24 WORDS IN CARD IMAGE   
      00253  0600 00 1 01014         STZ     CDIM+24,1     WIPE OUT 24 WORDS  
      00254  2 00001 1 00253         TIX     *-1,1,1       IN CARD IMAGE BUFFER     
      00255  0774 00 1 00002         AXT     2,1           SET HALF MARKER TO LEFT HALF   
      00256 -0634 00 1 00305  PRNT2  SXD     PRNT9,1       SAVE HALF MARKER   
      00257  0634 00 2 00311  PRNT3  SXA     PRNT11,2      SAVE CURRENT N     
      00260  0602 00 0 00355  PRNT4  SLW     PTEMP         SAVE COLUMN MARKER 
      00261 -0754 00 0 00000         ZAC                   CLEAR AC, AND
      00262 -0763 00 0 00006         LGL     6             GET NEXT CHARACTER 
      00263  0767 00 0 00001         ALS     1             DOUBLE VALUE,
      00264  0734 00 2 00000         PAX     ,2            MOVE TO XR2  
      00265 -0500 00 0 00355         CAL     PTEMP         RESTORE COLUMN MARKER    
      00266 -3 00022 2 00305         TXL     PRNT9,2,18    IF NUMBER, SKIP ZONE CHECKING  
      00267 -3 00137 2 00273  PRNT5  TXL     PRNT6,2,95    IF CHARACTER HAS ZERO ZONE,    
      00270 -3 00140 2 00307         TXL     PRNT10,2,96   AND IS NOT BLANK,  
      00271 -0602 00 1 01010         ORS     CDIM+20,1     SET BIT FOR ZERO ZONE,   
      00272  1 77640 2 00301         TXI     PRNT8,2,-96   REMOVE ZONE, AND TRANSFER
      00273 -3 00077 2 00276  PRNT6  TXL     PRNT7,2,63    IF CHARACTER HAS ELEVEN ZONE,  
      00274 -0602 00 1 01012         ORS     CDIM+22,1     SET BIT FOR ELEVEN ZONE, 
      00275  1 77700 2 00301         TXI     PRNT8,2,-64   REMOVE ZONE, AND TRANSFER
      00276 -3 00037 2 00301  PRNT7  TXL     PRNT8,2,31    IF CHARACTER HAS TWELVE ZONE,  
      00277 -0602 00 1 01014         ORS     CDIM+24,1     SET BIT FOR TWELVE ZONE, 
      00300  1 77740 2 00301         TXI     PRNT8,2,-32   AND REMOVE ZONE    
      00301 -3 00022 2 00304  PRNT8  TXL     *+3,2,18      IF NOT A NUMBER,   
      00302 -0602 00 1 00770         ORS     CDIM+4,1      SET BIT FOR EIGHT ZONE   
      00303  1 77760 2 00304         TXI     *+1,2,-16     AND REMOVE EIGHT ZONE    
      00304 -3 00000 2 00307         TXL     PRNT10,2,0    IF NOT ZERO, 
      00305  1 00000 2 00306  PRNT9  TXI     *+1,2,-       NUMBER, MARK LEFT OR RIGHT HALF
      00306 -0602 00 2 01010         ORS     CDIM+20,2     AND SET ZONE BIT OF NUMBER     
      00307  0771 00 0 00001  PRNT10 ARS     1             FINISHED THIS COLUMN, SHIFT FOR NEXT 
1      M1416-4882 J. PODOLSKY   UTILITY PACKAGE FOR B-1 DUMP INTERPRETER                         PAGE 7     
                           $(PRNT), ON-LINE PRINT ROUTINE                           
                  
      00310  2 00001 4 00260         TIX     PRNT4,4,1     COUNT CHARACTERS IN THIS WORD  
      00311  0774 00 2 00000  PRNT11 AXT     -,2           FINISHED THIS WORD, RESTORE N  
      00312  1 77777 2 00313         TXI     *+1,2,-1      SUBTRACT 1   
      00313 -3 00000 2 00321         TXL     PRNT13,2,0    IF NOT LAST WORD,  
      00314  0560 00 2 00000  PRNT12 LDQ     -,2           GET NEXT WORD
      00315  0774 00 4 00006         AXT     6,4           COUNT 6 CHARACTERS FOR NEXT WORD     
      00316 -0100 00 0 00257         TNZ     PRNT3         IF AC IS ZERO,     
      00317 -0500 00 0 01051         CAL     =O400000000000   SET COLUMN MARKER TO FIRST COLUMN 
      00320  2 00001 1 00256         TIX     PRNT2,1,1     OF NEXT HALF 
      00321  0060 00 0 00321  PRNT13 TCOA    *             WHEN CHANNEL A IS FREE,  
      00322  0774 00 1 00030         AXT     24,1          MOVE 24 WORDS
      00323 -0500 00 1 01014         CAL     CDIM+24,1     FROM CARD IMAGE BUFFER   
      00324  0602 00 1 01044         SLW     PBUFF+24,1    TO PRINT BUFFER    
      00325  2 00001 1 00323         TIX     *-2,1,1       ..     
      00326  0766 00 0 01361         WPRA                  WRITE-SELECT PRINTER     
      00327  0761 00 0 00000  PSPRA  NOP                   SENSE PRINTER FOR CARRIAGE CONTROL   
      00330  0540 00 0 00437         RCHA    PRCOM         AND LOAD I/O COMMAND     
      00331 -3 00000 2 00336         TXL     PRTX4,2,0     IF LAST WORD NOT WRITTEN,
      00332 -0500 00 0 00361         CAL     NOSPC         INSERT NON-SPACING CONTROL     
      00333  0602 00 0 00327         SLW     PSPRA         FOR RIGHT-48 CHARACTERS  
      00334 -0500 00 0 01051         CAL     =O400000000000   SET COLUMN MARKER TO FIRST COLUMN 
      00335  0020 00 0 00252         TRA     PRNT1         RETURN TO FORM CARD IMAGE FOR RIGHT-48     
                  
      00336  0774 00 4 00000  PRTX4  AXT     -,4           RESTORE INDEX REGISTERS  
      00337  0774 00 2 00000  PRTX2  AXT     -,2           ..     
      00340  0774 00 1 00000  PRTX1  AXT     -,1           ..     
      00341  0500 00 4 00001         CLA     1,4           GET CONTROL WORD   
      00342 -0520 00 0 00354         NZT     TAG           IF TAG IS 0, 
      00343  0120 00 4 00002         TPL     2,4           RETURN IF PREFIX IS PZE  
      00344  0766 00 0 01361         WPRA                  WRITE-SELECT PRINTER     
      00345  0760 00 0 01364         SPRA    4             SPACE PRINTER
      00346  0760 00 0 01363         SPRA    3             ABOUT 1/10 PAGE    
      00347  0120 00 4 00002         TPL     2,4           IF PREFIX IS MZE,  
      00350  0760 00 0 00000         CLM                   LIGHT UP AC  
      00351  0760 00 0 00006         COM                   ..     
      00352  0560 00 0 01052         LDQ     =O777777777777   LIGHT UP MQ     
      00353  0000 00 4 00002         HTR     2,4           HALT COMPUTER
                  
                  
      00354  0 00000 0 00000  TAG    PZE     0             STORAGE FOR CONTROL WORD TAG   
      00355  0 00000 0 00000  PTEMP  PZE     0             CURRENT COLUMN MARKER    
      00356  0760 00 0 01364  CCLST  SPRA    4             CARRIAGE CONTROL.  0=DOUBLE SPACE    
      00357  0760 00 0 01361         SPRA    1             CARRIAGE CONTROL.  1=NEW PAGE  
      00360  0761 00 0 00000         NOP                   CARRIAGE CONTROL.  2=SINGLE SPACE    
      00361  0760 00 0 01371  NOSPC  SPRA    9             NON-SPACING CARRIAGE CONTROL   
1      M1416-4882 J. PODOLSKY   UTILITY PACKAGE FOR B-1 DUMP INTERPRETER                         PAGE 8     
                           EXIT - FINISH UP THIS JOB AND QUIT                       
                  
                                     TTL     EXIT - FINISH UP THIS JOB AND QUIT     
                  
      00362  0074 00 4 00104  EXIT   TSX     .FOUT,4       FORCE LAST OUTPUT BUFFER ONTO TAPE   
      00363  0520 00 0 00042         ZET     CYLDR         WERE WE LOADED BY CYLINDER LOADER.   
      00364  0020 00 0 00413         TRA     EXIT4         YES, SKIP OVER F.M.S. EXIT     
      00365  0774 00 1 00012  EXIT1  AXT     10,1          SET UP 10 READ ATTEMPTS ON TAPE 'S'  
      00366  0772 00 0 01201  EXIT2  REWS                  REWIND SYSTEM TAPE 
      00367  0762 00 0 01221         RTBS                  READ-SELECT SYSTEM TAPE  
      00370  0540 00 0 00440         RCHS    LOAD1         LOAD 3-WORD I/O LABEL    
      00371  0060 00 0 00371         TCOS    *             AND WAIT FOR COMPLETION OF READ.     
      00372  0022 00 0 00377         TRCS    EXIT3         WAS THERE A REDUNDANCY READING.
      00373  0762 00 0 01221         RTBS                  NO, SPACE OVER NEXT 2 SYSTEM RECORDS.
      00374  0762 00 0 01221         RTBS                  ..     
      00375 -0760 00 0 00016         EMTM                  ENTER 3-TAG MODE FOR MONITOR (UGH)   
      00376  0020 60 0 00002         TRA*    2             AND SAY GOOD-BYE TO THIS JOB.  
      00377  2 00001 1 00366  EXIT3  TIX     EXIT2,1,1     READ CHECK - IS IT 10'TH CONSECUTIVE.
      00400  0074 00 4 00223         TSX     (PRNT),4      YES, TELL OPERATOR.
      00401 -0 00010 0 00403         MZE     RDERR,,8      ..     
      00402  0020 00 0 00365         TRA     EXIT1         PRESS START - TRY 10 MORE TIMES.     
                  
                       01201  U      SET     S             DEFINE BCD NAME FOR SYSTEM TAPE
                                     IFF     U/1024,X,Y    IF IT IS ON CHANNEL 'A', 
                       02101  U      SET     U+448         CHANGE '12' TO '21'
      00403  000100602346     RDERR  BCI     7,010 CONSECUTIVE REDUNDANCIES READING TAPE  
      00412  210133606060            VFD     12/U,O24/33606060    
                  
                  
                                             HERE IF 65K, CORE 'A' (I.E., CYLINDER LOADED)
                  
      00413  0074 00 4 00223  EXIT4  TSX     (PRNT),4      HERE TO TERMINATE CYLINDER-LOADED JOB
      00414  0 00002 0 00422         PZE     DONE,,2       ..     
      00415  0774 00 1 00003         AXT     3,1           PRINT 3 LINES OF '*'S    
      00416  0074 00 4 00223         TSX     (PRNT),4      ..     
      00417  0 00011 0 00424         PZE     STARS,,9      ..     
      00420  2 00001 1 00416         TIX     *-2,1,1       WHEN FINISHED,     
      00421  0000 00 0 00413         HTR     EXIT4         STOP THE MACHINE.  
                  
      00422  002143436024     DONE   BCI     2,0ALL DONE .. 
      00424  605454545454     STARS  BCI     9, ***************************************************** 
1      M1416-4882 J. PODOLSKY   UTILITY PACKAGE FOR B-1 DUMP INTERPRETER                         PAGE 9     
                           I/O COMMANDS AND OTHER MISCELLANEOUS STORAGE             
                  
                                     TTL     I/O COMMANDS AND OTHER MISCELLANEOUS STORAGE 
                  
                       00435  CLST   EQU     *             ORIGIN OF COMMAND LIST   
      00435  3 00000 0 00442  CURBUF IORT    BUFF1,,**     POINTER TO CURRENT BUFFER FOR .SPRNT 
      00436  3 00000 0 00613  IOBUF  IORT    BUFF2,,**     POINTER TO INPUT/OUTPUT BUFFER FOR .SPRNT  
      00437  0 00030 0 01014  PRCOM  IOCD    PBUFF,,24     I/O COMMAND FOR PRINTER  
      00440 -0 00003 0 00000  LOAD1  IOCP    0,,3          LOAD SEQUENCE FOR F.M.S. SYSTEM TAPE 
      00441  1 00000 0 00000         TCH     0             NEXT I/O COMMAND AT LOC. 0     
                       00005  NCLST  EQU     *-CLST        LENGTH OF I/O COMMAND LIST     
                  
      00442                   BUFF1  BSS     NBUFF+1       BUFFERS FOR .SPRNT 
      00613                   BUFF2  BSS     NBUFF+1       ..     
      00764                   CDIM   BSS     24            AREA FOR CARD IMAGE FORMATION  
      01014                   PBUFF  BSS     24            BUFFER BETWEEN CARD IMAGE AND PRINTER
                  
                                     DETAIL                LIST LETERALS
                  
                                     END  
                  
        LITERALS  
      01044  000000000001     
      01045  000000000002     
      01046  000000100000     
      01047  000001000000     
      01050  200000000000     
      01051  400000000000     
      01052  777777777777     
1      M1416-4882 J. PODOLSKY   UTILITY PACKAGE FOR B-1 DUMP INTERPRETER                         PAGE 1     
                        POST PROCESSOR ASSEMBLY DATA  
                  
       1053 IS THE FIRST LOCATION NOT USED BY THIS PROGRAM  
                  
0REFERENCES TO DEFINED SYMBOLS      
       1203      P     2,  116,  117,  120,  124,  126,  127,  131,  132,  133,  134,  135,  137,  143,  144,  154,  156
                     157,  160,  174,  175,  177
       1201      S     2,  366,  367,  370,  371,  372,  373,  374,  403
       2103      T   177,  205,  212
       2101      U   403,  412
        354    TAG   227,  342
        764   CDIM   253,  271,  274,  277,  302,  306,  323
        435   CLST    24,  435,  442
         73   COPY    67,   77
        422   DONE   414
        362   EXIT     0
         65   MOVE    61
         72   PKUP    55,   74
        442  BUFF1   435
        613  BUFF2   436
        356  CCLST   246
        114  CHECK    62,  105,  111
        122  CHKX4   114,  151
         43  CKTSS    20
        152  CLOSE   142,  150
        164  CLSX4   152
        177  CMNT1   141
        206  CMNT2   147
        213  CMNT3   163
         42  CYLDR    37,  363
        146  ENDTP   121
        131  ERASE   125
        365  EXIT1   402
        366  EXIT2   377
        377  EXIT3   372
        413  EXIT4   364,  421
        112  FOUTX   104,  107
         60  INCMT    56,   64
        436  IOBUF   127,  135,  144,  170,  171,  175
        104  .FOUT     0,  362
        440  LOAD1   370
        150  NBUFF     2,   61,  442,  613
          5  NCLST    22,   24,  442
        361  NOSPC   332
         27  NOTSS    21
       1014  PBUFF   324,  437
        437  PRCOM   330
        252  PRNT1   335
        256  PRNT2   320
        257  PRNT3   316
        260  PRNT4   310
        267  PRNT5      
        273  PRNT6   267
        276  PRNT7   273
        301  PRNT8   272,  275,  276,  300
        305  PRNT9   256,  266
1      M1416-4882 J. PODOLSKY   UTILITY PACKAGE FOR B-1 DUMP INTERPRETER                         PAGE 2     
                        POST PROCESSOR ASSEMBLY DATA  
                  
        340  PRTX1   225
        337  PRTX2   224
        336  PRTX4   223,  231,  331
        327  PSPRA   247,  333
        355  PTEMP   260,  265
         72  RCDMK     2,  222
        403  RDERR   401
         40  SETP4     2,   26,   31
        100  SPRX1    45,   52
        101  SPRX2    46
        102  SPRX4    47
        424  STARS   417
          2  START     2
        166  WRIT1    63,  110
        115 CHECK1   136,  145
        116 CHECK2   130
        435 CURBUF    57,   66,   71,  106,  166,  172,  173
        137 ERASE1   133
          2 .SETUP     0
         45 .SPRNT     0
        307 PRNT10   270,  304
        311 PRNT11   257
        314 PRNT12   236,  240
        321 PRNT13   313
        222 RCDMKR    76
        124 WRTERR   117
        223 (PRNT)     0,  140,  146,  162,  400,  413,  416
                  
0 NO ERROR IN ABOVE ASSEMBLY. 




7750LD   BCD 02/09/69 0420.8    5293         00000    




7750LD   BCD 02/09/69 0336.6    2029         00000    
1      M1416-4882 J. PODOLSKY   7750 LOAD PROGRAM - DISK VERSION                                 PAGE 1     
                  
                                     PCC     ON 
                                     COUNT   150
                                     LBL     7750LD   
                                     NOLNK
                                     TITLE
                                     EXTERN  CHANL,READ,FINIS     
                  
      00000  233021454360     CHANL 
      00001  512521246060     READ  
      00002  263145316260     FINIS 
      00003  627062452144     SYSNAM
                  
                       00004  START  EQU     *             ..     
                  
                                             THIS IS THE 7750 LOAD PROGRAM - DISK VERSION.
                                             PROGRAM IS LOADED INTO CORE IN 65K WITH THE ONE-   
                                             CARD CYLINDER LOADER 'CYLOD000'.  UPON COMPLETION  
                                             OF LOADING, THE COMPUTER STOPS WITH THE 7750 
                                             DATA CHANNEL ENABLED.  THE OPERATOR IS THEN TO     
                                             PERFORM THE FOLLOWING STEPS AT THE 7750 CONSOLE .. 
                  
                                                 1)  PRESS 'STOP' 
                                                 2)  PRESS 'CLEAR'
                                                 3)  PRESS 'RESET'
                                                 4)  PRESS 'LOAD' 
                  
                                             THE 7750 LOAD PROGRAM THEN LOADS THE 7750 FROM A   
                                             LOAD FILE ON THE DISK IN M1416 CMFL01. 
                  
                  
      00004  0602 60 0 00003         SLW*    $SYSNAM       INITIAL ENTRY - SAVE NAME FROM TSS LOADER  
      00005  0074 00 4 00000         TSX     CHANL,4       WRITE LOADER ON 7750     
      00006 -1 00050 0 00120         CPYD    ILOAD,,NLOAD  ..     
      00007  0074 00 4 00001  NEXT   TSX     READ,4        READ NEXT INPUT CARD IMAGE FROM DISK 
      00010  0 00013 0 00171         PZE     BUFF,,N       READ BUFFER,,WORD COUNT  
      00011  0441 00 0 00173         LDI     BUFF+2        PICK UP 3RD WORD OF CARD 
      00012  0054 00  060000         RFT     60000         IS WORD COUNT HERE.
      00013  0020 00 0 00044         TRA     LOAD1         YES, USE 'LOAD1' ENTRY   
      00014  0441 00 0 00172         LDI     BUFF+1        NO, IS WORD COUNT IN WORD 2.   
      00015  0054 00  000003         RFT     3             ..     
      00016  0020 00 0 00047         TRA     LOAD2         YES, USE 'LOAD2' ENTRY   
      00017  0560 00 0 00171         LDQ     BUFF          NEITHER ONE, IT'S A TRANSFER CARD    
      00020 -0600 00 0 00204         STQ     WRBUFF        MOVE TRANSFER ADDRESS TO OUTPUT BUFFER     
      00021  0774 00 1 00036         AXT     5*6,1         COUNT 5 CHARACTERS IN ADDRESS  
      00022 -0754 00 0 00000         ZAC                   CONVERT BCD ADDRESS TO OCTAL   
      00023 -0773 00 0 00003         RQL     3             .. (0'S ARE 'BLANKS' ON CARD)  
      00024 -0763 00 0 00003         LGL     3             ..     
      00025  2 00006 1 00023         TIX     *-2,1,6       ..     
      00026  0560 00 0 00217         LDQ     =0            GET 4 LOW ORDER BITS IN MQ(2-5),     
      00027 -0765 00 0 00004         LGR     4             AND 11 HIGH ORDER BITS IN MQ(7-17)   
      00030 -0773 00 0 00020         RQL     16            ..     
      00031 -0765 00 0 00013         LGR     11            ..     
      00032 -0773 00 0 00035         RQL     29            ..     
      00033  0767 00 0 00003         ALS     3             NOW CONVERT TO OCTAL-BCD.
      00034 -0763 00 0 00003         LGL     3             ..     
      00035  2 00001 1 00033         TIX     *-2,1,1       ..     
1      M1416-4882 J. PODOLSKY   7750 LOAD PROGRAM - DISK VERSION                                 PAGE 2     
                  
      00036  0602 00 0 00205         SLW     WRBUFF+1      STORE RESULT IN OUTPUT BUFFER  
      00037 -0500 00 0 00222         CAL     =O10000       THIS BELONGS IN 3'RD WORD OF BUFFER  
      00040  0602 00 0 00206         SLW     WRBUFF+2      ..     
      00041  0074 00 4 00000         TSX     CHANL,4       WRITE FINAL 3 WORDS ONTO 7750  
      00042 -1 00003 0 00204         CPYD    WRBUFF,,3     ..     
      00043  0074 00 4 00002         TSX     FINIS,4       AND WIND UP THIS JOB.    
                  
      00044 -0500 00 0 00173  LOAD1  CAL     BUFF+2        ENTRY WHEN COUNT FIELD IS IN 3'RD WORD     
      00045  0771 00 0 00015         ARS     13            DIVIDE BY 2 (REALLY.)    
      00046  0020 00 0 00050         TRA     LOAD3         AND ENTER LOAD PROGRAM   
                  
      00047 -0500 00 0 00172  LOAD2  CAL     BUFF+1        COUNT FIELD IN WORD 2, ENTER HERE.   
                  
      00050 -0320 00 0 00221  LOAD3  ANA     =3            COMMON ENTRY - MASK OFF COUNT. 
      00051  0621 00 0 00170         STA     COUNT         SAVE TEMPORARILY.  
      00052  0560 00 0 00171         LDQ     BUFF          PICK UP ADDRESS FIELD    
      00053 -0600 00 0 00204         STQ     WRBUFF        INSERT INTO OUTPUT BUFFER
      00054 -0754 00 0 00000         ZAC                   ..     
      00055  0774 00 1 00036         AXT     5*6,1         COUNT 5 CHARACTERS IN ADDRESS  
      00056 -0773 00 0 00003         RQL     3             CONVERT OCTAL-BCD TO BINARY    
      00057 -0763 00 0 00003         LGL     3             ..     
      00060  2 00006 1 00056         TIX     *-2,1,6       ..     
      00061  0771 00 0 00001         ARS     1             TRUNCATE LOW ORDER BIT   
      00062  0361 00 0 00170         ACL     COUNT         ADD COUNT FIELD    
      00063  0560 00 0 00217         LDQ     =0            ..     
      00064 -0765 00 0 00003         LGR     3             LOW ORDER 3 BITS TO MQ   
      00065 -0773 00 0 00020         RQL     16            ..     
      00066 -0765 00 0 00013         LGR     11            ..     
      00067 -0773 00 0 00035         RQL     29            ..     
      00070  0767 00 0 00003         ALS     3             NOW CONVERT THIS MESS TO OCTAL-BCD   
      00071 -0763 00 0 00003         LGL     3             ..     
      00072  2 00001 1 00070         TIX     *-2,1,1       ..     
      00073  0602 00 0 00205         SLW     WRBUFF+1      AND INSERT INTO OUTPUT BUFFER  
      00074  0774 00 1 00002         AXT     2,1           NOW COMPUTE PARITY OF FIRST 2 WORDS  
      00075 -0500 00 0 00220         CAL     =1            INITIALIZE SUM OF '1' BITS     
      00076  0774 00 2 00044         AXT     36,2          COUNT 36 BITS IN WORD    
      00077  0560 00 1 00206         LDQ     WRBUFF+2,1    PICK UP NEXT WORD  
      00100  0760 00 0 00010         RND                   ADD ONE TO AC FOR EACH '1' BIT 
      00101 -0773 00 0 00001         RQL     1             SHIFT TO NEXT BIT  
      00102  2 00001 2 00100         TIX     *-2,2,1       WAS THAT THE 36'TH.
      00103  2 00001 1 00076         TIX     *-5,1,1       YES, ARE WE FINISHED.    
      00104 -0320 00 0 00220         ANA     =1            YES, ISOLATE (ODD) PARITY IN AC(35)  
      00105  0560 00 0 00173         LDQ     BUFF+2        APPEND PARITY BIT TO 2 LOW-ORDER CHARS.    
      00106 -0773 00 0 00030         RQL     24            OF WORD 3.   
      00107 -0763 00 0 00014         LGL     12            ..     
      00110  0602 00 0 00206         SLW     WRBUFF+2      AND INSERT INTO OUTPUT BUFFER  
      00111  0774 00 1 00010         AXT     N-3,1         MOVE REMAINING WORDS ON CARD TO BUFFER     
      00112 -0500 00 1 00204         CAL     BUFF+N,1      ..     
      00113  0602 00 1 00217         SLW     WRBUFF+N,1    ..     
      00114  2 00001 1 00112         TIX     *-2,1,1       ..     
      00115  0074 00 4 00000         TSX     CHANL,4       WRITE OUTPUT BUFFER ON 7750    
      00116 -1 00013 0 00204         CPYD    WRBUFF,,N     ..     
      00117  0020 00 0 00007         TRA     NEXT          AND GO BACK TO PROCESS NEXT CARD     
1      M1416-4882 J. PODOLSKY   7750 LOAD PROGRAM - DISK VERSION                                 PAGE 3     
                  
                  
                                             7750 INITIAL LOAD PROGRAM ..     
                  
                              LDPRG  MACRO   A             MACRO TO GENERATE LOAD PROGRAM 
                                     IRP     A             ..     
                                     BCI     1,A           ..     
                                     IRP                   ..     
                              LDPRG  END  
                  
                       00120  ILOAD  EQU     *             ORIGIN OF 7750 INITIAL LOAD PROGRAM  
                  
      00120                          LDPRG   (000240,774000,461500,034064,000066,040000)  
      00126                          LDPRG   (007000,006605,000320,574000,461500,034472)  
      00134                          LDPRG   (400066,050003,600000,004006,000260,000000)  
      00142                          LDPRG   (561700,036057,400046,140003,447240,006605)  
      00150                          LDPRG   (000020,000000,561700,024000,000056,160003)  
      00156                          LDPRG   (406140,006605,000360,000000,163600,036000)  
      00164                          LDPRG   (000200,000410,001200,000001)    
                  
                       00050  NLOAD  EQU     *-ILOAD       LENGTH OF INITIAL LOAD PROGRAM 
                  
      00170  0 00000 0 00000  COUNT  PZE     **            CARD 'WORD' COUNT STORAGE TEMP.
                  
                       00013  N      EQU     11            MAXIMUM WORD COUNT OF 7750 PROG. CARD
      00171                   BUFF   BSS     N             WORKING BUFFER FOR LOADER
      00204                   WRBUFF BSS     N             OUTPUT BUFFER FOR LOADER 
                  
                                     DETAIL                LIST LITERALS
                  
                                     END  
                  
        LITERALS  
      00217  000000000000     
      00220  000000000001     
      00221  000000000003     
      00222  000000010000     
1      M1416-4882 J. PODOLSKY   7750 LOAD PROGRAM - DISK VERSION                                 PAGE 1     
                        POST PROCESSOR ASSEMBLY DATA  
                  
        223 IS THE FIRST LOCATION NOT USED BY THIS PROGRAM  
                  
0REFERENCES TO DEFINED SYMBOLS      
         13      N    10,  111,  112,  113,  116,  171,  204
        171   BUFF    10,   11,   14,   17,   44,   47,   52,  105,  112
          7   NEXT   117
          1   READ     7
          0  CHANL     5,   41,  115
        170  COUNT    51,   62
          2  FINIS    43
        120  ILOAD     6,  120,  170
         44  LOAD1    13
         47  LOAD2    16
         50  LOAD3    46
         50  NLOAD     6,  170
          4  START     4
          3 SYSNAM     4
        204 WRBUFF    20,   36,   40,   42,   53,   73,   77,  110,  113,  116
                  
0 NO ERROR IN ABOVE ASSEMBLY. 




7750RD   BCD 02/09/69 0336.6    1930         00000    
1      M1416-4882 J. PODOLSKY   $READ - READ 7750 LOAD PROGRAM FROM DISK                         PAGE 1     
                  
                                     PCC     ON 
                                     COUNT   100
                                     LBL     READ     
                                     TITLE
                                     NOLNK
                       00011         ENTRY   READ          TO READ CARD IMAGE FROM 7750 PROGRAM 
                       00111         ENTRY   FINIS         TO FINISH READING AND CLOSE FILES    
                       00132         ENTRY   SYSNAM        POINTER TO NAME OF LOAD FILE   
                  
                                     EXTERN  ATTACH,OPEN,BUFFER,RDWAIT,CLOSE,IOFINI,PRNTER
                                     EXTERN  SETIO,PRINT    
                  
             3 00001 1 60000  PAR    OPSYN   PTH           SINGLE PARAMETER FOR I/O SYSTEM
                  
      00000  216363212330     ATTACH
      00001  464725456060     OPEN  
      00002  226426262551     BUFFER
      00003  512466213163     RDWAIT
      00004  234346622560     CLOSE 
      00005  314626314531     IOFINI
      00006  475145632551     PRNTER
      00007  622563314660     SETIO 
      00010  475131456360     PRINT 
                  
      00011  0634 00 2 00070  READ   SXA     RDIR2,2       SAVE INDEX REGISTERS     
      00012  0634 00 4 00071         SXA     RDIR4,4       ..     
      00013  0020 00 0 00014  FIRSW  TRA     *+1           IS THIS THE FIRST ENTRY. (NO, READ1) 
      00014 -0500 00 0 00132         CAL     SYSNAM        USE NAME OF LOAD FILE AS NAME1 
      00015  0760 00 0 00161         SWT     1             .. IF SENSE SWITCH 1 SET 
      00016 -0500 00 0 01071         CAL     =H  7750      .. ELSE, USE NAME '7750 (PROG)'
      00017  0602 00 0 00130         SLW     NAME1         ..     
      00020  0074 00 4 00007         TSX     SETIO,4       INITIALIZE FILE SYSTEM I/O     
      00021  3 00000 0 01065         PAR     =0            DUMMY AUTHOR NUMBER
      00022  0074 00 4 00000         TSX     ATTACH,4      ATTACH TO CMFL01 DIRECTORY     
      00023  3 00000 0 00126         PAR     PROBN         ..     
      00024  3 00000 0 00127         PAR     PROGN         ..     
      00025  0074 00 4 00001         TSX     OPEN,4        OPEN 7750 LOAD PROGRAM FOR READING   
      00026  3 00000 0 01070         PAR     =HR           ..     
      00027  3 00000 0 00130         PAR     NAME1         ..     
      00030  3 00000 0 00131         PAR     NAME2         ..     
      00031  3 00000 0 01067         PAR     =-0           DON'T SPECIFY MODE OR DEVICE   
      00032  3 00000 0 01067         PAR     =-0           ..     
      00033  0074 00 4 00002         TSX     BUFFER,4      ASSIGN I/O BUFFER TO 'NAME1''NAME2' FILE   
      00034  3 00000 0 00130         PAR     NAME1         ..     
      00035  3 00000 0 00131         PAR     NAME2         ..     
      00036  3 00660 0 00205         PAR     RBUFF,,NBUFF  ..     
      00037  0534 00 4 00071         LXA     RDIR4,4       PICK UP CALLING LINKAGE  
      00040 -0625 00 0 00013         STL     FIRSW         AND CLOSE OUT INITIALIZATION SECTION 
                  
      00041 -0500 00 4 00001  READ1  CAL     1,4           PICK UP CALLER'S CONTROL WORD  
      00042 -0734 00 2 00000         PDX     ,2            MOVE COUNT FIELD TO IR2  
      00043 -3 00000 2 00070         TXL     RDIR2,2,0     IGNORE ZERO WORD COUNTS  
      00044 -3 00016 2 00046         TXL     *+2,2,CRDCT   TRUNCATE EXTRA LARGE WORD COUNTS     
      00045  0774 00 2 00016         AXT     CRDCT,2       ..     
      00046  0754 00 2 00000         PXA     ,2            MOVE COUNT TO AC   
      00047  0361 00 4 00001         ACL     1,4           FORM 'FIRST' + 'COUNT'   
1      M1416-4882 J. PODOLSKY   $READ - READ 7750 LOAD PROGRAM FROM DISK                         PAGE 2     
                  
      00050  0621 00 0 00066         STA     COPY          SAVE FOR CARD MOVER
      00051  0754 00 2 00000         PXA     ,2            FORM 'BUFF' + 'COUNT'    
      00052  0361 00 0 00060         ACL     BFPTR         ..     
      00053  0621 00 0 00065         STA     PKUP          ..     
      00054  0074 00 4 00003         TSX     RDWAIT,4      READ NEXT 'CRDCT' WORDS FROM I/O BUFFER    
      00055  3 00000 0 00130         PAR     NAME1         ..     
      00056  3 00000 0 00131         PAR     NAME2         ..     
      00057  3 00000 0 01065         PAR     =0            ..     
      00060  3 00016 0 00167  BFPTR  PAR     BUFF,,CRDCT   ..     
      00061  3 00000 0 00073         PAR     EOFRTN        ..     
      00062  3 00000 0 00133         PAR     EOFCT         ..     
      00063  3 00000 0 00100         PAR     IOERR         ..     
      00064  3 00000 0 00134         PAR     ERRCOD        ..     
      00065 -0500 00 2 00000  PKUP   CAL     **,2          MOVE 'COUNT' WORDS TO CALLING PROGRAM
      00066  0602 00 2 00000  COPY   SLW     **,2          ..     
      00067  2 00001 2 00065         TIX     PKUP,2,1      ..     
      00070  0774 00 2 00000  RDIR2  AXT     **,2          RESTORE INDEX REGISTERS  
      00071  0774 00 4 00000  RDIR4  AXT     **,4          ..     
      00072  0020 00 4 00002         TRA     2,4           AND RETURN TO CALLER     
                  
                  
      00073  0074 00 4 00010  EOFRTN TSX     PRINT,4       END OF FILE READING - PRINT DIAGNOSTIC     
      00074  1 00010 0 00135         PON     EFCMT1,,8     ..     
      00075  0074 00 4 00010         TSX     PRINT,4       ..     
      00076 -2 00004 0 00145         MTW     EFCMT2,,4     ..     
      00077  0020 00 0 00102         TRA     QUIT          CLOSE OUT I/O AND QUIT.  
                  
      00100  0074 00 4 00006  IOERR  TSX     PRNTER,4      INPUT/OUTPUT ERROR - CALL DIAGNOSTIC.
      00101  3 00000 0 01066         PAR     =O377         MASK FOR DIAGNOSTICS     
                  
      00102  0074 00 4 00004  QUIT   TSX     CLOSE,4       CLOSE OUT 7750 LOAD FILE 
      00103  3 00000 0 00130         PAR     NAME1         ..     
      00104  3 00000 0 00131         PAR     NAME2         ..     
      00105  0074 00 4 00005         TSX     IOFINI,4      CLOSE OUT ALL I/O AND FILE SYSTEM    
      00106  3 00000 0 00107         PAR     *+1           IGNORE ANY I/O ERRORS    
      00107  0564 00 0 01065         ENB     =0            AND STOP DISABLED. 
      00110  0000 00 0 00110         HTR     *             ..     
                  
      00111  0074 00 4 00004  FINIS  TSX     CLOSE,4       FINISHED 7750 LOAD - CLOSE INPUT FILE
      00112  3 00000 0 00130         PAR     NAME1         ..     
      00113  3 00000 0 00131         PAR     NAME2         ..     
      00114  0074 00 4 00005         TSX     IOFINI,4      CLOSE OUT FILE SYSTEM I/O
      00115  3 00000 0 00116         PAR     *+1           IGNORE ANY I/O ERRORS IN IOFINI
      00116  0074 00 4 00010         TSX     PRINT,4       PRINT CLOSE-OUT MESSAGE ONLINE 
      00117  1 00002 0 00151         PON     ALLDON,,2     ..     
      00120  0774 00 1 00003         AXT     3,1           PRINT 3 LINES OF ASTERISKS     
      00121  0074 00 4 00010         TSX     PRINT,4       ..     
      00122  0 00014 0 00153         PZE     ASTKS,,12     ..     
      00123  2 00001 1 00121         TIX     *-2,1,1       ..     
      00124  0564 00 0 01065         ENB     =0            STOP DISABLED
      00125  0000 00 0 00125         HTR     *             .. FOREVER (HA-HA) 
1      M1416-4882 J. PODOLSKY   $READ - READ 7750 LOAD PROGRAM FROM DISK                         PAGE 3     
                  
                                     EJECT
                  
                  
      00126  604401040106     PROBN  BCI     1, M1416      PROBLEM NUMBER FOR 7750 LOAD PROGRAM 
      00127  234426430001     PROGN  BCI     1,CMFL01      PROGRAMMER NUMBER (COMMON FILE)
      00130  606007070500     NAME1  BCI     1,  7750      FILE NAME OF 7750 PROGRAM
      00131  744751462734     NAME2  BCI     1,(PROG)      ..     
      00132  0 00000 0 00000  SYSNAM PZE                   NAME OF LOAD FILE FOR 7750 LOAD PROG.
      00133  0 00000 0 00000  EOFCT  PZE     **            WORD COUNT UPON END OF FILE    
      00134  0 00000 0 00000  ERRCOD PZE     **            I/O ERROR CODE     
      00135  602545246046     EFCMT1 BCI     8, END OF FILE READING 7750 PROGRAM FROM DISK.     
      00145  600707050060     EFCMT2 BCI     4, 7750 LOAD INCOMPLETE.   
      00151  602143436024     ALLDON BCI     2, ALL DONE .. 
      00153  605454545454     ASTKS  BCI     9, ***************************************************** 
      00164  545454545454            BCI     3,****************** 
                  
                       00016  CRDCT  EQU     14            COUNT OF CARD IN CARD IMAGE FILE     
                       00660  NBUFF  EQU     432           LENGTH OF SINGLE DISK RECORD   
                  
      00167                   BUFF   BSS     CRDCT         SINGLE CARD IMAGE BUFFER 
      00205                   RBUFF  BSS     NBUFF         I/O BUFFER FOR I/O PACKAGE     
                  
                                     END  
                  
1      M1416-4882 J. PODOLSKY   $READ - READ 7750 LOAD PROGRAM FROM DISK                         PAGE 1     
                        POST PROCESSOR ASSEMBLY DATA  
                  
       1072 IS THE FIRST LOCATION NOT USED BY THIS PROGRAM  
                  
0REFERENCES TO DEFINED SYMBOLS      
        167   BUFF    60
         66   COPY    50
          1   OPEN    25
         65   PKUP    53,   67
        102   QUIT    77
         11   READ     0
        153  ASTKS   122
         60  BFPTR    52
          4  CLOSE   102,  111
         16  CRDCT    44,   45,   60,  167
        133  EOFCT    62
        111  FINIS     0
         13  FIRSW    40
        100  IOERR    63
        130  NAME1    17,   27,   34,   55,  103,  112
        131  NAME2    30,   35,   56,  104,  113
        660  NBUFF    36,  167,  205
         10  PRINT    73,   75,  116,  121
        126  PROBN    23
        127  PROGN    24
        205  RBUFF    36
         70  RDIR2    11,   43
         71  RDIR4    12,   37
         41  READ1      
          7  SETIO    20
        151 ALLDON   117
          0 ATTACH    22
          2 BUFFER    33
        135 EFCMT1    74
        145 EFCMT2    76
         73 EOFRTN    61
        134 ERRCOD    64
          5 IOFINI   105,  114
          6 PRNTER   100
          3 RDWAIT    54
        132 SYSNAM     0,   14
                  
0 NO ERROR IN ABOVE ASSEMBLY. 




7750CH   BCD 09/11/67 1730.6    1292         00000    
1      M1416-4882 J. PODOLSKY   7909 PROGRAM TO WRITE 7750 - $CHANL                              PAGE 1     
                  
                                     PCC     ON 
                                     COUNT   50 
                                     LBL     CHANL    
                                     NOLNK                 OMIT LINKAGE DIRECTOR    
                       00000         ENTRY   CHANL         ENTRY TO SEND STRING OF WORDS TO 7750
                       00000  START  EQU     *             ..     
                  
                                             CALLING SEQUENCE ..  
                  
                                                           TSX $CHANL,4        ..   
                                                           CPYD FIRST,,COUNT   ..   
                  
                                             THE 'COUNT'-WORD STRING BEGINNING AT 'FIRST' IS SENT     
                                             TO THE 7750 ON CHANNEL 'U'.  UPON THE INITIAL ENTRY,     
                                             THE PROGRAM INITIALIZES LOWER CORE FOR COMMAND TRAPS     
                                             AND CHANNEL INTERRUPTS ON CHANNEL 'U', THEN HALTS IN     
                                             ORDER FOR THE OPERATOR TO PERFORM THE FOLLOWING    
                                             SEQUENCE ..    
                  
                                                 1)  PRESS 'STOP' ON THE 7750 CONSOLE     
                                                 2)  PRESS 'CLEAR'
                                                 3)  PRESS 'RESET'
                                                 4)  PRESS 'LOAD' 
                  
                                             THE 'LOAD' BUTTON SENDS AN ATTENTION (1) SIGNAL TO 
                                             THE 7909, INTERRUPTING IT FROM 'WAIT' STATUS (WTR *).    
                                             THE INTERRUPTED 7909 TRAPS THE CPU - ALLOWING IT TO
                                             SEND THE FIRST STRING TO THE 7750.  THE 7750 IS NOW
                                             READY TO BE WRITTEN ON SUBSEQUENT CALLS WITHOUT ANY
                                             FURTHER OPERATOR INTERVENTION.   
                  
                  
                      005000  U      BOOL    5000          7750/7909 IS ON CHANNEL 'E'    
                  
                              EXP    MACRO   A,B           MACRO TO COMPUTE B=2.P.A 
                                     IRP     B             THIS IS A SHORTCUT 
                              B      SET     'B'-'B'/'B'   IF B IS NON-ZERO, SUBTRACT 1 FROM IT 
                                     IFF     B             IF B IS STILL NON-ZERO,  
                              A      SET     2*'A'         DOUBLE VALUE OF A  
                                     IRP                   ..     
                              EXP    END                   ..     
                  
                       00005  T      SET     U/512         SET T TO CHANNEL NUMBER  
                       00001  S      SET     1             COMPUTE ENABLE MASK VALUE FROM T     
      00000                          EXP     S,(T,T,T,T,T,T,T,T)  
                       00022  TPLOC  EQU     8+U/256       FLAG/TRAP DOUBLE WORD FOR CHANNEL 'U'
                       00052  INTLOC EQU     32+U/256      INTERRUPT DOUBLE WORD FOR CHANNEL 'U'
1      M1416-4882 J. PODOLSKY   7909 PROGRAM TO WRITE 7750 - $CHANL                              PAGE 2     
                  
                                     EJECT
                  
                  
      00000  0020 00 0 00001  CHANL  TRA     *+1           FIRST PASS SWITCH - IS THIS FIRST CALL.    
      00001  0760 00 0 05350         RICU                  YES, RESET GARBAGE ON CHANNEL 'U'    
      00002  0542 00 0 00016         RSCU    INITT         START INITIALIZATION PROGRAM ON 7909 
      00003  0064 00 0 00003         TCOU    *             WAIT FOR I/O COMPLETION  
      00004  0564 00 0 00015         ENB     ENBWD         ENABLE TWT COMMAND TRAPS FOR CHANNEL 'U'   
      00005  0761 00 0 00000         NOP                   ..     
      00006  0000 00 0 00006         HTR     *             AND WAIT FOR OPERATOR TO PRESS 'LOAD'
                  
      00007 -0625 00 0 00000  TPRET  STL     CHANL         'LOAD' PRESSED - CLOSE INITIAL PATH  
      00010 -0500 00 4 00001         CAL     1,4           PICK UP CONTROL WORD     
      00011  0602 00 0 00031         SLW     COPY          INSERT INTO CHANNEL I/O PROGRAM
      00012  0542 00 0 00030         RSCU    CPROG         START CHANNEL I/O PROGRAM
      00013  0064 00 0 00013         TCOU    *             AND WAIT FOR QUICK COMPLETION  
      00014  0020 00 4 00002         TRA     2,4           WHEN FINISHED, GO BACK TO CALLER.    
                  
      00015  0 00000 0 00020  ENBWD  PZE     S             ENABLE MASK FOR CHANNEL 'U'    
                  
                  
                                             7909 PROGRAMS FOR 7750 LOAD ..   
                  
      00016 -30 0000 0 00002  INITT  SMS     2             IN CASE ANYTHING IS ON INTERFACE 2   
      00017  0 00002 2 00022         XMT     TPLOC,,2      SET CHANNEL 'U' FLAG AND TRAP CELLS  
      00020  0 00000 0 00000         PZE     **,,**        ICC, ECC, AND ILC STORED HERE  
      00021  0021 00 0 00007         TTR     TPRET         CPU TRANSFER UPON COMMAND TRAPS
      00022  0 00002 2 00052         XMT     INTLOC,,2     SET CHANNEL 'U' INTERRUPT CELLS
      00023  0 00000 0 00000         PZE     **,,**        ADDRESS AND COMMAND COUNTERS HERE    
      00024  1 00000 0 00026         TCH     INTRET        CHANNEL INTERRUPT TRANSFER     
      00025  0 00000 0 00025         WTR     *             ALL IS UP TO OPERATOR NOW.     
                  
      00026  1 00000 2 00027  INTRET LIPT    *+1           HERE ON ALL INTERRUPTS - RESET INHIBIT     
      00027  34 0000 0 00027         TWT     *             AND CALL CPU FOR ACTION. 
                  
      00030  26 0000 0 00000  CPROG  CTLWN   0             HERE TO WRITE 7750 - CONDITION TO WRITE    
      00031 -1 00000 0 00000  COPY   CPYD    **,,**        AND SEND STRING OF WORDS TO 7750     
      00032  0 00000 0 00032         WTR     *             DISCONNECT CHANNEL WHEN FINISHED.    
                  
                                     END  
1      M1416-4882 J. PODOLSKY   7909 PROGRAM TO WRITE 7750 - $CHANL                              PAGE 1     
                        POST PROCESSOR ASSEMBLY DATA  
                  
         33 IS THE FIRST LOCATION NOT USED BY THIS PROGRAM  
                  
0REFERENCES TO DEFINED SYMBOLS      
         20      S     0,   15
          0      T     0
       5000      U     0,    1,    2,    3,   12,   13
         31   COPY    11
          0  CHANL     0,    7
         30  CPROG    12
         15  ENBWD     4
         16  INITT     2
          0  START     0
         22  TPLOC     0,   17
          7  TPRET    21
         52 INTLOC     0,   22
         26 INTRET    24
                  
0 NO ERROR IN ABOVE ASSEMBLY. 




DPATCH   BCD 02/09/69 0420.8    2106         00000    




DPATCH   BCD 03/15/68 0223.2    2092         00000    
1      C0059-9999,FMS,DEBUG,15,15,1000,100  DISK/DRUM PATCH PROGRAM                              PAGE 1     
                  
                              *C0059-9999,FMS,DEBUG,15,15,1000,100  DISK/DRUM PATCH PROGRAM     
                              *     
                              *      *****************************************************************
                              *      *****************************************************************
                              *     
                              *      DISK/DRUM PATCH PROGRAM
                              *     
                              *      TO BE USED ONLY BY PROGRAMMING STAFF     
                              *     
                              *      SUBMITTED TO OPERATIONS ON SEPT. 16,1966 BY R. DE PRISCO   
                              *     
                              *      MINOR REVISION -- DISPLAYS WORDS COUNTING FROM 1 TO 432    
                              *     
                              *      *****************************************************************
                              *      *****************************************************************
                              *     
                              *      XEQ  
                              *      FAP  
                              *      PATCH --- PROGRAM TO READ/RE-WRITE ARBITRARY RECORD OF DISK/DRUM 
                                             PROGRAM TO INTERROGATE CONTENTS OF SPECIFIC RECORDS
                                             OF CTSS DISK/DRUM    
                  
                                             PROGRAM RUNS OUTSIDE OF TIME-SHARING,  
                                             LOADING AS NON-STANDARD FMS JOB, 
                                             AND STOPS IMMEDIATELY AFTER 'EXECUTION'
                  
                                             CLOCK SHOULD BE TURNED OFF AT THIS POINT     
                  
                                             TO INTERROGATE RECORD, PLACE DESIRED RECORD  
                                             ADDRESS IN CONSOLE ENTRY KEYS IN FORMAT
                  
                                               M TTTT R (BCD NUMERIC CODES)   
                  
                                                 M    LOGICAL MODULE NUMBER   
                  
                                              TTTT    DISK/DRUM TRACK ADDRESS 
                                                      (0000-0399 FOR DRUM, 0000-9999 FOR DISK)  
                  
                                                 R    LOGICAL RECORD NUMBER   
                                                      (0 FOR DRUM, 0 OR 1 FOR DISK) 
                  
                                             WITH SENSE SWITCH 6 UP, PRESS START    
                  
                                             IF CONSOLE LIGHTS DO NOT BLINK AT ALL,  THE 7094 CPU     
                                             WAS TAKING AN EXTRA CYCLE TO DETERMINE THE OPERATION     
                                             PRESS START AGAIN.   
                  
                                             CONSOLE LIGHTS WILL BLINK MOMENTARILY, THEN DISPLAY
                                             THE FOLLOWING INFORMATION ABOUT THE RECORD READ ...
                  
                                                AC    'BACKP'    BACKWARD CHAIN POINTER IN NUMERIC BCD
                                                                 (BINARY 0 FOR FIRST RECORD OF FILE)  
                  
                                                MQ    'FOREP'    FORWARD CHAIN POINTER .. 
                                                                 (BINARY 0 FOR LAST RECORD OF FILE)   
1      C0059-9999,FMS,DEBUG,15,15,1000,100  DISK/DRUM PATCH PROGRAM                              PAGE 2     
                  
                                               X-2    'RECNO'    BINARY SEQUENCE NUMBER OF RECORD     
                                                                 (BEGINNING FROM 1) 
                  
                                               X-4   'LCOUNT'    COUNT OF WORDS IN LAST RECORD  
                                                                 (BINARY 0 EXCEPT ON LAST RECORD)     
                  
                  
                                             AT THIS POINT, X-1 WILL HAVE BEEN SET TO THE COMPLEMENT  
                                             OF THE FIRST LOCATION OF THE BUFFER, TO FACILITATE 
                                             DISPLAY OF WORDS WITHIN THE BUFFER     
                                             I.E., PUT KEY 20 DOWN, ALONG WITH THE DESIRED ADDRESS    
                                             WITHIN THE BUFFER, AND PRESS 'DISPLAY STORAGE'     
                  
                                             SEQUENCING INFORMATION OCCUPIES WORDS 1-3, TEXT OF RECORD
                                             OCCUPIES 4-663(8)    
                  
                                             AFTER EXAMINING BUFFER, IF MODIFICATIONS HAVE BEEN MADE  
                                             TO THE CONTENTS OF THE BUFFER, THEY MAY BE RECORDED BY   
                                             PUTTING SENSE SWITCH 6 DOWN AND PRESSING START,    
                                             TO HAVE THE BUFFER RE-WRITTEN ONTO THE SAME RECORD 
                                             (AGAIN, MAKE SURE IT BLINKS)     
                  
                                             AN ILLEGAL MODULE NUMBER WILL BE REFLECTED BACK BY THE   
                                             DISK/DRUM ADAPTER IMMEDIATELY, WITH A WORD OF ALL 1'S    
                                             DISPLAYED IN THE AC. 
                  
                                             IF THE RECORD COULD NOT BE READ,  EITHER BECAUSE OF
                                             BAD TRACK ADDRESS FOR THE DEVICE, OR BECAUSE THE   
                                             RECORD ADDRESS WAS NOT FOUND ON THE SPECIFIED RECORD,    
                                             A LONGER PAUSE WILL HAVE ENSUED, WITH AN ERROR MESSAGE   
                                             FROM THE ON-LINE PRINTER   
                  
                                             IF THE RECORD ADDRESS ENTERED ON THE KEYS WAS INDEED BAD,
                                             SIMPLY RE-ENTER PROPER RECORD ADDRESS  
                  
                                             IF NOT, RECORD IS INDEED BAD AND OTHER PROCEDURES  
                                             WILL HAVE TO BE TAKEN, SUCH AS RE-WRITING THE RECORD     
                                             ADDRESS FOR THE RECORD(S) IN QUESTION  
                  
                                             THIS PROGRAM NEEDS TWO SUPPLEMENTARY BSS DECKS     
                                             'DDIOA' (THE ADAPTER MODULE), AND 'DDPAC' (A UTILITY     
                                             PACKAGE INCLUDING THE ON-LINE PRINTER S/R'S) 
                  
                  
        TRANSFER VECTOR 
      00000  332431453163     .DINIT
      00001  254521224325     ENABLE
      00002  332466513163     .DWRIT
      00003  332451252124     .DREAD
      00004  332466213163     .DWAIT
                  
      00005 -0500 00 0 00007         CAL     *+2           PREPARE 'RESET' LOCATION 
      00006  0602 00 0 00000         SLW     0             ..     
      00007  0020 00 0 00010         TRA     *+1           ..     
      00010  0760 00 0 00016         LMTM                  MODULES WORK WITH ALL 7-XR'S   
      00011  0074 00 4 00000         TSX     $.DINIT,4     INITIALIZE ADAPTER 
1      C0059-9999,FMS,DEBUG,15,15,1000,100  DISK/DRUM PATCH PROGRAM                              PAGE 3     
                  
      00012  0 00000 0 00001                $ENABLE        LOCATION OF ENABLE CELL  
      00013  0000 00 0 00014  LOOP   HTR     *+1           WAIT FOR ACTION    
      00014  0760 00 0 00166         SWT     6             CHECK DESIRED OPERATION  
      00015  0020 00 0 00020         TRA     *+3           READ, PREPARE TRACK ADDRESS    
      00016 -0500 00 0 00002         CAL     $.DWRIT       WRITE, DUMP CURRENT CONTENTS OF BUFFER     
      00017  0020 00 0 00032         TRA     WT            BACK TO SAME RECORD
                              *     
      00020  0760 00 0 00004         ENK                   INTERROGATE KEYS   
      00021 -0130 00 0 00000         XCL                   ..     
      00022  0602 00 0 00050         SLW     LIST          TEMPORARY SAVE     
      00023  0361 00 0 01037         ACL     =O373737373737  CONVERT 00 TO 12 
      00024 -0320 00 0 01036         ANA     =H++++++      BY FINDING BYTES WITH NO CARRY 
      00025  0771 00 0 00001         ARS     1             MANUFACTURE 10     
      00026 -0602 00 0 00050         ORS     LIST          ..     
      00027  0771 00 0 00002         ARS     2             AND 02 
      00030 -0602 00 0 00050         ORS     LIST          ..     
      00031 -0500 00 0 00003         CAL     $.DREAD       READ RECORD FROM CONVERTED REC. ADDR 
                              *     
      00032  0621 00 0 00033  WT     STA     *+1           SAVE NAME OF S/R   
      00033  0074 00 4 00000         TSX     **,4          ..     
      00034  0 00000 0 00050                 LIST          RECORD ADDRESS + TRANSMISSION LIST   
      00035  0 00000 0 00045                 ERR           ERROR RETURN FOR ILLEGAL MODULE NUMBER     
      00036  0074 00 4 00004         TSX     $.DWAIT,4     WAIT FOR COMPLETION
      00037 -0500 00 0 00053         CAL     BUF           'BACKP' TO AC
      00040  0560 00 0 00054         LDQ     BUF+1         'FOREP' TO MQ
      00041 -0774 00 1 00052         AXC     BUF-1,1       (FOR EASE OF LOCATING WORDS)   
      00042  0534 00 2 00055         LXA     BUF+2,2       'RECNO'
      00043 -0534 00 4 00055         LXD     BUF+2,4       'LCOUNT'     
      00044  0020 00 0 00013         TRA     LOOP          WAIT FOR ACTION FROM PROGRAMMER
                              *     
      00045 -0754 00 0 00000  ERR    PXD     ,0            BAD CALL TO ADAPTER
      00046  0760 00 0 00006         COM                   MANUFACTURE FENCE  
      00047  0020 00 0 00013         TRA     LOOP          SHOW HIM THE ERROR OF HIS WAYS 
                              *     
      00050  0 00000 0 00000  LIST   PZE                   (BCD RECORD ADDRESS)     
      00051  2 00663 0 00053         PTW     BUF,,435      'IOP'  
      00052  0 00000 0 00000         PZE                   'IOD'  
                              *     
      00053                   BUF    BSS     499           ..     
                              *     
                                     END  
                  
        LITERALS  
      01036  202020202020     
      01037  373737373737     
1      C0059-9999,FMS,DEBUG,15,15,1000,100  DISK/DRUM PATCH PROGRAM                              PAGE 1     
                        POST PROCESSOR ASSEMBLY DATA  
                  
       1040 IS THE FIRST LOCATION NOT USED BY THIS PROGRAM  
                  
0REFERENCES TO DEFINED SYMBOLS      
         32     WT    17
         53    BUF    37,   40,   41,   42,   43,   51
         45    ERR    35
         50   LIST    22,   26,   30,   34
         13   LOOP    44,   47
          1 ENABLE    12
          0 .DINIT    11
          3 .DREAD    31
          4 .DWAIT    36
          2 .DWRIT    16
                  
0 NO ERROR IN ABOVE ASSEMBLY. 




HSDT1A   BCD 02/09/69 0421.5    9338         00000    




HSDT1ACTSSLD 07/29/68 0753.8      56         00000    
HSDT1A   HIGH SPEED DRUM TEST - MAIN CONTROL                               00010    
  DIAG   I/O SECTION                                                       00020    
 DDPAC                                                                     00030    
IOCONV                                                                     00040    




HSDT1ASTOMAP 08/09/68 0605.2     286         00000    
   STOMAP FOR PRELOD OF HSD___ SYSTEM     HSDT1A            08/09       0603.8       M1416  3845
0            NAME  T.V. ORGIN LENTH COMMON      CROSS REFERENCE   
                  
      FILE  HSDT1A       00062 00725 00000
                  WDRUM                     DIAG 01013
                  CKDRUM                    DIAG 01053
            000000       00064      
                  
      FILE    DIAG       01007 00410 00000
                  EPRINT                   DDPAC 01460
                  BTOC                    IOCONV 02207
            WDRUM        01013            HSDT1A
            CKDRUM       01053            HSDT1A
                  
      FILE   DDPAC       01417 00466 00000
            EXIT         01421      
            PRINT        01447      
            EPRINT       01460              DIAG
            RTDINP       01607      
            RTBINP       01611      
            WTDOUT       01645      
            CMEXIT       01700      
            ALLSAV       01720      
            ALLRST       01747      
            ENABLE       01772      
                  
      FILE  IOCONV       02105 00124 00000
            CTIME        02105      
            TCTIME       02135      
            DTBC         02147      
            BTDC         02164      
            OTBC         02177      
            BTOC         02207              DIAG
0   PRELOAD   SUCCESSFUL
      LOWEST COMMON LOCATION   77777
      HIGHEST PROGRAM LOCATION 02231
      TOTAL NOT USED           31590 DECIMAL    




HSDT1A   BCD 08/09/68 0605.2    4151         00000    
1       CONTROL PROGRAM FOR HIGH SPEED DRUM TEST - R. ROACH  07/27/68                            PAGE 1     
                  
                              *     
                                     EXTERN  WDRUM,CKDRUM   
                  
        TRANSFER VECTOR 
      00000  662451644460     WDRUM 
      00001  234224516444     CKDRUM
                  
                       00002  NPDRMS EQU     2             NUMBER OF PHYSICAL DRUMS 
                       00006  NLDRMS EQU     6             NUMBER OF LOGICAL DRUMS  
                       00020  NSECTS EQU     16            NUMBER OF CHUNKS ON A LOGICAL DRUM   
                       04000  SECTLN EQU     32768/NSECTS  NUMBER OF WORDS IN A CHUNK     
                  
                              SECTBL MACRO   PDRM,LDRM
                              ...NS  SET     0  
                                     DUP     4,NSECTS 
                                     PMC     ON 
                                     VFD     3/PDRM,15/SECTLN,3/LDRM,15/...NS*SECTLN
                                     PMC     OFF
                              ...NS  SET     ...NS+1  
                              SECTBL END  
                  
                              FORWRD MACRO   PROG,TABLE,LENGTH    
                                     AXT     LENGTH,1      GET TABLE LENGTH   
                                     CAL     TABLE+LENGTH,1 GET TOP ENTRY     
                                     SLW     DRMCMD        SAVE DRUM COMMAND WORD   
                                     TSX     PROG,4        CALL WRITE/CHECK PROGRAM 
                                     PTH     DRMCMD        ..     
                                     PTH     ZFLAG         ..     
                                     TIX     *-5,1,1       LOOP UNTIL DONE WITH TABLE     
                              FORWRD END  
                  
                              BCKWRD MACRO   PROG,TABLE,LENGTH    
                                     AXT     LENGTH,1      GET LENGTH OF TABLE
                                     AXT     1,2           BUT START AT THE END     
                                     CAL     TABLE+LENGTH,2 GET BOTTOM ENTRY  
                                     SLW     DRMCMD        SAVE AS DRUM COMMAND WORD
                                     TSX     PROG,4        CALL WRITE/CHECK PROGRAM 
                                     PTH     DRMCMD        ..     
                                     PTH     ZFLAG         ..     
                                     TXI     *+1,2,1       GO UP A SECTOR     
                                     TIX     *-6,1,1       CONTINUE UNTIL DONE WITH TABLE 
                              BCKWRD END  
                  
                              TEST   MACRO   Z,DIR,TABLE,LENGTH   
                                     ST'Z    ZFLAG         SET ZFLAG    
                                     IFF     1,DIR,F       IF DIR IS 'F'
                                     FORWRD  WDRUM,TABLE,LENGTH WRITE DRUM FORWARD  
                                     IFF     0,DIR,F       IF DIR IS NOT 'F'  
                                     BCKWRD  WDRUM,TABLE,LENGTH WRITE DRUM BACKWARD 
                                     IFF     1,DIR,F       IF DIR IS 'F'
                                     FORWRD  CKDRUM,TABLE,LENGTH CHECK DRUM FORWARD 
                                     IFF     0,DIR,F       IF DIR IS NOT 'F'  
                                     BCKWRD  CKDRUM,TABLE,LENGTH CHECK DRUM BACKWARD
                              TEST   END  
1       CONTROL PROGRAM FOR HIGH SPEED DRUM TEST - R. ROACH  07/27/68                            PAGE 2     
                  
                  
      00002  0760 00 0 00016         EAXM                  USE ALL SEVEN XRS  
      00003  0774 00 5 00000         AXT     0,5           RESET XR 5 (TO LOOK PRETTY)    
      00004  0774 00 3 00000         AXT     0,3           ALSO XR3     
      00005  0774 00 7 00000         AXT     0,7           COUNTER FOR PASSES 
      00006 -0500 00 0 00010         CAL     *+2
      00007  0602 00 0 00034         SLW     28            (34 OCTAL)   
      00010  0000 00 0 00011         HTR     START    
      00011  0760 00 0 00004  START  ENK                   TEST KEYS    
      00012 -0130 00 0 00000         XCL                   FOR TEST TO EXECUTE
      00013  0734 00 6 00000         PAX     ,6            ..     
      00014  1 00001 7 00015         TXI     *+1,7,1       INCREMENT PASS COUNTER   
      00015  3 00011 6 00017         TXH     TEST1,6,TABLEN TEST1 IS DEFAULT  
      00016  0020 00 6 00424         TRA     TRATBL+TABLEN,6 GO TO APPROPIATE TEST  
                  
                  
      00017                   TEST1  TEST    Z,F,DRMTBL,LEN1 TEST DRUM FORWORD WITH ZEROS 
      00036                          TEST    L,F,DRMTBL,LEN1 TEST DRUM FORWARD WITH ADDRESSES   
      00055                          TEST    Z,B,DRMTBL,LEN1 TEST DRUM BACKWARD WITH ZEROS
      00100                          TEST    L,B,DRMTBL,LEN1 TEST DRUM BACKWARD WITH ADDRESSES  
      00123  0020 00 0 00406         TRA     ENDTST        END OF TEST 1
                  
                  
      00124                   TEST2  TEST    Z,F,TABLE1,LEN2 TEST DRUM 0 FORWARD WITH ZEROS     
      00143                          TEST    L,F,TABLE1,LEN2 TEST DRUM 0 FORWARD WITH ADDRESSES 
      00162                          TEST    Z,B,TABLE1,LEN2 TEST DRUM 0 BACKWARD WITH ZEROS    
      00205                          TEST    L,B,TABLE1,LEN2 TEST DRUM 0 BACKWARD WITH ADDRESSES
      00230  0020 00 0 00406         TRA     ENDTST        END OF TEST2 
                  
                  
      00231                   TEST3  TEST    Z,F,TABLE2,LEN2 TEST DRUM 1 FORWARD WITH ZEROS     
      00250                          TEST    L,F,TABLE2,LEN2 TEST DRUM 1 FORWARD WITH ADDRESSES 
      00267                          TEST    Z,B,TABLE2,LEN2 TEST DRUM 1 BACKWARD WITH ZEROS    
      00312                          TEST    L,B,TABLE2,LEN2 TEST DRUM 1 BACKWARD WITH ADDRESSES
      00335  0020 00 0 00406         TRA     ENDTST        END OF TEST 3
                  
                  
      00336 -0625 00 0 00411  TEST4  STL     ZFLAG         TEST DRUM 0 FOR ADDRESSES
      00337                          FORWRD  CKDRUM,TABLE1,LEN2 ..
      00346  0020 00 0 00406         TRA     ENDTST        END OF TEST4 
                  
                  
      00347 -0625 00 0 00411  TEST5  STL     ZFLAG         TEST DRUM 1 FOR ADDRESSES
      00350                          FORWRD  CKDRUM,TABLE2,LEN2 ..
      00357  0020 00 0 00406         TRA     ENDTST        END OF TEST5 
                  
                  
      00360  0600 00 0 00411  TEST6  STZ     ZFLAG         TEST DRUM 0 FOR ZEROS    
      00361  0020 00 0 00337         TRA     TEST4+1  
                  
                  
      00362  0600 00 0 00411  TEST7  STZ     ZFLAG         TEST DRUM 1 FOR ZEROS    
      00363  0020 00 0 00350         TRA     TEST5+1  
1       CONTROL PROGRAM FOR HIGH SPEED DRUM TEST - R. ROACH  07/27/68                            PAGE 3     
                  
      00364  0600 00 0 00411  TEST8  STZ     ZFLAG         ZERO DRUM 0  
      00365                          FORWRD  WDRUM,TABLE1,LEN2    
      00374  0020 00 0 00406         TRA     ENDTST        END OF TEST8 
                  
                  
      00375  0600 00 0 00411  TEST9  STZ     ZFLAG         ZERO DRUM 1  
      00376                          FORWRD  WDRUM,TABLE2,LEN2 .. 
      00405  0020 00 0 00406         TRA     ENDTST        END OF TEST9 
                  
                  
      00406  0760 00 0 00166  ENDTST SWT     6             TEST FOR CONTINUE STARTING     
      00407  0020 00 0 00011         TRA     START         ..     
      00410  0000 00 0 00011         HTR     START         STOP STARTING .....
                  
                  
      00411  0 00000 0 00000  ZFLAG  PZE  
      00412  0 00000 0 00000  DRMCMD PZE  
                  
                       00413  TRATBL SYN     *  
      00413  0020 00 0 00375         TRA     TEST9    
      00414  0020 00 0 00364         TRA     TEST8    
      00415  0020 00 0 00362         TRA     TEST7    
      00416  0020 00 0 00360         TRA     TEST6    
      00417  0020 00 0 00347         TRA     TEST5    
      00420  0020 00 0 00336         TRA     TEST4    
      00421  0020 00 0 00231         TRA     TEST3    
      00422  0020 00 0 00124         TRA     TEST2    
      00423  0020 00 0 00017         TRA     TEST1    
                       00011  TABLEN SYN     *-TRATBL      LENGTH FOR TRA TABLE     
      00424  0020 00 0 00017         TRA     TEST1         TEST 0 MAPS INTO TEST 1  
                  
                  
                       00425  DRMTBL SYN     *             TABLE FOR DRUMS 0 AND 1  
                       00425  TABLE1 SYN     *             TABLE FOR DRUM 0   
      00425                          SECTBL  0,1
      00425  004000100000            VFD     3/0,15/SECTLN,3/1,15/...NS*SECTLN                                .001
      00426  004000104000     
      00427  004000110000     
      00430  004000114000     
      00431  004000120000     
      00432  004000124000     
      00433  004000130000     
      00434  004000134000     
      00435  004000140000     
      00436  004000144000     
      00437  004000150000     
      00440  004000154000     
      00441  004000160000     
      00442  004000164000     
      00443  004000170000     
      00444  004000174000     
      00445                          SECTBL  0,2
      00445  004000200000            VFD     3/0,15/SECTLN,3/2,15/...NS*SECTLN                                .001
      00446  004000204000     
      00447  004000210000     
      00450  004000214000     
1       CONTROL PROGRAM FOR HIGH SPEED DRUM TEST - R. ROACH  07/27/68                            PAGE 4     
                  
      00451  004000220000     
      00452  004000224000     
      00453  004000230000     
      00454  004000234000     
      00455  004000240000     
      00456  004000244000     
      00457  004000250000     
      00460  004000254000     
      00461  004000260000     
      00462  004000264000     
      00463  004000270000     
      00464  004000274000     
      00465                          SECTBL  0,3
      00465  004000300000            VFD     3/0,15/SECTLN,3/3,15/...NS*SECTLN                                .001
      00466  004000304000     
      00467  004000310000     
      00470  004000314000     
      00471  004000320000     
      00472  004000324000     
      00473  004000330000     
      00474  004000334000     
      00475  004000340000     
      00476  004000344000     
      00477  004000350000     
      00500  004000354000     
      00501  004000360000     
      00502  004000364000     
      00503  004000370000     
      00504  004000374000     
      00505                          SECTBL  0,4
      00505  004000400000            VFD     3/0,15/SECTLN,3/4,15/...NS*SECTLN                                .001
      00506  004000404000     
      00507  004000410000     
      00510  004000414000     
      00511  004000420000     
      00512  004000424000     
      00513  004000430000     
      00514  004000434000     
      00515  004000440000     
      00516  004000444000     
      00517  004000450000     
      00520  004000454000     
      00521  004000460000     
      00522  004000464000     
      00523  004000470000     
      00524  004000474000     
      00525                          SECTBL  0,5
      00525  004000500000            VFD     3/0,15/SECTLN,3/5,15/...NS*SECTLN                                .001
      00526  004000504000     
      00527  004000510000     
      00530  004000514000     
      00531  004000520000     
      00532  004000524000     
      00533  004000530000     
      00534  004000534000     
      00535  004000540000     
1       CONTROL PROGRAM FOR HIGH SPEED DRUM TEST - R. ROACH  07/27/68                            PAGE 5     
                  
      00536  004000544000     
      00537  004000550000     
      00540  004000554000     
      00541  004000560000     
      00542  004000564000     
      00543  004000570000     
      00544  004000574000     
      00545                          SECTBL  0,6
      00545  004000600000            VFD     3/0,15/SECTLN,3/6,15/...NS*SECTLN                                .001
      00546  004000604000     
      00547  004000610000     
      00550  004000614000     
      00551  004000620000     
      00552  004000624000     
      00553  004000630000     
      00554  004000634000     
      00555  004000640000     
      00556  004000644000     
      00557  004000650000     
      00560  004000654000     
      00561  004000660000     
      00562  004000664000     
      00563  004000670000     
      00564  004000674000     
                       00565  TABLE2 SYN     *             TABLE FOR DRUM 1   
                       00140  LEN2   SYN     *-DRMTBL 
      00565                          SECTBL  1,1
      00565  104000100000            VFD     3/1,15/SECTLN,3/1,15/...NS*SECTLN                                .001
      00566  104000104000     
      00567  104000110000     
      00570  104000114000     
      00571  104000120000     
      00572  104000124000     
      00573  104000130000     
      00574  104000134000     
      00575  104000140000     
      00576  104000144000     
      00577  104000150000     
      00600  104000154000     
      00601  104000160000     
      00602  104000164000     
      00603  104000170000     
      00604  104000174000     
      00605                          SECTBL  1,2
      00605  104000200000            VFD     3/1,15/SECTLN,3/2,15/...NS*SECTLN                                .001
      00606  104000204000     
      00607  104000210000     
      00610  104000214000     
      00611  104000220000     
      00612  104000224000     
      00613  104000230000     
      00614  104000234000     
      00615  104000240000     
      00616  104000244000     
      00617  104000250000     
      00620  104000254000     
1       CONTROL PROGRAM FOR HIGH SPEED DRUM TEST - R. ROACH  07/27/68                            PAGE 6     
                  
      00621  104000260000     
      00622  104000264000     
      00623  104000270000     
      00624  104000274000     
      00625                          SECTBL  1,3
      00625  104000300000            VFD     3/1,15/SECTLN,3/3,15/...NS*SECTLN                                .001
      00626  104000304000     
      00627  104000310000     
      00630  104000314000     
      00631  104000320000     
      00632  104000324000     
      00633  104000330000     
      00634  104000334000     
      00635  104000340000     
      00636  104000344000     
      00637  104000350000     
      00640  104000354000     
      00641  104000360000     
      00642  104000364000     
      00643  104000370000     
      00644  104000374000     
      00645                          SECTBL  1,4
      00645  104000400000            VFD     3/1,15/SECTLN,3/4,15/...NS*SECTLN                                .001
      00646  104000404000     
      00647  104000410000     
      00650  104000414000     
      00651  104000420000     
      00652  104000424000     
      00653  104000430000     
      00654  104000434000     
      00655  104000440000     
      00656  104000444000     
      00657  104000450000     
      00660  104000454000     
      00661  104000460000     
      00662  104000464000     
      00663  104000470000     
      00664  104000474000     
      00665                          SECTBL  1,5
      00665  104000500000            VFD     3/1,15/SECTLN,3/5,15/...NS*SECTLN                                .001
      00666  104000504000     
      00667  104000510000     
      00670  104000514000     
      00671  104000520000     
      00672  104000524000     
      00673  104000530000     
      00674  104000534000     
      00675  104000540000     
      00676  104000544000     
      00677  104000550000     
      00700  104000554000     
      00701  104000560000     
      00702  104000564000     
      00703  104000570000     
      00704  104000574000     
      00705                          SECTBL  1,6
1       CONTROL PROGRAM FOR HIGH SPEED DRUM TEST - R. ROACH  07/27/68                            PAGE 7     
                  
      00705  104000600000            VFD     3/1,15/SECTLN,3/6,15/...NS*SECTLN                                .001
      00706  104000604000     
      00707  104000610000     
      00710  104000614000     
      00711  104000620000     
      00712  104000624000     
      00713  104000630000     
      00714  104000634000     
      00715  104000640000     
      00716  104000644000     
      00717  104000650000     
      00720  104000654000     
      00721  104000660000     
      00722  104000664000     
      00723  104000670000     
      00724  104000674000     
                       00300  LEN1   SYN     *-DRMTBL 
                                     END  
1       CONTROL PROGRAM FOR HIGH SPEED DRUM TEST - R. ROACH  07/27/68                            PAGE 1     
                        POST PROCESSOR ASSEMBLY DATA  
                  
        725 IS THE FIRST LOCATION NOT USED BY THIS PROGRAM  
                  
0REFERENCES TO DEFINED SYMBOLS      
        300   LEN1    20,   21,   27,   30,   37,   40,   46,   47,   56,   60,   67,   71,  101,  103,  112,  114,  725
        140   LEN2   125,  126,  134,  135,  144,  145,  153,  154,  163,  165,  174,  176,  206,  210,  217,  221,  232
                     233,  241,  242,  251,  252,  260,  261,  270,  272,  301,  303,  313,  315,  324,  326,  337,  340
                     350,  351,  365,  366,  376,  377,  565
         20  ...NS   425,  426,  427,  430,  431,  432,  433,  434,  435,  436,  437,  440,  441,  442,  443,  444,  445
                     446,  447,  450,  451,  452,  453,  454,  455,  456,  457,  460,  461,  462,  463,  464,  465,  466
                     467,  470,  471,  472,  473,  474,  475,  476,  477,  500,  501,  502,  503,  504,  505,  506,  507
                     510,  511,  512,  513,  514,  515,  516,  517,  520,  521,  522,  523,  524,  525,  526,  527,  530
                     531,  532,  533,  534,  535,  536,  537,  540,  541,  542,  543,  544,  545,  546,  547,  550,  551
                     552,  553,  554,  555,  556,  557,  560,  561,  562,  563,  564,  565,  566,  567,  570,  571,  572
                     573,  574,  575,  576,  577,  600,  601,  602,  603,  604,  605,  606,  607,  610,  611,  612,  613
                     614,  615,  616,  617,  620,  621,  622,  623,  624,  625,  626,  627,  630,  631,  632,  633,  634
                     635,  636,  637,  640,  641,  642,  643,  644,  645,  646,  647,  650,  651,  652,  653,  654,  655
                     656,  657,  660,  661,  662,  663,  664,  665,  666,  667,  670,  671,  672,  673,  674,  675,  676
                     677,  700,  701,  702,  703,  704,  705,  706,  707,  710,  711,  712,  713,  714,  715,  716,  717
                     720,  721,  722,  723,  724,  725
         11  START    10,  407,  410
         17  TEST1    15,  423,  424
        124  TEST2   422
        231  TEST3   421
        336  TEST4   361,  420
        347  TEST5   363,  417
        360  TEST6   416
        362  TEST7   415
        364  TEST8   414
        375  TEST9   413
          0  WDRUM    23,   42,   62,  105,  130,  147,  167,  212,  235,  254,  274,  317,  370,  401
        411  ZFLAG    17,   25,   34,   36,   44,   53,   55,   64,   75,  100,  107,  120,  124,  132,  141,  143,  151
                     160,  162,  171,  202,  205,  214,  225,  231,  237,  246,  250,  256,  265,  267,  276,  307,  312
                     321,  332,  336,  344,  347,  355,  360,  362,  364,  372,  375,  403
          1 CKDRUM    32,   51,   73,  116,  137,  156,  200,  223,  244,  263,  305,  330,  342,  353
        412 DRMCMD    22,   24,   31,   33,   41,   43,   50,   52,   61,   63,   72,   74,  104,  106,  115,  117,  127
                     131,  136,  140,  146,  150,  155,  157,  166,  170,  177,  201,  211,  213,  222,  224,  234,  236
                     243,  245,  253,  255,  262,  264,  273,  275,  304,  306,  316,  320,  327,  331,  341,  343,  352
                     354,  367,  371,  400,  402
        425 DRMTBL    21,   30,   40,   47,   60,   71,  103,  114,  425,  565,  725
        406 ENDTST   123,  230,  335,  346,  357,  374,  405
          6 NLDRMS     2
          2 NPDRMS     2
         20 NSECTS     2,  425,  445,  465,  505,  525,  545,  565,  605,  625,  645,  665,  705
       4000 SECTLN     2,  425,  426,  427,  430,  431,  432,  433,  434,  435,  436,  437,  440,  441,  442,  443,  444
                     445,  446,  447,  450,  451,  452,  453,  454,  455,  456,  457,  460,  461,  462,  463,  464,  465
                     466,  467,  470,  471,  472,  473,  474,  475,  476,  477,  500,  501,  502,  503,  504,  505,  506
                     507,  510,  511,  512,  513,  514,  515,  516,  517,  520,  521,  522,  523,  524,  525,  526,  527
                     530,  531,  532,  533,  534,  535,  536,  537,  540,  541,  542,  543,  544,  545,  546,  547,  550
                     551,  552,  553,  554,  555,  556,  557,  560,  561,  562,  563,  564,  565,  566,  567,  570,  571
                     572,  573,  574,  575,  576,  577,  600,  601,  602,  603,  604,  605,  606,  607,  610,  611,  612
                     613,  614,  615,  616,  617,  620,  621,  622,  623,  624,  625,  626,  627,  630,  631,  632,  633
                     634,  635,  636,  637,  640,  641,  642,  643,  644,  645,  646,  647,  650,  651,  652,  653,  654
                     655,  656,  657,  660,  661,  662,  663,  664,  665,  666,  667,  670,  671,  672,  673,  674,  675
                     676,  677,  700,  701,  702,  703,  704,  705,  706,  707,  710,  711,  712,  713,  714,  715,  716
1       CONTROL PROGRAM FOR HIGH SPEED DRUM TEST - R. ROACH  07/27/68                            PAGE 2     
                        POST PROCESSOR ASSEMBLY DATA  
                  
                     717,  720,  721,  722,  723,  724
        425 TABLE1   126,  135,  145,  154,  165,  176,  210,  221,  340,  366,  425
        565 TABLE2   233,  242,  252,  261,  272,  303,  315,  326,  351,  377,  565
         11 TABLEN    15,   16,  424
        413 TRATBL    16,  413,  424
                  
0 NO ERROR IN ABOVE ASSEMBLY. 




  DIAG   BCD 08/09/68 0605.2    4789         00000    
1      M1416 3845  PETER R. BOS ..... HIGH SPEED DRUM ADDRESSING DIAGNOSTIC                      PAGE 1     
                           .... INPUT/OUTPUT PACKAGE .....                          
                  
                                     PCC     ON 
                       00004         ENTRY   WDRUM         WRITE DRUM WITH ADDRESS OR ZEROS     
                       00044         ENTRY   CKDRUM        CHECK WRITE OPERATION    
                                     LBL     DRUM0000 
                                     PCC     OFF
                  
                                     EXTERN  EPRINT,BTOC    
                  
                  
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  
                  
                                             WDRUM ... WRITE DRUM WITH ADDRESS OR ZERO    
                  
                  
        TRANSFER VECTOR 
      00000  254751314563     EPRINT
      00001  226346236060     BTOC  
                  
            LINKAGE DIRECTOR  
      00002  000000000000     
      00003  662451644460     
                  
      00004  0634 00 4 00041  WDRUM  SXA     WX4,4         SAVE XRS.    
      00005  0634 00 2 00042         SXA     WX2,2         ..     
                  
      00006  0074 00 4 00236         TSX     DRMWAT,4      WAIT FOR PREVIOUS OPERATION IF ANY   
      00007  0534 00 4 00041         LXA     WX4,4         RESTORE X4   
      00010 -0500 60 4 00001         CAL*    1,4           PICK UP DRUM ADDRESS/WORD COUNT
      00011  0560 60 4 00002         LDQ*    2,4           ZERO/ADDRESS FLAG  
      00012 -0600 00 0 00367         STQ     ZFLG          SAVE FLAG    
      00013  0622 00 0 00040         STD     DRMCM1        1,4 PACKED PHS-NWORDS-LOG-DRMADR     
      00014  0074 00 4 00175         TSX     CVA,4         CONVERT TO EDIBLE FORM OF SELECT ADDRESS   
      00015 -0600 00 0 00037         STQ     DRMAD1        ADD TO FWRITE CALL 
      00016 -0534 00 2 00040         LXD     DRMCM1,2      PICK UP WORD COUNT FOR TRANSMISSION  
      00017  0634 00 2 00025         SXA     SLW,2         USE AS BASE ADDRESS TOO (START AT 00000)   
      00020  0634 00 2 00033         SXA     STZ.1,2       THERE TOO    
      00021 -0520 00 0 00367         NZT     ZFLG          ARE WE TO WRITE ZEROS .. 
      00022  0020 00 0 00032         TRA     ZZ            .. YES 
      00023 -0500 00 0 00037         CAL     DRMAD1        NO, GET SELECT ADDRESS FOR FIRST WORD
      00024 -0761 00 0 00042         SEB                   INTO CORE B  
      00025  0602 00 2 00000  SLW    SLW     -,2           ..     
      00026 -0761 00 0 00041         SEA                   RESET ECC TO ACORE 
      00027  0401 00 0 00401         ADM     =1            INCREMENT SELECT ADDRESS 
      00030  2 00001 2 00024         TIX     *-4,2,1       REPEAT TILL DONE   
      00031  0020 00 0 00036         TRA     GO.WRT        SKIP TO WRITE HIGH SPEED DRUM  
                  
      00032 -0761 00 0 00042  ZZ     SEB                   HERE TO WRITE ZEROS ON DRUM    
      00033  0600 00 2 00000  STZ.1  STZ     -,2           .. CLEAR AREA IN B-CORE  
      00034  2 00001 2 00033         TIX     *-1,2,1       ..     
      00035 -0761 00 0 00041         SEA                   .. RESET ECC TO A-CORE   
                  
      00036  0074 00 4 00212  GO.WRT TSX     FWRITE,4      WRITE ON HIGH SPEED DRUM 
      00037  0 00000 0 00000  DRMAD1 ...                   SELECT ADDRESS     
      00040  0 00000 1 00000  DRMCM1 IOCD    0,1,-         CHANNEL COMMAND    
1      M1416 3845  PETER R. BOS ..... HIGH SPEED DRUM ADDRESSING DIAGNOSTIC                      PAGE 2     
                           .... INPUT/OUTPUT PACKAGE .....                          
                  
      00041  0774 00 4 00000  WX4    AXT     -,4           RESTORE XRS  
      00042  0774 00 2 00000  WX2    AXT     -,2           ..     
      00043  0020 00 4 00003         TRA     3,4           RETURN TO MAIN PROGRAM   
                  
                  
                                             CKDRUM .... VERIFY PREVIOUS OPERATION .....  
                  
      00044  0634 00 4 00172  CKDRUM SXA     CX4,4         SAVE LINKAGE 
      00045  0634 00 2 00173         SXA     CX2,2         ..     
                  
      00046  0074 00 4 00236         TSX     DRMWAT,4      WAIT FOR I/O TO STOP FROM DRUM 
      00047  0534 00 4 00172         LXA     CX4,4         RESTORE LINKAGE    
      00050 -0500 60 4 00001         CAL*    1,4           PICK UP DRUM ADDRESS     
      00051  0560 60 4 00002         LDQ*    2,4           AND ZERO FLAG.     
      00052 -0600 00 0 00367         STQ     ZFLG          SAVE ZERO FLAG.    
      00053  0622 00 0 00066         STD     DRMCM2        SAVE WORD COUNT    
      00054  0074 00 4 00175         TSX     CVA,4         CONVERT TO EDIBLE SELECT ADDRESS     
      00055 -0600 00 0 00065         STQ     DRMAD2        .. ADD TO CALL     
      00056 -0534 00 2 00066         LXD     DRMCM2,2      GET TRANSMISSION WORD COUNT    
      00057  0634 00 2 00061         SXA     STZ.2,2       USE AS B-CORE ARRAY BASE ADDRESS     
      00060 -0761 00 0 00042         SEB                   ZERO OUT B-CORE AREA BEFORE READING DRUM   
      00061  0600 00 2 00000  STZ.2  STZ     -,2           ..     
      00062  2 00001 2 00061         TIX     *-1,2,1       ..     
      00063 -0761 00 0 00041         SEA                   RESET ECC TO HOME  
      00064  0074 00 4 00205         TSX     FREAD,4       NOW READ HIGH SPEED DRUM 
      00065  0 00000 0 00000  DRMAD2 ...                   SELECT ADDRESS     
      00066  0 00000 1 00000  DRMCM2 IOCD    0,1,-         TRANSMISSION IN BCORE    
                  
      00067  0074 00 4 00236         TSX     DRMWAT,4      WAIT FOR COMPLETION OF I/O     
      00070 -0500 00 0 00065         CAL     DRMAD2        PICK UP SELECT ADDRESS   
      00071  0602 00 0 00370         SLW     DRMLOC        THIS IS FIRST WORD WRITTEN HERE
      00072  0600 00 0 00371         STZ     GOODWD        CLEAR 'GOOD WORD' FOR ZERO SECTION   
      00073  0600 00 0 00373         STZ     EVRBAD        RESET ERROR SWITCH 
      00074  0600 00 0 00375         STZ     OLDSW         INDICATE LAST WORD O.K.  
      00075 -0534 00 2 00066         LXD     DRMCM2,2      PICK UP WORD COUNT 
      00076  0634 00 2 00106         SXA     LDQ,2         SET UP DATA ADDRESSES    
      00077  0634 00 2 00107         SXA     ERA,2         ..     
      00100  0634 00 2 00116         SXA     CAL,2         ..     
      00101 -0520 00 0 00367  CLOOP  NZT     ZFLG          WERE ZEROES WRITTEN HERE 
      00102  0020 00 0 00115         TRA     CKZZ          YES, GO CHECK ZEROES     
      00103 -0500 00 0 00370         CAL     DRMLOC        PICK UP DRUM ADDRESS     
      00104  0602 00 0 00371         SLW     GOODWD        THIS IS WHAT SHOULD BE WRITTEN HERE  
      00105 -0761 00 0 00042         SEB                   .. PICK UP DATA WORD FROM B-CORE     
      00106  0560 00 2 00000  LDQ    LDQ     -,2           ..     
      00107  0322 00 2 00000  ERA    ERA     -,2           AND COMPARE WITH CORRECT WORD  
      00110 -0761 00 0 00041         SEA                   .. RESET ECC TO HOME     
      00111  0602 00 0 00374         SLW     BADSW         NON-ZERO IF ERROR  
      00112 -0602 00 0 00373         ORS     EVRBAD        KEEP TRACK OF ERRORS     
      00113 -0600 00 0 00372         STQ     BADWD         AND SAVE WORD READ FOR MESSAGE.
      00114  0020 00 0 00123         TRA     TST.1         ..     
      00115 -0761 00 0 00042  CKZZ   SEB                   HERE TO CHECK FOR ZEROS WRITTEN
      00116 -0500 00 2 00000  CAL    CAL     -,2           PICK UP WORD READ  
      00117 -0761 00 0 00041         SEA                   ..     
      00120  0602 00 0 00374         SLW     BADSW         SET SWITCH   
      00121  0602 00 0 00372         SLW     BADWD         SAVE BAD WORD
1      M1416 3845  PETER R. BOS ..... HIGH SPEED DRUM ADDRESSING DIAGNOSTIC                      PAGE 3     
                           .... INPUT/OUTPUT PACKAGE .....                          
                  
      00122 -0602 00 0 00373         ORS     EVRBAD        AND UPDATE ERROR CELL    
                  
      00123 -0520 00 0 00374  TST.1  NZT     BADSW         IF WORD WAS BAD .. 
      00124  0020 00 0 00130         TRA     TST.2         ..     
      00125  0760 00 0 00161         SWT     1             AND SW1 IS DOWN .. 
      00126 -0520 00 0 00375         NZT     OLDSW         OR THIS IS FIRST BAD WORD,     
      00127  0020 00 0 00136         TRA     CMPLN         GO TELL OPERATOR   
      00130 -0520 00 0 00375  TST.2  NZT     OLDSW         OR .. IF LAST WORD WAS BAD     
      00131  0020 00 0 00134         TRA     TST.3         ..     
      00132 -0520 00 0 00374         NZT     BADSW         AND THIS ONE WAS NOT ..  
      00133  0020 00 0 00136         TRA     CMPLN         GO COMPLAIN  
      00134  0760 00 0 00162  TST.3  SWT     2             OR AS LAST RESORT IF SW2 IS DOWN     
      00135  0020 00 0 00157         TRA     SKIP          ELSE, SKIP COMMENT 
      00136  0560 00 0 00370  CMPLN  LDQ     DRMLOC        PICK UP DRUM ADDRESS     
      00137  0074 00 4 00001         TSX     BTOC,4        ..     
      00140  0602 00 0 00355         SLW     COMNT+1       ..     
      00141  0074 00 4 00001         TSX     BTOC,4        ..     
      00142  0602 00 0 00356         SLW     COMNT+2       .. DRUM ADDRESS    
      00143  0560 00 0 00372         LDQ     BADWD         CONVERT WORD READ  
      00144  0074 00 4 00001         TSX     BTOC,4        ..     
      00145  0602 00 0 00360         SLW     COMNT+4       ..     
      00146  0074 00 4 00001         TSX     BTOC,4        ..     
      00147  0602 00 0 00361         SLW     COMNT+5       ..     
      00150  0560 00 0 00371         LDQ     GOODWD        NOW CONVERT WHAT IT SHOULD HAVE BEEN 
      00151  0074 00 4 00001         TSX     BTOC,4   
      00152  0602 00 0 00364         SLW     COMNT+8       ..     
      00153  0074 00 4 00001         TSX     BTOC,4        ..     
      00154  0602 00 0 00365         SLW     COMNT+9       ..     
      00155  0074 00 4 00000         TSX     EPRINT,4      PRINT ERROR MESSAGE ON-LINE    
      00156  0 00013 0 00354         PZE     COMNT,,11     ..     
                  
      00157 -0500 00 0 00370  SKIP   CAL     DRMLOC        INCREMENT DRUM ADDRESS   
      00160  0401 00 0 00404         ADM     =1024         IF SW3 DOWN, TEST ONLY ONE WORD
      00161  0760 00 0 00163         SWT     3             PER GROUP (2000 OCTAL WDS),    
      00162 -0400 00 0 00403         SBM     =1023         ELSE, CHECK EVERY WORD   
      00163  0602 00 0 00370         SLW     DRMLOC        SAVE ..
      00164 -0500 00 0 00374         CAL     BADSW         ..     
      00165  0602 00 0 00375         SLW     OLDSW         SAVE CURRENT ERROR STATUS
      00166  0760 00 0 00163         SWT     3             TEST IF TO DO WHOLE AREA OR ONE PER GROUP  
      00167  2 00001 2 00101         TIX     CLOOP,2,1     LOOP TILL WHOLE DATA AREA CHECKED    
      00170  2 02000 2 00101         TIX     CLOOP,2,1024  IF SW3 DOWN, DO EVERY 1024TH WORD    
                  
      00171 -0500 00 0 00373         CAL     EVRBAD        DONE CHECKING, RETURN ERROR SWITCH   
                  
      00172  0774 00 4 00000  CX4    AXT     -,4           RESTORE LINKAGE    
      00173  0774 00 2 00000  CX2    AXT     -,2           ..     
      00174  0020 00 4 00003         TRA     3,4           RETURN TO MAIN PROGRAM   
                  
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  
                  
                                             CVA ..... CONVERT PACKED DRUM COMMAND ....   
                  
      00175 -0320 00 0 00407  CVA    ANA     =O700000777777 MASK OUT DECREMENT
      00176 -0765 00 0 00017         LGR     15            DRUM SECTOR ADDRESS TO MQ
      00177  0767 00 0 00003         ALS     3             LOGICAL DRUM TO LOW ORDER DECREMENT  
1      M1416 3845  PETER R. BOS ..... HIGH SPEED DRUM ADDRESSING DIAGNOSTIC                      PAGE 4     
                           .... INPUT/OUTPUT PACKAGE .....                          
                  
      00200 -0765 00 0 00006         LGR     6             SHIFT LOGICAL DRUM NO. TO MQ   
      00201  0771 00 0 00006         ARS     6             PHYSICAL DRUM NO GOES TO HIGH  
      00202 -0765 00 0 00017         LGR     15            ORDER DIGIT OF DECREMENT 
      00203  0020 00 4 00001         TRA     1,4           RETURN 
                  
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  
                  
                                             I/O PACKAGE FOR 7320A/7289 CHANNEL 'G' 
                  
                      007000  U      BOOL    7000          HIGH SPEED DRUM CHANNEL 'G'    
             0647 71 1 60000  SCDU   OPD     064771160000  SCDG (NOT DEFINED IN FAP)
                      007330  DRMADR BOOL    U+330         HIGH SPEED DRUM SELECT ADDRESS 
                      000026  DRMTRP BOOL    26            HIGH SPEED DRUM TRAP LOCATIONS 
      00204 +000000000100     UENB   OCT     100           HIGH SPEED DRUM ENABLE WORD    
                  
      00205  0634 00 4 00216  FREAD  SXA     FRWX4,4       ROUTINE TO READ FROM HIGH SPEED DRUM 
      00206  0074 00 4 00236         TSX     DRMWAT,4      WAIT UNTIL DRUM CHANNEL FREE   
      00207 -0625 00 0 00305         STL     DRMSEL        SAVE SELECT IN CASE OF ERROR   
 N    00210  0762 00 0 07330         RDS     DRMADR        SELECT DRUM FOR READING  
      00211  0020 00 0 00216         TRA     FRWX4         GO PICK UP I/O COMMANDS  
                  
      00212  0634 00 4 00216  FWRITE SXA     FRWX4,4       ROUTINE TO WRITE ON HIGH SPEED DRUM  
      00213  0074 00 4 00236         TSX     DRMWAT,4      WAIT UNTIL DRUM CHANNEL FREE   
      00214 -0625 00 0 00305         STL     DRMSEL        SAVE SELECT IN CASE OF ERROR   
 N    00215  0766 00 0 07330         WRS     DRMADR        SELECT DRUM FOR WRITING  
                  
      00216  0774 00 4 00000  FRWX4  AXT     **,4          RESTORE CALLER'S IR4     
      00217 -0500 00 4 00001         CAL     1,4           PICK UP I/O COMMANDS     
      00220  0602 00 0 00344         SLW     DRMCOM        ..     
      00221  0441 00 4 00002         LDI     2,4           .. KEEP 2,4 IN SI  
      00222  0604 00 0 00345         STI     DRMCOM+1      ..     
      00223 -0500 00 4 00003         CAL     3,4           ..     
      00224  0602 00 0 00346         SLW     DRMCOM+2      ..     
      00225  0564 00 0 00400         ENB     =0            DISABLE TRAPS
      00226  0543 00 0 00344         RCHU    DRMCOM        START UP HIGH SPEED DRUM CHANNEL     
      00227 -0625 00 0 00342         STL     UCHECK        SET SWITCH TO CHECK THIS OPERATION   
      00230 -0625 00 0 00341         STL     UBUSY         INDICATE DRUM CHANNEL BUSY     
      00231  0600 00 0 00026         STZ     DRMTRP        RESET PREVIOUS TRAP
      00232  0564 00 0 00204         ENB     UENB          REENABLE DRUM TRAP 
      00233 -0054 00  700000         LFT     700000        WAS 2,4 AN IOCP    
      00234  0020 00 4 00004         TRA     4,4           YES, RETURN 4,4    
      00235  0020 00 4 00003         TRA     3,4           NO, RETURN 3,4     
                  
      00236  0020 00 0 00237  DRMWAT TRA     *+1           WAIT AND CHECK PREVIOUS DRUM OPERATION     
 N    00237  0760 00 0 07352         RDCU                  FIRST PASS SETUP   
      00240  0600 00 0 00026         STZ     DRMTRP        SET UP DRUM TRAP LOCATIONS     
      00241 -0500 00 0 00312         CAL     UTRAP         ..     
      00242  0602 00 0 00027         SLW     DRMTRP+1      ..     
      00243 -0625 00 0 00236         STL     DRMWAT        CLOSE THIS PATH    
                  
      00244 -0520 00 0 00342         NZT     UCHECK        IS THERE A PREVIOUS OPERATION TO CHECK     
      00245  0020 00 4 00001         TRA     1,4           NO, RETURN   
      00246  0600 00 0 00342         STZ     UCHECK        YES, RESET CHECK SWITCH  
      00247  0634 00 4 00273         SXA     DRMWX4,4 
      00250  0774 00 4 00012         AXT     10,4          NO. OF TIMES TO RETRY AFTER DRUM ERROR     
1      M1416 3845  PETER R. BOS ..... HIGH SPEED DRUM ADDRESSING DIAGNOSTIC                      PAGE 5     
                           .... INPUT/OUTPUT PACKAGE .....                          
                  
      00251  0564 00 0 00204  DRMW1  ENB     UENB          INSURE DRUM IS ENABLED   
      00252 -0500 00 0 00376         CAL     SWPWAT        COUNT SWAP OR USER WAIT TIME IN CYCLES     
      00253 -0520 00 0 00341  CHBUSY NZT     UBUSY         IS DRUM CHANNEL BUSY     
      00254  0020 00 0 00261         TRA     CHDONE        NO, GO CHECK LAST OPERATION    
      00255 -0066 00 0 00261         TCNU    CHDONE        CHECK FOR MISSED TRAP    
      00256  0400 00 0 00402         ADD     =7            CHANNEL STIIL BUSY,  KEEP COUNTING   
      00257  0774 00 0 00000         AXT     0,0           .. INSURE NO OVERLAP     
      00260  0020 00 0 00253         TRA     CHBUSY        ..     
                  
      00261  0602 00 0 00376  CHDONE SLW     SWPWAT        SAVE SWAP WAIT TIME
      00262  0647 00 0 00343         SCDU    DRMFLG        SAVE CHANNEL FLAGS 
      00263  0441 00 0 00343         LDI     DRMFLG        CHECK FOR ERROR    
      00264 -0054 00  700020         LFT     700020        ..     
      00265  0020 00 0 00275         TRA     DRMW2         SKIP TO RETRY ON ERROR   
      00266  0441 00 0 00026         LDI     DRMTRP        CHECK DRUM TRAP FLAGS    
      00267 -0054 00  000006         LFT     6             WAS THERE AN EOF OR REDUNDANCY 
      00270  0020 00 0 00300         TRA     DRMW2A        YES, ERROR   
      00271 -0056 00  000001         LNT     1             NO, IS THIS A NORMAL END 
      00272  0020 00 0 00300         TRA     DRMW2A        NO, ERROR    
      00273  0774 00 4 00000  DRMWX4 AXT     **,4          YES, RETURN  
      00274  0020 00 4 00001         TRA     1,4           ..     
                  
      00275 -0054 00  400000  DRMW2  LFT     400000        WAS THERE AN I/O CHECK   
      00276  0760 00 0 00005         IOT                   IF SO TURN OFF I/O CHECK TRIGGER     
      00277  0761 00 0 00000         NOP                   ..     
      00300 -0500 00 0 00377  DRMW2A CAL     NDERRS        COUNT DRUM ERRORS FOR RECORD   
      00301  0400 00 0 00401         ADD     =1            ..     
      00302  0602 00 0 00377         SLW     NDERRS        ..     
      00303 -2 00001 4 00316         TNX     DRMW3,4,1     DO WE TRY AGAIN    
      00304  0564 00 0 00400         ENB     =0            YES    
      00305  0522 00 0 00000  DRMSEL XEC     **            RESELECT DRUM
      00306  0543 00 0 00344         RCHU    DRMCOM        ..     
      00307 -0625 00 0 00341         STL     UBUSY         ..     
      00310  0600 00 0 00026         STZ     DRMTRP        ..     
      00311  0020 00 0 00251         TRA     DRMW1         AND WAIT     
                  
      00312  0021 00 0 00313  UTRAP  TTR     *+1           DRUM TRAP ROUTINE  
      00313  0600 00 0 00341         STZ     UBUSY         RESET BUSY SWITCH ON DRUM TRAP 
      00314  0564 00 0 00204         ENB     UENB          REENABLE     
      00315  0020 60 0 00026         TRA*    DRMTRP        RETURN 
                  
      00316  0066 00 0 00316  DRMW3  TCOU    *  
      00317  0441 60 0 00305         LDI*    DRMSEL        HERE ON FATAL DRUM ERROR 
      00320 -0500 00 0 00406         CAL     =HWRITE       SET UP ERROR COMMENT     
      00321 -0056 00  076600         LNT     076600        ..     
      00322 -0500 00 0 00405         CAL     =HREAD        ..     
      00323  0602 00 0 00350         SLW     DERCOM+1      ..     
      00324 -0500 00 0 00344         CAL     DRMCOM        .. GET SECTOR ADDRESS    
      00325  0621 00 0 00343         STA     DRMFLG        ..     
      00326 -0500 00 0 00026         CAL     DRMTRP        .. GET TRAP FLAGS  
      00327  0771 00 0 00003         ARS     3             .. INTO TAG  
      00330  0625 00 0 00343         STT     DRMFLG        ..     
      00331  0560 00 0 00343         LDQ     DRMFLG        ..     
      00332  0074 00 4 00001         TSX     BTOC,4        .. CONVERT FLAGS TO OCTAL
      00333  0602 00 0 00352         SLW     DERCOM+3      ..     
1      M1416 3845  PETER R. BOS ..... HIGH SPEED DRUM ADDRESSING DIAGNOSTIC                      PAGE 6     
                           .... INPUT/OUTPUT PACKAGE .....                          
                  
      00334  0074 00 4 00001         TSX     BTOC,4        ..     
      00335  0602 00 0 00353         SLW     DERCOM+4      ..     
      00336  0074 00 4 00000         TSX     EPRINT,4      PRINT DRUM ERROR COMMENT ON LINE     
      00337  0 00005 0 00347                 DERCOM,,5     ..     
      00340  0020 00 0 00273         TRA     DRMWX4        AND RETURN   
                  
      00341  0 00000 0 00000  UBUSY  PZE     0             DRUM CHANNEL BUSY SWITCH 
      00342  0 00000 0 00000  UCHECK PZE     0             SWITCH TO CHECK PREVIOUS OPERATION   
      00343  0 00000 0 00000  DRMFLG PZE     0             TEMP FOR DRUM CHANNEL FLAGS    
      00344 +000000000000     DRMCOM OCT     0,0,0         7389 DRUM CHANNEL COMMANDS     
      00345 +000000000000     
      00346 +000000000000     
      00347  602451644460     DERCOM BCI     5, DRUM WRITE ERROR 000000000000 
      00350  665131632560     
      00351  255151465160     
      00352  000000000000     
      00353  000000000000     
                  
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  
                  
                  
      00354  606646512460     COMNT  BCI     8, WORD 000000000000 READ 000000000000. SHOULD BE  
      00355  000000000000     
      00356  000000000000     
      00357  605125212460     
      00360  000000000000     
      00361  000000000000     
      00362  336062304664     
      00363  432460222560     
      00364  000000000000            BCI     3,000000000000.
      00365  000000000000     
      00366  336060606060     
                  
      00367  0 00000 0 00000  ZFLG   PZE                   FLAG TO WRITE ZEROS/ADDRESSES  
      00370  0 00000 0 00000  DRMLOC PZE                   DRUM ADDRESS 
      00371  0 00000 0 00000  GOODWD PZE                   CORRECT WORD TO BE READ  
      00372  0 00000 0 00000  BADWD  PZE                   INCORRECT WORD FOUND     
      00373  0 00000 0 00000  EVRBAD PZE                   NON-ZERO IF ANY ERROR DURING CURRENT I/O   
      00374  0 00000 0 00000  BADSW  PZE                   NON-ZERO IF THIS WORD IN ERROR 
      00375  0 00000 0 00000  OLDSW  PZE                   NON-ZERO IF PREVIOUS WORD IN ERROR   
                  
      00376  0 00000 0 00000  SWPWAT PZE                   DRUM WAIT TIME IN CYCLES 
      00377  0 00000 0 00000  NDERRS PZE                   COUNT OF DRUM ERRORS     
                  
      00400                          RMT     *             REMOTE SEQUENCES   
                                     END  
                  
        LITERALS  
      00400  000000000000     
      00401  000000000001     
      00402  000000000007     
      00403  000000001777     
      00404  000000002000     
      00405  512521246060     
      00406  665131632560     
1      M1416 3845  PETER R. BOS ..... HIGH SPEED DRUM ADDRESSING DIAGNOSTIC                      PAGE 7     
                           .... INPUT/OUTPUT PACKAGE .....                          
                  
      00407  700000777777     
1      M1416 3845  PETER R. BOS ..... HIGH SPEED DRUM ADDRESSING DIAGNOSTIC                      PAGE 1     
                        POST PROCESSOR ASSEMBLY DATA  
                  
        410 IS THE FIRST LOCATION NOT USED BY THIS PROGRAM  
                  
0REFERENCES TO DEFINED SYMBOLS      
       7000      U   204,  226,  237,  255,  306,  316
         32     ZZ    22
        116    CAL   100
        175    CVA    14,   54
        173    CX2    45
        172    CX4    44,   47
        107    ERA    77
        106    LDQ    76
         25    SLW    17
         42    WX2     5
         41    WX4     4,    7
          1   BTOC   137,  141,  144,  146,  151,  153,  332,  334
        115   CKZZ   102
        157   SKIP   135
        204   UENB   232,  251,  314
        367   ZFLG    12,   21,   52,  101
        374  BADSW   111,  120,  123,  132,  164
        372  BADWD   113,  121,  143
        101  CLOOP   167,  170
        136  CMPLN   127,  133
        354  COMNT   140,  142,  145,  147,  152,  154,  156
        251  DRMW1   311
        275  DRMW2   265
        316  DRMW3   303
        205  FREAD    64
        216  FRWX4   205,  211,  212
        375  OLDSW    74,  126,  130,  165
         33  STZ.1    20
         61  STZ.2    57
        123  TST.1   114
        130  TST.2   124
        134  TST.3   131
        341  UBUSY   230,  253,  307,  313
        312  UTRAP   241
          4  WDRUM     0
        253 CHBUSY   260
        261 CHDONE   254,  255
         44 CKDRUM     0
        347 DERCOM   323,  333,  335,  337
         37 DRMAD1    15,   23
         65 DRMAD2    55,   70
       7330 DRMADR   204,  210,  215
         40 DRMCM1    13,   16
         66 DRMCM2    53,   56,   75
        344 DRMCOM   220,  222,  224,  226,  306,  324
        343 DRMFLG   262,  263,  325,  330,  331
        370 DRMLOC    71,  103,  136,  157,  163
        305 DRMSEL   207,  214,  317
         26 DRMTRP   204,  231,  240,  242,  266,  310,  315,  326
        300 DRMW2A   270,  272
        236 DRMWAT     6,   46,   67,  206,  213,  243
1      M1416 3845  PETER R. BOS ..... HIGH SPEED DRUM ADDRESSING DIAGNOSTIC                      PAGE 2     
                        POST PROCESSOR ASSEMBLY DATA  
                  
        273 DRMWX4   247,  340
          0 EPRINT   155,  336
        373 EVRBAD    73,  112,  122,  171
        212 FWRITE    36
         36 GO.WRT    31
        371 GOODWD    72,  104,  150
        377 NDERRS   300,  302
        376 SWPWAT   252,  261
        342 UCHECK   227,  244,  246
                  
0 NO ERROR IN ABOVE ASSEMBLY. 




 CLOCK   BCD 02/09/69 0421.5    6045         00000    




 CLOCK   BCD 06/24/68 1112.9    3820         00000    
1       M1416 3845  PETER R. BOS .... CHRONOLOG CLOCK DIAGNOSTIC .....                           PAGE 1     
                  
                                     PCC     ON 
                                     LBL     CLOC     
                                     PCC     OFF
                  
                                     EXTERN  PRINT    
                  
                  
             0761 01 1 60000  EFA    OPSYN   NOP
             3 00001 1 60000  PAR    OPSYN   PTH
             2 00001 1 60000  BLK    OPSYN   PTW
                  
                                     UNLIST     
 M                            CALL   MACRO   SUBR,ARGS,CRS                                                        
 M                            PRINT  MACRO   N,MESS,LOC,CRS                                                       
                  
                  
1       M1416 3845  PETER R. BOS .... CHRONOLOG CLOCK DIAGNOSTIC .....                           PAGE 2     
                           PROGRAM...                                               
                  
                  
                  
        TRANSFER VECTOR 
      00000  475131456360     PRINT 
                  
      00001  0760 00 0 00016         LMTM                  ..     
      00002  0000 00 0 00003         HTR     *+1           PAUSE FOR OPERATOR 
      00003 -0500 00 0 00371         CAL     =O100000      IF RUNNING UNDER CTSS,   
      00004  0074 00 4 00333         TSX     CTSS,4        ..     
      00005  0020 00 0 00007         TRA     *+2           ..     
      00006 -0602 00 0 00335         ORS     RCLK          INSERT BCORE BIT INTO CHANNEL COMMAND.     
                  
      00007                   STRT.1 PRINT   4(0TURN INTERVAL TIMER ON) 
      00011  0600 00 0 00005         STZ     5             CLEAR CORE CLOCK CELL    
      00012  0774 00 2 00005         AXT     5,2           GIVE PLENTY OF TIME TO INCREMENT     
      00013  0774 00 4 77777         AXT     -1,4          .. IN CASE RUNNING ON CTSS     
      00014  2 00001 4 00014         TIX     *,4,1         AND WAIT.    
      00015  2 00001 2 00013         TIX     *-2,2,1       .. ABOUT 300 MS    
      00016 -0520 00 0 00005         NZT     5             SEE IF CLOCK INCREMENTED 
      00017  0020 00 0 00007         TRA     STRT.1        NO, GO COMPLAIN TO OPERATOR    
                  
      00020 -0500 00 0 00005  LOOP   CAL     5             SAVE CURRENT CLOCK CONTENTS    
      00021  0602 00 0 00326         SLW     CLKNOW        ..     
      00022  0074 00 4 00055         TSX     RDCLOC,4      GO READ CHRONOLOG  
      00023  0402 00 0 00326         SUB     CLKNOW        SHOULD BE SAME AS INTERVAL TIMER     
      00024  0100 00 0 00020         TZE     LOOP          EXCEPT FIRST TIME  
      00025 -0340 00 0 00332         LAS     CLKINT        OR AT LEAST BE CLOSE.    
      00026  0020 00 0 00031         TRA     *+3           .. TOO LARGE, GO COMMENT 
      00027  0020 00 0 00020         TRA     LOOP          .. JUST MADE IT... 
      00030  0020 00 0 00020         TRA     LOOP          .. WITHIN TOLERANCE, IGNORE    
                  
      00031  0500 00 0 00327         CLA     ABSTIM        GET TIME READ BY CHRONOLOG     
      00032  0400 00 0 00005         ADD     5             (60THS) AND ADD ANY INTERVAL   
      00033  0402 00 0 00326         SUB     CLKNOW        TIMER INCREMENTS SINCE.  
      00034  0602 00 0 00005         SLW     5             AND USE FOR NEXT TIME CLOCK IS READ  
                  
      00035  0500 00 0 00330  BADCLK CLA     MMDDHH        FORMAT MESSAGE FOR PRINTING    
      00036  0560 00 0 00331         LDQ     MMSS66        .. DATE AND TIME FROM CHRONOLOG
      00037 -0603 00 0 00342         DST     CLKRD+3       INSERT IN MESSAGE  
      00040  0560 00 0 00330         LDQ     MMDDHH        NOW PRINT AS OCTAL ALSO  
      00041  0074 00 4 00233         TSX     BTOC,4        ..     
      00042  0602 00 0 00345         SLW     CLKRD+6       ..     
      00043  0074 00 4 00233         TSX     BTOC,4        ..     
      00044  0602 00 0 00346         SLW     CLKRD+7       ..     
      00045  0560 00 0 00331         LDQ     MMSS66        DON'T FORGET HIM   
      00046  0074 00 4 00233         TSX     BTOC,4        ..     
      00047  0602 00 0 00347         SLW     CLKRD+8       ..     
      00050  0074 00 4 00233         TSX     BTOC,4        ..     
      00051  0602 00 0 00350         SLW     CLKRD+9       ..     
      00052                          PRINT   12,,CLKRD     PRINT LINE FOR OPERATOR  
      00054  0020 00 0 00020         TRA     LOOP          AND RETURN FOR MORE
1       M1416 3845  PETER R. BOS .... CHRONOLOG CLOCK DIAGNOSTIC .....                           PAGE 3     
                           READ CHRONOLOG AND CONVERT TIME                          
                  
                  
      00055  0634 00 4 00220  RDCLOC SXA     RX4,4         SAVE LINKAGE 
      00056  0600 00 0 00330         STZ     MMDDHH        .. SO WE CAN TELL IF IT CHANGED
      00057  0600 00 0 00331         STZ     MMSS66        ..     
      00060  0762 00 0 01207         RTDA    7             CLOCK IS 'TAPE' A7 
      00061  0540 00 0 00335         RCHA    RCLK          READ CHRONOLOG LIKE A TAPE DRIVE     
      00062  0774 00 1 00002         AXT     2,1           ONLY TRY TWICE     
      00063  0774 00 4 10624  CLOC1  AXT     DELAY,4       9 MILLISECOND DELAY BEFORE READING   
      00064  2 00001 4 00064         TIX     *,4,1         CHRONOLOG    
      00065  0520 00 0 00330         ZET     MMDDHH        SHOULD BE HERE BY NOW    
      00066  0020 00 0 00074         TRA     CLOC2         YES, GO CHECK VALUE
      00067  2 00001 1 00063         TIX     CLOC1,1,1     NOT YET, WAIT 9 MS MORE  
      00070  0760 00 0 01352         RDCA                  CANNOT READ CHRONOLOG    
      00071                   NOCLK  PRINT   6( CHRONOLOG CLOCK FAILED TO READ)     
      00073  0020 00 0 00020         TRA     LOOP          CONTINUE     
                  
      00074  0060 00 0 00074  CLOC2  TCOA    *             WAIT FOR CHANNEL   
      00075  0022 00 0 00076         TRCA    *+1           TURN OFF RTT TRIGGER     
      00076  0030 00 0 00077         TEFA    *+1           MAY AS WELL TURN THAT OFF TOO  
      00077  0560 00 0 00330         LDQ     MMDDHH        CHECK FOR VALID DATE AND TIME  
      00100  0774 00 2 00003         AXT     3,2           ..     
      00101  0074 00 4 00257  TST.1  TSX     DTBC1,4       CONVERT 2 DIGITS TO BINARY     
      00102 -0340 00 2 00311         LAS     MAX1,2        SEE IF WITHIN RANGE
      00103  0020 00 0 00035         TRA     BADCLK        TOO BIG
      00104  0761 00 0 00000         NOP                   ..     
      00105 -0340 00 2 00317         LAS     MIN1,2        ..     
      00106  0020 00 0 00111         TRA     *+3           ..     
      00107  0020 00 0 00111         TRA     *+2           ..     
      00110  0020 00 0 00035         TRA     BADCLK        TOO SMALL    
      00111  2 00001 2 00101         TIX     TST.1,2,1     ..     
                  
      00112  0560 00 0 00331         LDQ     MMSS66        CHECK REST OF TIME 
      00113  0774 00 2 00003         AXT     3,2           ..     
      00114  0074 00 4 00257  TST.2  TSX     DTBC1,4       CONVERT
      00115 -0340 00 2 00314         LAS     MAX2,2        CHECK VALUE  
      00116  0020 00 0 00035         TRA     BADCLK        TSK... 
      00117  0761 00 0 00000         NOP  
      00120 -0340 00 2 00322         LAS     MIN2,2        ..     
      00121  0020 00 0 00124         TRA     *+3           ..     
      00122  0020 00 0 00124         TRA     *+2
      00123  0020 00 0 00035         TRA     BADCLK        ..     
      00124  2 00001 2 00114         TIX     TST.2,2,1     ..     
                  
      00125 -0500 00 0 00330         CAL     MMDDHH        CONVERT DATE/TIME TO 60'TH SEC 
      00126  0771 00 0 00030         ARS     24            GET MONTH    
      00127  0131 00 0 00000         XCA                   ..     
      00130  0074 00 4 00241         TSX     DTBC,4        TO BINARY    
      00131  0734 00 4 00000         PAX     ,4            ..     
      00132  0734 00 2 00000         PAX     ,2            SAVE HERE ALSO     
      00133 -0754 00 0 00000         ZAC  
      00134  0400 00 4 00306         ADD     MONTH+1,4     COUNT UP DAYS IN YEAR ELAPSED  
      00135  2 00001 4 00134         TIX     *-1,4,1       UP TO FIRST DAY THIS MONTH     
      00136  0131 00 0 00000         XCA  
      00137  0200 00 0 00322         MPY     1DAY          CONVERT TO 60THS   
1       M1416 3845  PETER R. BOS .... CHRONOLOG CLOCK DIAGNOSTIC .....                           PAGE 4     
                           READ CHRONOLOG AND CONVERT TIME                          
                  
      00140 -0600 00 0 00336         STQ     TMP           SAVE   
      00141 -0500 00 0 00330         CAL     MMDDHH        DAYS ELAPSED IN MONTH NEXT     
      00142  0771 00 0 00014         ARS     12            ..     
      00143 -0320 00 0 00367         ANA     =O7777        MASK JUNK    
      00144  0131 00 0 00000         XCA  
      00145  0074 00 4 00241         TSX     DTBC,4        ..     
      00146 -0340 00 2 00305         LAS     MONTH,2       SEE IF APRIL 31 OR LIKE THAT...
      00147  0020 00 0 00035         TRA     BADCLK        IF SO, BAD VALUE   
      00150  0761 00 0 00000         NOP                   ..     
      00151  0131 00 0 00000         XCA  
      00152  0200 00 0 00322         MPY     1DAY          TO 60THS     
      00153  0131 00 0 00000         XCA  
      00154  0400 00 0 00336         ADD     TMP           ADD TO PREVIOUS VALUE    
      00155  0601 00 0 00336         STO     TMP           SAVE   
      00156 -0500 00 0 00330         CAL     MMDDHH        HOURS NEXT   
      00157 -0320 00 0 00367         ANA     =O7777        ..     
      00160  0131 00 0 00000         XCA  
      00161  0074 00 4 00241         TSX     DTBC,4        ..     
      00162  0131 00 0 00000         XCA                   ..     
      00163  0200 00 0 00323         MPY     1HOUR         TO 60THS AGAIN     
      00164  0131 00 0 00000         XCA                   ..     
      00165  0400 00 0 00336         ADD     TMP           ..     
      00166  0601 00 0 00336         STO     TMP           SAVE AGAIN   
      00167 -0500 00 0 00331         CAL     MMSS66        GET MINUTES AFTER HOUR   
      00170  0771 00 0 00030         ARS     24            ..     
      00171  0131 00 0 00000         XCA  
      00172  0074 00 4 00241         TSX     DTBC,4        CONVERT
      00173  0131 00 0 00000         XCA  
      00174  0200 00 0 00324         MPY     1MIN          =3600  
      00175  0131 00 0 00000         XCA  
      00176  0400 00 0 00336         ADD     TMP
      00177  0601 00 0 00336         STO     TMP           ALMOST THERE 
      00200 -0500 00 0 00331         CAL     MMSS66        SECONDS NOW  
      00201  0771 00 0 00014         ARS     12 
      00202 -0320 00 0 00367         ANA     =O7777        MASK OUT JUNK
      00203  0131 00 0 00000         XCA                   ..     
      00204  0074 00 4 00241         TSX     DTBC,4        ..     
      00205  0131 00 0 00000         XCA  
      00206  0200 00 0 00325         MPY     1SEC          =60    
      00207  0131 00 0 00000         XCA  
      00210  0400 00 0 00336         ADD     TMP           ADD IN 
      00211  0601 00 0 00336         STO     TMP           ONE MORE TO GO ....
      00212 -0500 00 0 00331         CAL     MMSS66        ..     
      00213 -0320 00 0 00367         ANA     =O7777        ..     
      00214  0131 00 0 00000         XCA                   ..     
      00215  0074 00 4 00241         TSX     DTBC,4        ..     
      00216  0400 00 0 00336         ADD     TMP           ALL IN 60'THS OF SEC SINCE     
      00217  0601 00 0 00327         STO     ABSTIM        BEGINNING OF YEAR  
                  
      00220  0774 00 4 00000  RX4    AXT     -,4           RESTORE LINKAGE    
      00221  0020 00 4 00001         TRA     1,4           RETURN WITH TIME IN AC   
                  
1       M1416 3845  PETER R. BOS .... CHRONOLOG CLOCK DIAGNOSTIC .....                           PAGE 5     
                           SUBROUTINES                                              
                  
                  
                                             CONVERSION ROUTINES, J.W.PODUSKA 
                  
      00222 -0754 00 0 00000  BTDC   ZAC                   BINARY TO DECIMAL BCD    
      00223  0225 36 0 00366         VDP     =1E5B40,,30    
      00224  0225 06 0 00370         VDP     =1E4B34,,6     
      00225  0225 06 0 00372         VDP     =1E3B28,,6     
      00226  0225 06 0 00374         VDP     =1E2B22,,6     
      00227  0225 06 0 00375         VDP     =1E1B16,,6     
      00230  0225 06 0 00376         VDP     =1E0B10,,6     
      00231 -0130 00 0 00000         XCL  
      00232  0020 00 4 00001         TRA     1,4
                  
      00233 -0500 00 0 00365  BTOC   CAL     =1B34    
      00234  0140 00 0 00235         TOV     *+1
      00235  0767 00 0 00003         ALS     3  
      00236 -0763 00 0 00003         LGL     3  
      00237 -0140 00 0 00235         TNO     *-2
      00240  0020 00 4 00001         TRA     1,4
                  
      00241  0634 00 4 00254  DTBC   SXA     DTBCX4,4 
      00242 -0754 00 0 00000         ZAC  
      00243  0774 00 4 00006         AXT     6,4
      00244  0601 00 0 00256  DTBCLP STO     DTMP     
      00245 -0773 00 0 00002         RQL     2  
      00246 -0763 00 0 00001         LGL     1  
      00247  0402 00 0 00256         SUB     DTMP     
      00250 -0763 00 0 00002         LGL     2  
      00251  0400 00 0 00256         ADD     DTMP     
      00252 -0763 00 0 00001         LGL     1  
      00253  2 00001 4 00244         TIX     DTBCLP,4,1     
      00254  0774 00 4 00000  DTBCX4 AXT     -,4
      00255  0020 00 4 00001         TRA     1,4
      00256  0 00000 0 00000  DTMP   PZE                   FOR DTBC     
                  
      00257  0634 00 4 00254  DTBC1  SXA     DTBCX4,4      FOR 2 DIGITS ONLY  
      00260 -0754 00 0 00000         ZAC  
      00261  0774 00 4 00002         AXT     2,4
      00262  0020 00 0 00244         TRA     DTBCLP   
                  
      00263 -0500 00 0 00373  OTBC   CAL     =1B16    
      00264  0140 00 0 00265         TOV     *+1
      00265 -0773 00 0 00003         RQL     3  
      00266 -0763 00 0 00003         LGL     3  
      00267 -0140 00 0 00265         TNO     *-2
      00270  0020 00 4 00001         TRA     1,4
1       M1416 3845  PETER R. BOS .... CHRONOLOG CLOCK DIAGNOSTIC .....                           PAGE 6     
                           STORAGE AND CONSTANTS                                    
                  
                  
                       10624  DELAY  EQU     4500          9 MILLISECOND DELAY
                  
      00271 +000000000037     DEC    DEC     31            NUMBER OF DAYS IN MONTH  
      00272 +000000000036     NOV    DEC     30 
      00273 +000000000037     OCT    DEC     31 
      00274 +000000000036     SEP    DEC     30 
      00275 +000000000037     AUG    DEC     31 
      00276 +000000000037     JUL    DEC     31 
      00277 +000000000036     JUN    DEC     30 
      00300 +000000000037     MAY    DEC     31 
      00301 +000000000036     APR    DEC     30 
      00302 +000000000037     MAR    DEC     31 
      00303 +000000000035     FEB    DEC     29            1968 IS LEAP YEAR  
      00304 +000000000037     JAN    DEC     31 
      00305  0 00000 0 00000  MONTH  PZE     0  
                  
      00306 +000000000014            DEC     12 
      00307 +000000000037            DEC     31 
      00310 +000000000027            DEC     23 
                       00311  MAX1   SYN     *             MAXIMUM VALUES FRO DATE/TIME   
      00311 +000000000073            DEC     59 
      00312 +000000000073            DEC     59 
      00313 +000000000073            DEC     59 
                       00314  MAX2   SYN     *             ..     
      00314 +000000000001            DEC     1  
      00315 +000000000001            DEC     1  
      00316 +000000000000            DEC     0  
                       00317  MIN1   SYN     *             MINIMUM VALUES     
      00317 +000000000000            DEC     0  
      00320 +000000000000            DEC     0  
      00321 +000000000000            DEC     0  
                       00322  MIN2   SYN     *             ..     
                  
      00322  000023615000     1DAY   VFD     36/60*60*60*24 
      00323  000000645700     1HOUR  VFD     36/60*60*60    
      00324  000000007020     1MIN   VFD     36/60*60 
      00325  000000000074     1SEC   VFD     36/60    
                  
      00326  0 00000 0 00000  CLKNOW PZE  
      00327  0 00000 0 00000  ABSTIM PZE  
      00330  0 00000 0 00000  MMDDHH PZE                   MUST BE IN ORDER...
      00331  0 00000 0 00000  MMSS66 PZE                   .......
                  
      00332 +000000000074     CLKINT DEC     60            TOLERANCE IN 60'THS
                  
      00333  0101 00 0 00334  CTSS   TIA     *+1           SUPERVISOR RETURNS 2,4   
      00334  0020 00 4 00001         TRA     1,4           ..     
      00335  3 00002 0 00330  RCLK   IORT    MMDDHH,,2     CHANNEL COMMAND TO READ CHRONOLOG    
                  
      00336  0 00000 0 00000  TMP    PZE                   TEMPORARY    
1       M1416 3845  PETER R. BOS .... CHRONOLOG CLOCK DIAGNOSTIC .....                           PAGE 7     
                           STORAGE AND CONSTANTS                                    
                  
      00337  602330514645     CLKRD  BCI     8, CHRONOLOG READ  'MMDDHHMMSS66' .. (AAAABBBBCCCC 
      00340  464346276051     
      00341  252124606014     
      00342  444424243030     
      00343  444462620606     
      00344  146033336074     
      00345  212121212222     
      00346  222223232323     
      00347  242424242525            BCI     4,DDDDEEEEFFFF OCTAL)
      00350  252526262626     
      00351  604623632143     
      00352  346060606060     
                  
      00353                          RMT     *  
                                     END  
                  
        LITERALS  
      00365  000000000002     
      00366  000000006065     
      00367  000000007777     
      00370  000000047040     
      00371  000000100000     
      00372  000000372000     
      00373  000002000000     
      00374  000003100000     
      00375  000024000000     
      00376  000200000000     
1       M1416 3845  PETER R. BOS .... CHRONOLOG CLOCK DIAGNOSTIC .....                           PAGE 1     
                        POST PROCESSOR ASSEMBLY DATA  
                  
        377 IS THE FIRST LOCATION NOT USED BY THIS PROGRAM  
                  
0REFERENCES TO DEFINED SYMBOLS      
        301    APR      
        275    AUG      
        271    DEC      
        303    FEB      
        304    JAN      
        276    JUL      
        277    JUN      
        302    MAR      
        300    MAY      
        272    NOV      
        273    OCT      
        220    RX4    55
        274    SEP      
        336    TMP   140,  154,  155,  165,  166,  176,  177,  210,  211,  216
        322   1DAY   137,  152
        324   1MIN   174
        325   1SEC   206
        222   BTDC      
        233   BTOC    41,   43,   46,   50
        333   CTSS     4
        241   DTBC   130,  145,  161,  172,  204,  215
        256   DTMP   244,  247,  251
         20   LOOP    24,   27,   30,   54,   73
        311   MAX1   102,  311
        314   MAX2   115,  314
        317   MIN1   105,  317
        322   MIN2   120,  322
        263   OTBC      
        335   RCLK     6,   61
        323  1HOUR   163
        337  CLKRD    37,   42,   44,   47,   51,   53
         63  CLOC1    67
         74  CLOC2    66
      10624  DELAY    63,  271
        257  DTBC1   101,  114
        353  ..001    10
        357  ..004    72
        305  MONTH   134,  146
         71  NOCLK      
          0  PRINT     7,   52,   71
        101  TST.1   111
        114  TST.2   124
        327 ABSTIM    31,  217
         35 BADCLK   103,  110,  116,  123,  147
        332 CLKINT    25
        326 CLKNOW    21,   23,   33
        244 DTBCLP   253,  262
        254 DTBCX4   241,  257
        330 MMDDHH    35,   40,   56,   65,   77,  125,  141,  156,  335
        331 MMSS66    36,   45,   57,  112,  167,  200,  212
         55 RDCLOC    22
1       M1416 3845  PETER R. BOS .... CHRONOLOG CLOCK DIAGNOSTIC .....                           PAGE 2     
                        POST PROCESSOR ASSEMBLY DATA  
                  
          7 STRT.1    17
                  
0 NO ERROR IN ABOVE ASSEMBLY. 




PRNTBK   BCD 06/16/68 1631.8    2197         00000    
1       M1416-3845  PETER R. BOS  11/22/67 -- BUFFERED ON-LINE PRINT.                            PAGE 1     
                  
                                     PCC     ON 
                                     COUNT   150
                                     BCORE                 TO RUN IN CORE B UNDER CTSS.   
                       00002         ENTRY   PRINT    
                                     LBL     PRINT    
                                     PCC     OFF
                  
                  
                              *     
                              *  BUFFERED ON-LINE PRINT, CALLING SEQUENCE ..  
                              *     
                              *      TSX  $PRINT,4    OR     TSX  $PRINT,4    
                              *      PRE  FIRST,T,LAST       PRE  FIRST,T,N   
                              *     
                              *  RECOGNIZES BLANK, 0, AND 1 AS CARRIAGE CONTROL (OTHER CARRIAGE 
                              *  CONTROLS DON'T WORK TOO WELL), OTHERWISE SINGLE SPACE. PRINTS  
                              *  ONLY FIRST 20 WORDS, AND T IS IGNORED. IF PRE .E. PZE, NORMAL  
                              *  RETURN (2,4), IF PRE .E. MZE, SPACE UP PRINTER AND STOP. RESTART     
                              *  GIVES 2,4 RETURN.    
                              *     
                              *  THIS VERSION FOR USE BY BACKGROUND SYSTEMS OPERATING IN PROTECT
                              *  MODE UNDER CTSS SUPERVISION.     
                              *     
                  
                  
                  
            LINKAGE DIRECTOR  
      00000  000000000000     
      00001  475131456360     
                  
                       00002  PRINT  SYN     *             ENTRY POINT. 
      00002  0634 00 4 00123         SXA     XR4,4         SAVE XRS.    
      00003  0634 00 2 00124         SXA     XR2,2         ..     
      00004  0634 00 1 00125         SXA     XR1,1         ..     
      00005 -0500 00 4 00001         CAL     1,4           GET CONTROL WORD.  
      00006  0734 00 2 00000         PAX     0,2           TO XR2.
      00007 -0634 00 2 00012         SXD     *+3,2         INSERT FOR FINDING N.    
      00010 -0734 00 2 00000         PDX     0,2           N OR LAST.   
      00011  1 00001 2 00012         TXI     *+1,2,1       PLUS 1 FOR TEST.   
      00012  2 00000 2 00014         TIX     *+2,2,-       N OR LAST. Q 
      00013  1 77777 2 00014         TXI     *+1,2,-1      WAS N, REMOVE THE 1.     
      00014 -3 00000 2 00123         TXL     PRTN,2,0      EXIT ON ZERO WORD COUNT. 
      00015 -3 00024 2 00017         TXL     *+2,2,20      IF N .G. 20, 
      00016  0774 00 2 00024         AXT     20,2          N = 20.
      00017  0754 00 2 00000         PXA     0,2           COUNT TO AC. 
      00020  0361 00 4 00001         ACL     1,4           FIRST+N.     
      00021  0621 00 0 00074         STA     LDQ           INSERT IN PICKUP.  
      00022  0522 00 0 00074         XEC     LDQ           GET FIRST WORD.    
      00023 -0754 00 0 00000         ZAC                   ..     
      00024 -0763 00 0 00006         LGL     6             GET CARRIAGE CONTROL.    
      00025  0734 00 1 00000         PAX     0,1           TO XR1.
      00026 -3 00002 1 00030         TXL     *+2,1,2       IF .G. 2, FORCE SINGLE SPACE.  
      00027  0774 00 1 00002         AXT     2,1           ..     
      00030 -0500 00 1 00141         CAL     SPRS,1        PICKUP RIGHT SENSE PRINTER.    
      00031  0602 00 0 00114         SLW     SPRA          INSERT AFTER SELECT.     
1       M1416-3845  PETER R. BOS  11/22/67 -- BUFFERED ON-LINE PRINT.                            PAGE 2     
                  
      00032  1 00120 2 00033         TXI     *+1,2,5*20-20 COUNT 5 CHARACTERS BY 20'S.    
      00033 -0500 00 0 00226         CAL     =O200000000000  COLUMN MARKER, SKIP COL. 1.  
      00034  0060 00 0 00034         TCOA    *             WAIT FOR CHANNEL A TO CLEAR.   
                  
      00035  0774 00 1 00030  HRI    AXT     24,1          CLEAR CARD IMAGE.  
      00036  0600 00 1 00226         STZ     CARDIM+24,1   ..     
      00037  0600 00 1 00227         STZ     CARDIM+25,1   ..     
      00040  2 00002 1 00036         TIX     *-2,1,2       ..     
      00041  0774 00 4 00001         AXT     1,4           SET XR4 FOR LEFT HALF.   
                  
      00042 -0634 00 4 00050  LOOP   SXD     PTXI,4        INSERT LEFT-RIGHT MARKER IN TXI.     
      00043  0602 00 0 00145         SLW     PRCOL         SAVE COLUMN MARKER.
      00044 -0754 00 0 00000         ZAC                   GET NEXT CHARACTER.
      00045 -0763 00 0 00006         LGL     6             ..     
      00046  0767 00 0 00001         ALS     1             DOUBLE IT.   
      00047  0734 00 1 00000         PAX     0,1           TO XR1.
      00050  1 00000 1 00051  PTXI   TXI     *+1,1,-       INCREMENT COUNT IF ON LEFT HALF.     
      00051 -0500 00 0 00145         CAL     PRCOL         GET COLUMN MARKER. 
                  
      00052 -3 00077 1 00061  ZONE   TXL     Z0X,1,63      SKIP IF ZONE .E. 00 OR 01.     
      00053 -3 00137 1 00057         TXL     Z10,1,95      SKIP IF ZONE .E. 10.     
      00054 -3 00141 1 00071  Z11    TXL     RLOOP,1,97    ZONE .E. 11, SKIP FOR BLANK.   
      00055 -0602 00 4 00221         ORS     CARDIM+19,4   OR IN 0 ZONE.
      00056  1 77640 1 00064         TXI     TZEDG,1,-96   REMOVE ZONE AND CHECK DIGIT.   
      00057 -0602 00 4 00223  Z10    ORS     CARDIM+21,4   ZONE .E. 10, OR IN 11 ZONE.    
      00060  1 77700 1 00064         TXI     TZEDG,1,-64   REMOVE ZONE AND CHECK DIGIT.   
      00061 -3 00037 1 00065  Z0X    TXL     DIG,1,31      ZONE .E. 00 OR 01, SKIP IF NO ZONE.  
      00062 -0602 00 4 00225  Z01    ORS     CARDIM+23,4   ZONE .E. 01, OR IN 12 ZONE.    
      00063  1 77740 1 00064         TXI     TZEDG,1,-32   REMOVE ZONE AND CHECK DIGIT.   
      00064 -3 00001 1 00071  TZEDG  TXL     RLOOP,1,1     IGNORE 0 DIGIT WITH ZONE.
                  
      00065 -3 00023 1 00070  DIG    TXL     *+3,1,19      CHECK FOR (8-N) CHARACTER.     
      00066 -0602 00 4 00201         ORS     CARDIM+3,4    YES, OR IN 8 PUNCH.
      00067  1 77760 1 00070         TXI     *+1,1,-16     REMOVE THE 8 PUNCH.
      00070 -0602 00 1 00221         ORS     CARDIM+19,1   OR IN THE DIGIT.   
                  
      00071  0771 00 0 00001  RLOOP  ARS     1             SHIFT COLUMN MARKER.     
      00072  2 00024 2 00042         TIX     LOOP,2,20     COUNT CHARACTERS (BY 20'S) PER WORD. 
      00073 -2 00001 2 00102         TNX     DONE,2,1      INDEX, AND EXIT IF ALL DONE.   
      00074  0560 00 2 00000  LDQ    LDQ     -,2           MORE TO DO, PICKUP NEXT WORD.  
      00075  1 00144 2 00076         TXI     *+1,2,6*20-20 RESTORE CHARACTER COUNT. 
      00076 -0100 00 0 00042         TNZ     LOOP          RETURN IF MORE TO DO THIS HALF.
      00077 -3 00000 4 00104         TXL     MOVCM,4,0     IF RIGHT HALF DONE, GO MOVE CONVERSION.    
      00100 -0500 00 0 00227         CAL     =O400000000000  OTHERWISE, SET COLUMN MARKER.
      00101  1 77777 4 00042         TXI     LOOP,4,-1     SET XR4 FOR RIGHT HALF, AND DO SOME MORE.  
                  
      00102  0774 00 1 00176  DONE   AXT     CARDIM,1      ALL DONE, PICKUP CARDIM ADDRESS,     
      00103  0020 00 0 00111         TRA     SETPC         AND GO TO SET CHANNEL COMMAND. 
                  
      00104  0774 00 1 00030  MOVCM  AXT     24,1          MOVE CARDIM TO BUFF.     
      00105 -0500 00 1 00226         CAL     CARDIM+24,1   ..     
      00106  0602 00 1 00176         SLW     BUFF+24,1     ..     
      00107  2 00001 1 00105         TIX     *-2,1,1       ..     
      00110  0774 00 1 00146         AXT     BUFF,1        THEN PICK UP ADDRESS OF BUFF.  
1       M1416-3845  PETER R. BOS  11/22/67 -- BUFFERED ON-LINE PRINT.                            PAGE 3     
                  
      00111  0634 00 1 00143  SETPC  SXA     PRCOM,1       SET ADDRESS OF PRINT COMMAND.  
      00112  0060 00 0 00112         TCOA    *             WAIT FOR CHANNEL A ACTIVITY TO STOP. 
      00113  0766 00 0 01361         WPRA                  SELECT PRINTER.    
      00114  0000 60 0 00114  SPRA   HTR*    *             SPACE CARRIAGE.    
      00115  0540 00 0 00143         RCHA    PRCOM         AND LOAD WITH THIS LINE. 
      00116 -3 00001 2 00123         TXL     PRTN,2,1      XR2 .LE. 1 IFF WDCNT EXHAUSTED.
      00117 -0500 00 0 00142         CAL     NOSPC         MORE TO DO, SET SPR FOR RIGHT HALF LINE.   
      00120  0602 00 0 00114         SLW     SPRA          ..     
      00121 -0500 00 0 00227         CAL     =O400000000000  GET COLUMN MARKER.     
      00122  0020 00 0 00035         TRA     HRI           GO BACK AND DO IT AGAIN. 
                  
                       00123  PRTN   SYN     *             EXIT POINT FOR PRINT.    
      00123  0774 00 4 00000  XR4    AXT     -,4           RESTORE XRS. 
      00124  0774 00 2 00000  XR2    AXT     -,2           ..     
      00125  0774 00 1 00000  XR1    AXT     -,1           ..     
      00126  0500 00 4 00001         CLA     1,4           GET CONTROL WORD AGAIN.  
      00127  0120 00 0 00136         TPL     OUT           IF PLUS, NORMAL EXIT.    
      00130  0060 00 0 00130         TCOA    *             STOP COMMAND, WAIT FOR PRINTER.
      00131  0766 00 0 01361         WPRA                  THEN SPACE UP SOME.
      00132  0760 00 0 01364         SPRA    4             ..     
      00133  0760 00 0 01364         SPRA    4             ..     
      00134  0760 00 0 01363         SPRA    3             ..     
      00135  0000 00 0 00136         HTR     *+1           AND STOP.    
                  
                       00136  OUT    SYN     *             FINAL EXIT.  
      00136  0020 00 4 00002         TRA     2,4           AND RETURN TO CALLER.    
                  
                  
                                             STORAGE AND CONSTANTS.     
                  
      00137  0761 00 0 00000         NOP                   SENSE PRINTER,    0
      00140  0760 00 0 01361         SPRA    1             MAINTAIN THIS     1
      00141  0760 00 0 01364  SPRS   SPRA    4             ORDER.            2
      00142  0760 00 0 01371  NOSPC  SPRA    9             RIGHT HALF SPRA.   
      00143 -2 00030 1 00000  PRCOM  IOSP    -,0,24        THIS SEQUENCE DISCONNECTS
      00144  0 00000 1 00000         IOCD    0,0,0         13 MS FASTER THAN IOCD.  
                  
                  
      00145  0 00000 0 00000  PRCOL  PZE                   COLUMN MARKER.     
      00146                   BUFF   BSS     24            OUTPUT BUFFER.     
      00176                   CARDIM BSS     24            CARD IMAGE BUFFER. 
                  
                                     END  
                  
        LITERALS  
      00226  200000000000     
      00227  400000000000     
1       M1416-3845  PETER R. BOS  11/22/67 -- BUFFERED ON-LINE PRINT.                            PAGE 1     
                        POST PROCESSOR ASSEMBLY DATA  
                  
        230 IS THE FIRST LOCATION NOT USED BY THIS PROGRAM  
                  
0REFERENCES TO DEFINED SYMBOLS      
         65    DIG    61
         35    HRI   122
         74    LDQ    21,   22
        136    OUT   127,  136
        125    XR1     4
        124    XR2     3
        123    XR4     2
         62    Z01      
         61    Z0X    52
         57    Z10    53
         54    Z11      
        146   BUFF   106,  110
        102   DONE    73
         42   LOOP    72,   76,  101
        123   PRTN    14,  116,  123
         50   PTXI    42
        114   SPRA    31,  120
        141   SPRS    30
         52   ZONE      
        104  MOVCM    77
        142  NOSPC   117
        145  PRCOL    43,   51
        143  PRCOM   111,  115
          2  PRINT     0,    2
         71  RLOOP    54,   64
        111  SETPC   103
         64  TZEDG    56,   60,   63
        176 CARDIM    36,   37,   55,   57,   62,   66,   70,  102,  105
                  
0 NO ERROR IN ABOVE ASSEMBLY. 




IOPA2C   BCD 03/18/71 2011.8   21951         00000    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1924.6 PAGE 1     
                  
                                                                                                      IOPA0003    
                       00017         ENTRY   SETIO         TO INITIALIZE IOPAC AND FILE SYSTEM        IOPA0004    
                       00237         ENTRY   GETIME        TO GET DATE AND TIME OF DAY                IOPA0005    
                       00246         ENTRY   GETELT        TO GET ELAPSE TIME SINCE LAST CALL         IOPA0006    
                       00255         ENTRY   TPWAIT        TO WAIT AND CHECK CHANNEL FLAGS            IOPA0007    
                       00274         ENTRY   FERRTN        TO SET RETURN FOR UNDEFINED ERRORS         IOPA0008    
                       00305         ENTRY   TILOCK        TO SET RETURN ON INTERLOCKED FILES         IOPA0009    
                       00326         ENTRY   EXIT          TO UPDATE FILE SYSTEM AND TERMINATE        IOPA0010    
                       00357         ENTRY   PRINT         TO PRINT ON ON-LINE PRINTER                IOPA0011    
                       00362         ENTRY   PUNCH         TO PUNCH A CARD ON LINE                    IOPA0012    
                       00375         ENTRY   EPRINT        TO PRINT A LINE DURING A TRAP              IOPA0013    
                       00357         ENTRY   WRFLX         SYNONOMOUS WITH 'PRINT'                    IOPA0014    
                       00375         ENTRY   WRTOPR        SYNONYMOUS WITH 'EPRINT'                   IOPA0015    
                       00676         ENTRY   CMEXIT        TO RETURN TO INTERRUPTED PROGRAM           IOPA0016    
                       00730         ENTRY   STZ.A)        SPECIAL REFERENCE FROM TAPE ADAPTER        IOPA0017    
                       00732         ENTRY   FILXIT        TO RETURN TO CALLER OF FILE SYSTEM         IOPA0018    
                       00737         ENTRY   ALLSAV        TO SAVE MACHINE CONDITIONS ON TRAP         IOPA0019    
                       00773         ENTRY   ALLRST        TO RESTORE MACHINE CONDITIONS              IOPA0020    
                       01114         ENTRY   ENABLE        POINTER ENTRY TO COMMON ENABLE WORD        IOPA0021    
                                                                                                      IOPA0022    
                                     EXTERN  BTOC,CTIME,PRNTER                                        IOPA0023    
                                                                                                      IOPA0024    
                  
        TRANSFER VECTOR 
      00000  226346236060     BTOC  
      00001  236331442560     CTIME 
      00002  475145632551     PRNTER
      00003  314631453163     IOINIT
      00004  233045276462     CHNGUS
      00005  646263216360     USTAT 
      00006  622563512147     SETRAP
      00007  622563646251     SETUSR
      00010  622563212260     SETAB 
      00011  632147422570     TAPKEY
      00012  635121472160     TRAPA 
      00013  635121472260     TRAPB 
      00014  314626314531     IOFINI
                  
        LINKAGE DIRECTOR
      00015  000000000000     
      00016  622563314660     
                  
                      000061  HITRAP BOOL    61            HIGHEST CHANNEL INTERRUPT LOCATION         IOPA0025    
                       01207  Z      TAPENO  A7            CHRONOLOG CLOCK SET AS TAPE A7             IOPA0026    
                       10624  DELAY  EQU     4500          9 MILLESECOND DELAY AFTER READING CHRONOLOGIOPA0027    
                       00005  CLOCK  EQU     5             INTERVAL TIMER AND INTERRUPT CLOCK         IOPA0028    
                       00006  CLKLOC EQU     6             ILC SVAED HERE ON CLOCK TRAP               IOPA0029    
                       00007  CLKTRP EQU     7             TRANSFER FROM HERE ON CLOCK TRAP           IOPA0030    
                       00012  ATRLOC EQU     10            ILC SAVED HERE ON CHANNEL 'A' TRAP         IOPA0031    
                       00013  ADCTRP EQU     11            TRANSFER FROM HERE ON CHANNEL 'A' TRAP     IOPA0032    
                       00014  BTRLOC EQU     12            ILC SAVED HERE ON CHANNEL 'B' TRAP         IOPA0033    
                       00015  BDCTRP EQU     13            TRANSFER FROM HERE ON CHANNEL 'B' TRAP     IOPA0034    
                       00000  B      EQU     0             MEMORY B SWITCH, ('0' FOR A, '1' FOR B)    IOPA0035    
                       00361  STBL   EQU     21+10*22      A.F.S.T. LENGTH, SPACE FOR 10 FILES        IOPA0036    
                       00133  1QL    EQU     1+9*10        DISK/DRUM QUEUE LENGTH                     IOPA0037    
                       00000  2QL    EQU     0             NULL QUEUE (DISK USES DRUM QUEUE)          IOPA0038    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1924.6 PAGE 2     
                  
                       00031  3QL    EQU     25            TAPE QUEUE LENGTH                          IOPA0039    
                                                                                                      IOPA0040    
                              OVLBGN MACRO                 MACRO USED AT BEGINNING OF SECTION         IOPA0041    
                                     UNLIST                .. TO BE OVER WRITTEN                      IOPA0042    
                              OVLORG SET     *             SAVE CURRENT LOCATION COUNTER              IOPA0043    
                              OVLBGN END                                                              IOPA0044    
                                                                                                      IOPA0045    
                              OVLEND MACRO                 MACRO USED AT END OF SECTION               IOPA0046    
                                     ORG     OVLORG        .. TO BE OVER WRITTEN                      IOPA0047    
                                     LIST                  ..                                         IOPA0048    
                              OVLEND END                                                              IOPA0049    
                                                                                                      IOPA0050    
                              WHEN   MACRO   A,TFIND,LOC,OP,ADDR,TAG,DECR    WHENEVER MACRO           IOPA0051    
                                     IFF     1,TFIND,T                                                IOPA0052    
                                     GENIF   A,0,0,LOC,OP,ADDR,TAG,DECR,                              IOPA0053    
                                     IFF     1,TFIND,F                                                IOPA0054    
                                     GENIF   A,0,1,LOC,OP,ADDR,TAG,DECR,                              IOPA0055    
                              WHEN   END                                                              IOPA0056    
                                                                                                      IOPA0057    
                              GENIF  MACRO   IF1,IF2,IF3,LOC,OP,ADDR,TAG,DECR                         IOPA0058    
                                     IFF     IF1,IF2,IF3                                              IOPA0059    
                                     GENOP   LOC,OP,ADDR,TAG,DECR,                                    IOPA0060    
                              GENIF  END                                                              IOPA0061    
                                                                                                      IOPA0062    
                              GENOP  MACRO   LOC,OP,ADDR,TAG,DECR    GENERATE OPERATION               IOPA0063    
                                     PMC     ON                                                       IOPA0064    
                              LOC    OP      ADDR,TAG,DECR                                            IOPA0065    
                                     PMC     OFF                                                      IOPA0066    
                              GENOP  END                                                              IOPA0067    
                                                                                                      IOPA0068    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1924.6 PAGE 3     
                  
                                                                                                      IOPA0070    
                                             SETIO ..... INITIALIZE FILE SYSTEM AND I/O PACKAGE       IOPA0071    
                                                                                                      IOPA0072    
      00017  0564 00 0 02060  SETIO  ENB     =0            ENTRY TO INITIALIZE IOPAC AND FILE SYSTEM  IOPA0073    
      00020 -0625 00 0 01023         STL     ENBSW         INDICATE TO ALLSAV THAT TRAPS ARE LEGAL    IOPA0074    
      00021  0760 00 0 00016         LMTM                  INSURE 7-TAG (7094) MODE                   IOPA0075    
      00022  0634 00 1 00115         SXA     SETX1,1                                                  IOPA0076    
      00023  0634 00 2 00116         SXA     SETX2,2                                                  IOPA0077    
      00024  0634 00 4 00117         SXA     SETX4,4                                                  IOPA0078    
      00025 -0500 60 4 00001         CAL*    1,4           PICK UP AUTHOR FROM CALLER                 IOPA0079    
      00026  0602 00 0 01157         SLW     AUTHOR        ..                                         IOPA0080    
      00027  0500 00 4 00001         CLA     1,4           CHECK IF TAPE STRATEGY NEEDED              IOPA0081    
      00030 -0120 00 0 00036         TMI     FIRST         SKIP IF TAPE STRATEGY NOT NEEDED           IOPA0082    
      00031 -0500 00 0 02065         CAL     =O3000003     OTHERWISE SET UP TRAPS FOR TAPE STRATEGY   IOPA0083    
      00032 -0602 00 0 01114         ORS     ENABLE        ..                                         IOPA0084    
      00033 -0500 00 0 01114         CAL     ENABLE        SET UP ENABLE FOR CHANNEL 'A' ONLY         IOPA0085    
      00034 -0320 00 0 02064         ANA     =O1000001     ..                                         IOPA0086    
      00035  0602 00 0 01167         SLW     ENBIFA        .. ONLY IF CHANNEL 'A' ENABLED ALREADY     IOPA0087    
                                                                                                      IOPA0088    
      00036  0020 00 0 00037  FIRST  TRA     *+1           FIRST PASS SWITCH                          IOPA0089    
      00037  0074 00 4 01313         TSX     RDCLOC,4      READ CHRONOLOG CLOCK FIRST TIME ONLY       IOPA0090    
      00040 -0625 00 0 00036         STL     FIRST         AND CLOSE THIS PATH                        IOPA0091    
      00041  0760 00 0 01352         RDCA                  RESET DATA CHANNEL 'A'                     IOPA0092    
      00042  0760 00 0 02352         RDCB                  RESET DATA CHANNEL 'B'                     IOPA0093    
                                                                                                      IOPA0094    
      00043                          WHEN    B,T,,OVLBGN,,,,,                                         IOPA0095    
                                                                                                      IOPA0096    
      00043  0774 00 4 00062         AXT     HITRAP+1,4    SAVE FMS CONTROL LOCATIONS AND FMS CLOCK   IOPA0097    
      00044 -0500 00 4 00062         CAL     HITRAP+1,4    ..                                         IOPA0098    
      00045  0602 00 4 01307         SLW     SAVFMS,4      ..                                         IOPA0099    
      00046  2 00001 4 00044         TIX     *-2,4,1       ..                                         IOPA0100    
                                                                                                      IOPA0101    
      00047                          WHEN    B,T,,OVLEND,,,,,                                         IOPA0102    
                                                                                                      IOPA0103    
      00047  0774 00 4 00062         AXT     HITRAP+1,4    CLEAR OUT TRAP AND INTERRUPT LOCATIONS     IOPA0104    
      00050                          WHEN    B,T,,SEA,,,,,                                            IOPA0105    
      00050  0600 00 4 00062         STZ     HITRAP+1,4    ..                                         IOPA0106    
      00051  2 00001 4 00050         TIX     *-1,4,1       ..                                         IOPA0107    
      00052                          WHEN    B,T,,SEB,,,,,                                            IOPA0108    
      00052 -0500 00 0 00127         CAL     CLKINT        SET FOR FOR INTERVAL TIMER CLOCK TRAP      IOPA0109    
      00053  0560 00 0 00204         LDQ     ATRAP         .. CHANNEL 'A' TRAP                        IOPA0110    
      00054  0441 00 0 00217         LDI     BTRAP         .. AND CHANNEL 'B' TRAP                    IOPA0111    
      00055                          WHEN    B,T,,SEA,,,,,                                            IOPA0112    
      00055  0602 00 0 00007         SLW     CLKTRP        .. CLOCK TRAP                              IOPA0113    
      00056 -0600 00 0 00013         STQ     ADCTRP        .. CHANNEL 'A' TRAP                        IOPA0114    
      00057  0604 00 0 00015         STI     BDCTRP        .. CHANNEL 'B' TRAP                        IOPA0115    
      00060                          WHEN    B,T,,SEB,,,,,                                            IOPA0116    
                                                                                                      IOPA0117    
                                             ..... INITIALIZE FILE I/O SYSTEM ........................IOPA0118    
                                                                                                      IOPA0119    
      00060  0074 00 4 00003         TSX     $IOINIT,4     FILE SYSTEM INITIALIZATION ENTRY           IOPA0120    
      00061  3 00000 0 00277         PTH     IOERTN        .. ERROR RETURN                            IOPA0121    
      00062  3 00000 0 01136         PTH     DATEYR        .. TODAY'S DATE IN BCD                     IOPA0122    
      00063  3 00000 0 01137         PTH     TIMNOW        .. TIME OF DAY IN 60THS OF A SECOND        IOPA0123    
      00064  3 00000 0 01114         PTH     ENABLE        .. COMMON ENABLE WORD                      IOPA0124    
      00065  0074 00 4 00004         TSX     $CHNGUS,4     SET USER NO. 1 AS USER OF FILE SYSTEM      IOPA0125    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1924.6 PAGE 4     
                  
      00066  3 00000 0 02061         PTH     =1            ..                                         IOPA0126    
      00067  0074 00 4 00005         TSX     $USTAT,4      SET UP STORAGE FOR FILE SYSTEM             IOPA0127    
      00070  3 00361 0 01313         PTH     STATBL,,STBL  ..                                         IOPA0128    
      00071  3 00133 0 01674         PTH     QUEUE1,,1QL   ..                                         IOPA0129    
      00072  3 00000 0 02027         PTH     QUEUE2,,2QL   ..                                         IOPA0130    
      00073  3 00031 0 02027         PTH     QUEUE3,,3QL   ..                                         IOPA0131    
      00074  0074 00 4 00006         TSX     $SETRAP,4     SET UP SUPERVISOR INTERRUPT LOCATION       IOPA0132    
      00075  3 00000 0 00310         PTH     SSTRAP        ..                                         IOPA0133    
      00076  0074 00 4 00007         TSX     $SETUSR,4     SET UP USER OPTIONS                        IOPA0134    
      00077  3 00000 0 02061         PTH     =1            .. FOR USER NO. 1                          IOPA0135    
      00100  3 00000 0 02067         PTH     =O016001777777 .. UNRESTRICTED USER (BACKGR)             IOPA0136    
      00101  3 00000 0 01157         PTH     AUTHOR        .. AUTHOR FROM CALL TO SETIO               IOPA0137    
      00102  3 00000 0 02070         PTH     =O77777000000 .. PROTECTION LIMITS IF NEEDED             IOPA0138    
      00103  3 00000 0 02060         PTH     =0            .. ZERO RELOCATION                         IOPA0139    
      00104  3 00000 0 02061         PTH     =1            .. GIVE USER HIGHEST PRIORITY              IOPA0140    
      00105  0074 00 4 00010         TSX     $SETAB,4      SET ALL ENTRIES TO COME FROM 'HOME' MEMORY IOPA0141    
      00106  3 00000 0 01173         PTH     HOME          ..                                         IOPA0142    
      00107  3 00000 0 01173         PTH     HOME          ..                                         IOPA0143    
      00110  3 00000 0 01173         PTH     HOME          ..                                         IOPA0144    
                                                                                                      IOPA0145    
      00111 -0500 00 0 01137         CAL     TIMNOW        COMPUTE ANY TIME WASTED IN INITIALIZATION  IOPA0146    
      00112                          WHEN    B,T,,SEA,,,,,                                            IOPA0147    
      00112  0401 00 0 00005         ADM     CLOCK         ..                                         IOPA0148    
      00113                          WHEN    B,T,,SEB,,,,,                                            IOPA0149    
      00113  0602 00 0 01137         SLW     TIMNOW        ..                                         IOPA0150    
                                                                                                      IOPA0151    
      00114  0074 00 4 00122         TSX     STCLOC,4      START UP INTERVAL TIMER CLOCK NOW          IOPA0152    
      00115  0774 00 1 00000  SETX1  AXT     **,1                                                     IOPA0153    
      00116  0774 00 2 00000  SETX2  AXT     **,2                                                     IOPA0154    
      00117  0774 00 4 00000  SETX4  AXT     **,4                                                     IOPA0155    
      00120  0564 00 0 01114         ENB     ENABLE        INSURE ALL TRAPS ENABLED                   IOPA0156    
      00121  0020 00 4 00002         TRA     2,4           AND RETURN                                 IOPA0157    
                                                                                                      IOPA0158    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1924.6 PAGE 5     
                  
                                                                                                      IOPA0160    
                                             STCLOC/CLKINT ....... BASIC CLOCK SECTION ...............IOPA0161    
                                                                                                      IOPA0162    
      00122 -0500 00 0 01172  STCLOC CAL     CLKTIM        RESTART CLOCK TO RUN FOR CLKTIM            IOPA0163    
      00123  0760 00 0 00006         COM                   ..                                         IOPA0164    
      00124  0400 00 0 02061         ADD     =1            ..                                         IOPA0165    
      00125                          WHEN    B,T,,SEA,,,,,                                            IOPA0166    
      00125  0601 00 0 00005         STO     CLOCK         .. NOTE 'P' BIT NOT STORED                 IOPA0167    
      00126                          WHEN    B,T,,SEB,,,,,                                            IOPA0168    
      00126  0020 00 4 00001         TRA     1,4           ..                                         IOPA0169    
                                                                                                      IOPA0170    
      00127                          WHEN    B,F,CLKINT,TTR,*+1,,,,                                   IOPA0171    
      00127  0021 00 0 00130  CLKINT TTR     *+1,,                                                    IOPA0171.003
      00130                          WHEN    B,T,CLKINT,TIB,*+1,,,,                                   IOPA0172    
                                                                                                      IOPA0173    
      00130                          WHEN    B,T,,SEB,,,,,                                            IOPA0174    
                                                                                                      IOPA0175    
      00130  0564 00 0 02060         ENB     =0            HERE ON ALL INTERVAL TIMER 'CLOCK' TRAPS   IOPA0176    
      00131  0634 00 4 01147         SXA     TRPIR4,4      SAVE IR4                                   IOPA0177    
      00132  0074 00 4 00737         TSX     ALLSAV,4      AND REST OF MACHINE CONDITIONS             IOPA0178    
      00133                          WHEN    B,T,,SEA,,,,, PICK UP TRAP FLAGS                         IOPA0179    
      00133 -0500 00 0 00006         CAL     CLKLOC        ..                                         IOPA0180    
      00134                          WHEN    B,T,,SEB,,,,, ..                                         IOPA0181    
      00134  0602 00 0 01160         SLW     RTNLOC        ..                                         IOPA0182    
      00135  0760 00 0 00004         ENK                   PICK UP CONSOLE KEYS                       IOPA0183    
      00136 -0600 00 0 01161         STQ     CLKEYS        SAVE KEYS                                  IOPA0184    
      00137  0441 00 0 01161         LDI     CLKEYS        KEYS TO SI                                 IOPA0185    
      00140  0056 00  040000         RNT     40000         IS KEY '21' DOWN                           IOPA0186    
      00141  0020 00 0 00171         TRA     KEYSUP        NO, SKIP                                   IOPA0187    
      00142  0520 00 0 01162         ZET     KEYSW         YES, IS THIS A PREVIOUS REQUEST            IOPA0188    
      00143  0020 00 0 00172         TRA     SKPKEY        YES, IGNORE REDUNDANT REQUEST              IOPA0189    
      00144 -0625 00 0 01162         STL     KEYSW         NO, SERVICE NEW KEY REQUEST                IOPA0190    
      00145  0074 00 4 00000         TSX     BTOC,4        CONVERT LEFT-HALF MQ TO BCD                IOPA0191    
      00146  0602 00 0 01221         SLW     KREAD+2       ..                                         IOPA0192    
      00147  0074 00 4 00000         TSX     BTOC,4        RIGHT-HALF                                 IOPA0193    
      00150  0602 00 0 01222         SLW     KREAD+3       ..                                         IOPA0194    
      00151  0074 00 4 00375         TSX     EPRINT,4      PRINT MESSAGE                              IOPA0195    
      00152  1 00004 0 01217         PON     KREAD,,4      (DOUBLE SPACE)                             IOPA0196    
      00153 -0500 00 0 01161         CAL     CLKEYS        KEYS TO AC                                 IOPA0197    
      00154 -0320 00 0 02062         ANA     =O7777        IGNORE ALL BUT KEYS 24-35                  IOPA0198    
      00155  0734 00 4 00000         PAX     0,4           23-35 TO IR4                               IOPA0199    
      00156 -2 00006 4 00160         TNX     BADKEY,4,6    IGNORE FMS KEY SETTINGS (0-6)              IOPA0200    
      00157 -2 00004 4 00163         TNX     KEYSOK,4,4    SKIP IF KEYS SET FOR TAPE STRATEGY MODULE  IOPA0201    
      00160  0074 00 4 00375  BADKEY TSX     EPRINT,4      PRINT 'ILLEGAL KEY SETTING, TRY AGAIN.'    IOPA0202    
      00161  0 00010 0 01207                 KEYSNG,,8     ..                                         IOPA0203    
      00162  0020 00 0 00172         TRA     SKPKEY                                                   IOPA0204    
                                                                                                      IOPA0205    
      00163  0634 00 4 01161  KEYSOK SXA     CLKEYS,4      SAVE KEY SETTING FOR TAPE STRATEGY MODULE  IOPA0206    
      00164  0074 00 4 00375         TSX     EPRINT,4      PRINT '****** PLEASE PUT KEY 21 UP ******' IOPA0207    
      00165  0 00006 0 01201                 PP21UP,,6     ..                                         IOPA0208    
      00166  0074 00 4 00011         TSX     $TAPKEY,4     CALL TAPE STRATEGY MODULE                  IOPA0209    
      00167  3 00000 0 01161         PTH     CLKEYS        .. WITH KEY SETTING                        IOPA0210    
      00170  0020 00 0 00172         TRA     SKPKEY                                                   IOPA0211    
                                                                                                      IOPA0212    
      00171  0600 00 0 01162  KEYSUP STZ     KEYSW         HERE IF KEY 21 UP, RESET SWITCH            IOPA0213    
                                                                                                      IOPA0214    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1924.6 PAGE 6     
                  
      00172  0074 00 4 01115  SKPKEY TSX     ADDTIM,4      UPDATE TIME COUNTERS                       IOPA0215    
      00173 -0500 00 0 01141         CAL     TOTTIM        UPDATE TOTAL TIME SYSTEM HAS RUN           IOPA0216    
      00174  0400 00 0 01172         ADD     CLKTIM        ..                                         IOPA0217    
      00175                          WHEN    B,T,,SEA,,,,,                                            IOPA0218    
      00175  0401 00 0 00005         ADM     CLOCK         ..                                         IOPA0219    
      00176                          WHEN    B,T,,SEB,,,,,                                            IOPA0220    
      00176  0602 00 0 01141         SLW     TOTTIM        ..                                         IOPA0221    
      00177  0074 00 4 00122         TSX     STCLOC,4      RESTART INTERVAL TIMER FOR 'CLKTIM'        IOPA0222    
      00200  0074 00 4 00773         TSX     ALLRST,4      RESTORE USER'S MACHINE CONDITIONS          IOPA0223    
      00201  0074 00 4 00676         TSX     CMEXIT,4      AND RETURN TO INTERRUPTED PROGRAM          IOPA0224    
      00202  0534 00 4 01147         LXA     TRPIR4,4      ..                                         IOPA0225    
      00203  0 00000 0 01160                 RTNLOC        ..                                         IOPA0226    
                                                                                                      IOPA0227    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPA0228    
                                                                                                      IOPA0229    
                                             ... ATRAP/BTRAP ... RECORD TRAPS FROM CHANNELS A AND B ..IOPA0230    
                                                                                                      IOPA0231    
      00204                          WHEN    B,F,ATRAP,TTR,*+1,,,,                                    IOPA0232    
      00204  0021 00 0 00205  ATRAP  TTR     *+1,,                                                    IOPA0232.003
      00205                          WHEN    B,T,ATRAP,TIB,*+1,,,,                                    IOPA0233    
                                                                                                      IOPA0234    
      00205                          WHEN    B,T,,SEB,,,,,                                            IOPA0235    
                                                                                                      IOPA0236    
      00205  0564 00 0 02060         ENB     =0            HERE FOR TRAP FROM CHANNEL 'A'             IOPA0237    
      00206  0634 00 4 01147         SXA     TRPIR4,4      SAVE IR4                                   IOPA0238    
      00207  0074 00 4 00737         TSX     ALLSAV,4      AND REST OF MACHINE CONDITIONS             IOPA0239    
      00210                          WHEN    B,T,,SEA,,,,, PICK UP TRAP FLAGS                         IOPA0240    
      00210 -0500 00 0 00012         CAL     ATRLOC        ..                                         IOPA0241    
      00211                          WHEN    B,T,,SEB,,,,, ..                                         IOPA0242    
      00211  0602 00 0 01160         SLW     RTNLOC        ..                                         IOPA0243    
      00212  0074 00 4 00012  ATRAP1 TSX     $TRAPA,4      GIVE TRAP TO TAPE I/O ADAPTER              IOPA0244    
      00213  3 00000 0 01160         PTH     RTNLOC        ..                                         IOPA0245    
      00214  0020 00 0 00233         TRA     IGNTRP        SKIP IF TRAP TAKEN BY ADAPTER              IOPA0246    
      00215 -0774 00 1 00001         AXC     1,1           POINTER TO TRAP FLAGS FOR CHANNEL A        IOPA0247    
      00216  0020 00 0 00231         TRA     RECTRP        AND RECORD THIS TRAP                       IOPA0248    
                                                                                                      IOPA0249    
      00217                          WHEN    B,F,BTRAP,TTR,*+1,,,,                                    IOPA0250    
      00217  0021 00 0 00220  BTRAP  TTR     *+1,,                                                    IOPA0250.003
      00220                          WHEN    B,T,BTRAP,TIB,*+1,,,,                                    IOPA0251    
                                                                                                      IOPA0252    
      00220                          WHEN    B,T,,SEB,,,,,                                            IOPA0253    
                                                                                                      IOPA0254    
      00220  0564 00 0 02060         ENB     =0            HERE FOR TRAP FROM CHANNEL 'B'             IOPA0255    
      00221  0634 00 4 01147         SXA     TRPIR4,4      SAVE IR4                                   IOPA0256    
      00222  0074 00 4 00737         TSX     ALLSAV,4      AND REST OF MACHINE CONDITIONS             IOPA0257    
      00223                          WHEN    B,T,,SEA,,,,, PICK UP TRAP FLAGS                         IOPA0258    
      00223 -0500 00 0 00014         CAL     BTRLOC        ..                                         IOPA0259    
      00224                          WHEN    B,T,,SEB,,,,, ..                                         IOPA0260    
      00224  0602 00 0 01160         SLW     RTNLOC        ..                                         IOPA0261    
      00225  0074 00 4 00013         TSX     $TRAPB,4      GIVE TRAP TO TAPE I/O ADAPTER              IOPA0262    
      00226  3 00000 0 01160         PTH     RTNLOC        ..                                         IOPA0263    
      00227  0020 00 0 00233         TRA     IGNTRP        SKIP IF TRAP TAKEN BY ADAPTER              IOPA0264    
      00230 -0774 00 1 00002         AXC     2,1           POINTER TO TRAP FLAGS FOR CHANNEL B        IOPA0265    
                                                                                                      IOPA0266    
      00231 -0500 00 0 01160  RECTRP CAL     RTNLOC        RECORD TRAP FLAGS FOR 'TPWAIT'             IOPA0267    
      00232 -0602 00 1 01167         ORS     TPFLAG,1      ..                                         IOPA0268    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1924.6 PAGE 7     
                  
      00233  0074 00 4 00773  IGNTRP TSX     ALLRST,4      RESTORE USER'S MACHINE CONDITIONS          IOPA0269    
      00234  0074 00 4 00676         TSX     CMEXIT,4      RETURN TO INTERRUPTED PROGRAM              IOPA0270    
      00235  0534 00 4 01147         LXA     TRPIR4,4      ..                                         IOPA0271    
      00236  0 00000 0 01160                 RTNLOC        ..                                         IOPA0272    
                                                                                                      IOPA0273    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1924.6 PAGE 8     
                  
                                                                                                      IOPA0275    
                                             ... GETIME ... RETURN TIME OF DAY IN LAC AND DATE IN MQ .IOPA0276    
                                                                                                      IOPA0277    
      00237  0634 00 4 00241  GETIME SXA     *+2,4                                                    IOPA0278    
      00240  0074 00 4 01115         TSX     ADDTIM,4      COMPUTE TIME TO NEAREST 60TH OF A SECOND   IOPA0279    
      00241  0774 00 4 00000         AXT     **,4                                                     IOPA0280    
      00242 -0500 00 0 01137         CAL     TIMNOW        RETURN TIME OF DAY IN LOGICAL AC           IOPA0281    
      00243  0560 00 0 01136         LDQ     DATEYR        AND DATE IN MQ                             IOPA0282    
      00244  0564 00 0 01114         ENB     ENABLE        REENABLE                                   IOPA0283    
      00245  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPA0284    
                                                                                                      IOPA0285    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPA0286    
                                                                                                      IOPA0287    
                                             ... GETELT ... RETURN ELAPSE TIME IN LOGICAL AC ........ IOPA0288    
                                                                                                      IOPA0289    
      00246  0634 00 4 00250  GETELT SXA     *+2,4                                                    IOPA0290    
      00247  0074 00 4 01115         TSX     ADDTIM,4      COMPUTE TIME TO NEAREST 60TH OF A SECOND   IOPA0291    
      00250  0774 00 4 00000         AXT     **,4                                                     IOPA0292    
      00251 -0500 00 0 01140         CAL     ELAPSE        RETURN ELAPSE TIME IN LOGICAL AC           IOPA0293    
      00252  0600 00 0 01140         STZ     ELAPSE        AND RESET ELAPSE TIME                      IOPA0294    
      00253  0564 00 0 01114         ENB     ENABLE        REENABLE                                   IOPA0295    
      00254  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPA0296    
                                                                                                      IOPA0297    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPA0298    
                                                                                                      IOPA0299    
                                             ... TPWAIT ... WAIT ON CHANNEL AND CHECK FLAGS ..........IOPA0300    
                                                                                                      IOPA0301    
      00255  0634 00 4 00266  TPWAIT SXA     TWATX4,4                                                 IOPA0302    
      00256 -0500 00 4 00001         CAL     1,4           PZE CHANNO                                 IOPA0303    
      00257  0737 00 4 00000         PAC     0,4           -CHANNEL NO. TO IR4                        IOPA0304    
      00260  0564 00 0 01114         ENB     ENABLE        INSURE ALL CHANNELS ENABLED                IOPA0305    
      00261 -0625 00 4 01310         STL     TCOAB,4       WAIT ON CHANNEL                            IOPA0306    
      00262  0522 00 4 01310         XEC     TCOAB,4       ..                                         IOPA0307    
      00263  0761 00 0 00000         NOP                   INSURE ALL TRAPS TAKEN                     IOPA0308    
      00264  0441 00 4 01167         LDI     TPFLAG,4      PICK UP CHANNEL STATUS FLAGS               IOPA0309    
      00265  0600 00 4 01167         STZ     TPFLAG,4      .. AND RESET THEM                          IOPA0310    
      00266  0774 00 4 00000  TWATX4 AXT     **,4          RESTORE CALLER'S IR4                       IOPA0311    
      00267 -0054 00  000002         LFT     2             WAS REDUNDANCY CHECK FLAG ON               IOPA0312    
      00270  0020 00 4 00002         TRA     2,4           YES, TAKE TAPE CHECK EXIT (2,4)            IOPA0313    
      00271 -0054 00  000004         LFT     4             NO, WAS EOF FLAG ON                        IOPA0314    
      00272  0020 00 4 00003         TRA     3,4           YES, TAKE EOF EXIT (3,4)                   IOPA0315    
      00273  0020 00 4 00004         TRA     4,4           NO, TAKE NORMAL EXIT (4,4)                 IOPA0316    
                                                                                                      IOPA0317    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1924.6 PAGE 9     
                  
                                                                                                      IOPA0319    
                                             ... FERRTN ... SET RETURN FOR UNDEFINED ERRORS           IOPA0320    
                                                                                                      IOPA0321    
      00274 -0500 00 4 00001  FERRTN CAL     1,4           ERROR RETURN LOCATION (PZE RTNLOC)         IOPA0322    
      00275  0621 00 0 01163         STA     FERTN         SAVE IT                                    IOPA0323    
      00276  0020 00 4 00002         TRA     2,4           AND RETURN                                 IOPA0324    
                                                                                                      IOPA0325    
      00277  0520 00 0 01163  IOERTN ZET     FERTN         HERE FOR ERROR RETURN FROM FILE SYSTEM     IOPA0326    
      00300  0020 60 0 01163         TRA*    FERTN         TAKE USER EXIT IF SPECIFIED                IOPA0327    
      00301  0074 00 4 00002         TSX     PRNTER,4      OTHERWISE, PRINT FILE SYSTEM ERROR MESSAGE IOPA0328    
      00302  0074 00 4 00357         TSX     PRINT,4       PRINT 'NO ERROR RETURN SPECIFIED'          IOPA0329    
      00303  0 00005 0 01174                 NOERTN,,5     ..                                         IOPA0330    
      00304  0020 00 0 00326         TRA     EXIT          AND EXIT                                   IOPA0331    
                                                                                                      IOPA0332    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPA0333    
                                                                                                      IOPA0334    
                                             ... TILOCK ... SET RETURN ON INTERLOCKED FILES           IOPA0335    
                                                                                                      IOPA0336    
      00305 -0500 00 4 00001  TILOCK CAL     1,4           INTERLOCK RETURN LOCATION (PZE RTNLOC)     IOPA0337    
      00306  0621 00 0 01164         STA     UILOCK        SAVE IT                                    IOPA0338    
      00307  0020 00 4 00002         TRA     2,4           AND RETURN                                 IOPA0339    
                                                                                                      IOPA0340    
      00310  0564 00 0 02060  SSTRAP ENB     =0            HERE ON INTERRUPT FROM FILE SYSTEM         IOPA0341    
      00311 -0500 60 4 00003         CAL*    3,4           PICK UP USER'S IR4 FROM CALL               IOPA0342    
      00312  0621 00 0 00322         STA     SSTIR4        SAVE USER'S IR4                            IOPA0343    
      00313 -0500 60 4 00002         CAL*    2,4           PICK UP INTERRUPT CODE (1-6)               IOPA0344    
      00314  0734 00 5 00000         PAX     0,5           INTO IR5                                   IOPA0345    
      00315 -3 00003 5 00325         TXL     IGNINT,5,3    IGNORE CODES 1-3                           IOPA0346    
      00316 -3 00004 5 00320         TXL     FILOCK,5,4    SKIP ON FILE INTERLOCKED (CODE 4)          IOPA0347    
      00317  0020 00 0 00325         TRA     IGNINT        IGNORE ALL OTHER INTERRUPT CODES           IOPA0348    
                                                                                                      IOPA0349    
      00320 -0520 00 0 01164  FILOCK NZT     UILOCK        HAS USER SPECIFIED INTERLOCKED RETURN      IOPA0350    
      00321  0020 00 0 00325         TRA     IGNINT        NO, IGNORE INTERRUPT                       IOPA0351    
      00322  0774 00 4 00000  SSTIR4 AXT     **,4          YES, RESTORE USER'S IR4                    IOPA0352    
      00323  0564 00 0 01114         ENB     ENABLE        RE-ENABLE ALL TRAPS                        IOPA0353    
      00324  0020 60 0 01164         TRA*    UILOCK        AND TAKE USER INTERLOCKED RETURN           IOPA0354    
                                                                                                      IOPA0355    
      00325  0020 00 4 00006  IGNINT TRA     6,4           HERE TO IGNORE INTERRUPT FROM FILE SYS.    IOPA0356    
                                                                                                      IOPA0357    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1924.6 PAGE 10    
                  
                                                                                                      IOPA0359    
                                             ... EXIT ... TERMINATION ROUTINE, EXIT TO FMS OR STOP ...IOPA0360    
                                                                                                      IOPA0361    
      00326  0074 00 4 00014  EXIT   TSX     $IOFINI,4     INSURE FILE SYSTEM UPDATED                 IOPA0362    
      00327  3 00000 0 00330         PTH     *+1           .. IGNORE ERROR RETURN                     IOPA0363    
      00330  0074 00 4 00357         TSX     PRINT,4       PRINT MESSAGE                              IOPA0364    
      00331  1 00002 0 01223         PON     EXITMS,,2     ..                                         IOPA0365    
      00332  0564 00 0 02060         ENB     =0            DISABLE ALL TRAPS                          IOPA0366    
      00333  0060 00 0 00333         TCOA    *             WAIT UNTIL ALL CHANNEL ACTIVITY CEASES     IOPA0367    
      00334  0061 00 0 00334         TCOB    *             ..                                         IOPA0368    
      00335  0760 00 0 01352         RDCA                  AND RESET CHANNELS A,                      IOPA0369    
      00336  0760 00 0 02352         RDCB                  .. AND B                                   IOPA0370    
                                                                                                      IOPA0371    
      00337                          WHEN    B,T,,OVLBGN,,,,,                                         IOPA0372    
                                                                                                      IOPA0373    
      00337  0774 00 4 00062         AXT     HITRAP+1,4    RESTORE FMS LOWER CORE                     IOPA0374    
      00340 -0500 00 4 01307         CAL     SAVFMS,4      ..                                         IOPA0375    
      00341  0602 00 4 00062         SLW     HITRAP+1,4    ..                                         IOPA0376    
      00342  2 00001 4 00340         TIX     *-2,4,1       ..                                         IOPA0377    
                                                                                                      IOPA0378    
      00343  0774 00 4 00012         AXT     10,4          RELOAD FMS FROM A1                         IOPA0379    
      00344  0772 00 0 01201  EXIT1  REWA    1             ..                                         IOPA0380    
      00345  0762 00 0 01221         RTBA    1             ..                                         IOPA0381    
      00346  0540 00 0 01307         RCHA    LDFIOP        ..                                         IOPA0382    
      00347  0060 00 0 00347         TCOA    *             ..                                         IOPA0383    
      00350  0022 00 0 00355         TRCA    A1BAD         ..                                         IOPA0384    
      00351  0030 00 0 00355         TEFA    A1BAD         ..                                         IOPA0385    
      00352  0762 00 0 01221         RTBA    1             .. SKIP CARD TO TAPE RECORD                IOPA0386    
      00353  0762 00 0 01221         RTBA    1             .. SKIP DUMP RECORD                        IOPA0387    
      00354  0020 00 0 00001         TRA     1             EXIT TO FIOP TO LOAD SIGN-ON RECORD        IOPA0388    
                                                                                                      IOPA0389    
      00355  2 00001 4 00344  A1BAD  TIX     EXIT1,4,1     COUNT ERRORS                               IOPA0390    
      00356  0000 00 0 00344         HTR     EXIT1         STOP ON TOO MANY ERRORS                    IOPA0391    
                                                                                                      IOPA0392    
      00357                          WHEN    B,T,,OVLEND,,,,,                                         IOPA0393    
                                                                                                      IOPA0394    
      00357                          WHEN    B,T,,HTR,*,,,,                                           IOPA0395    
                                                                                                      IOPA0396    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1924.6 PAGE 11    
                  
                                                                                                      IOPA0398    
                                             .. PRINT/PUNCH/EPRINT .. ON LINE PRINT AND PUNCH ROUTINESIOPA0399    
                                                                                                      IOPA0400    
                       00357  WRFLX  SYN     *             SIMULATED TYPEWRITER                       IOPA0401    
      00357  0564 00 0 02060  PRINT  ENB     =0            DISABLE ALL TRAPS                          IOPA0402    
      00360 -0625 00 0 00623         STL     PRSW          ROUTINE TO PRINT ON LINE                   IOPA0403    
      00361  0020 00 0 00364         TRA     PUNCH+2       ..                                         IOPA0404    
                                                                                                      IOPA0405    
      00362  0564 00 0 02060  PUNCH  ENB     =0            DISABLE ALL TRAPS                          IOPA0406    
      00363  0600 00 0 00623         STZ     PRSW          ROUTINE TO PUNCH CARD ON LINE              IOPA0407    
      00364  0634 00 4 00373         SXA     PRPUX4,4      SAVE IR4 FROM CALL TO 'PRINT' OR 'PUNCH'   IOPA0408    
      00365  0560 00 4 00001         LDQ     1,4           PICK UP USER CALLING SEQUENCE              IOPA0409    
      00366 -0600 00 0 00370         STQ     *+2           SET IN CALL                                IOPA0410    
      00367  0074 00 4 00377         TSX     WPRPU,4       CALL PRINT/PUNCH ROUTINE                   IOPA0411    
      00370  0 00000 0 00000                 **,,**        ..                                         IOPA0412    
      00371  0074 00 4 01076         TSX     CHKCHA,4      CHECK FOR LOST TRAP ON CHANNEL 'A'         IOPA0413    
      00372  0564 00 0 01114         ENB     ENABLE        RE-ENABLE                                  IOPA0414    
      00373  0774 00 4 00000  PRPUX4 AXT     **,4          RESTORE USER'S IR4                         IOPA0415    
      00374  0020 00 4 00002         TRA     2,4           AND RETURN                                 IOPA0416    
                                                                                                      IOPA0417    
                       00375  WRTOPR SYN     *             USED BY DDIOA IN LIEU OF EPRINT            IOPA0418    
      00375  0564 00 0 02060  EPRINT ENB     =0            DISABLE ALL TRAPS                          IOPA0419    
      00376 -0625 00 0 00623         STL     PRSW          ROUTINE TO PRINT DURING ANY TRAP           IOPA0420    
                                                                                                      IOPA0421    
      00377  0634 00 1 00523  WPRPU  SXA     PRX1,1        SAVE XRS.                                  IOPA0422    
      00400  0634 00 2 00524         SXA     PRX2,2        ..                                         IOPA0423    
      00401  0634 00 4 00525         SXA     PRX4,4        ..                                         IOPA0424    
      00402  0074 00 4 01024         TSX     SAVCHA,4      DISABLE AND SAVE CHANNEL 'A'               IOPA0425    
      00403  0534 00 4 00525         LXA     PRX4,4        RELOAD CALLER'S XR4.                       IOPA0426    
      00404 -0500 00 4 00001         CAL     1,4           PZE FIRST,,N                               IOPA0427    
      00405 -0734 00 2 00000         PDX     ,2            GET WORD COUNT                             IOPA0428    
      00406  0754 00 2 00000         PXA     ,2            ..                                         IOPA0429    
      00407  0361 00 4 00001         ACL     1,4           BES LOCATION OF USER DATA                  IOPA0430    
      00410  0621 00 0 00432         STA     PRPU.2        FOR WORD PICKUP.                           IOPA0431    
      00411 -0520 00 0 00623         NZT     PRSW          IF CALL IS FOR PUNCH,                      IOPA0432    
      00412  0020 00 0 00420         TRA     PRPU.1        SKIP SENSE INSTRUCTION SETUP               IOPA0433    
      00413  0771 00 0 00017         ARS     15            ELSE, PREFIX TO X7                         IOPA0434    
      00414 -0737 00 7 00000         PDC     ,7            ..                                         IOPA0435    
      00415 -0500 00 7 00626         CAL     SPRTBL,7      PICK UP USER REQUESTED SPRA                IOPA0436    
      00416  0602 00 0 00512         SLW     SPRA          SAVE                                       IOPA0437    
      00417  0602 00 0 00506         SLW     SPRX          THERE ALSO IN CASE BLANK LINE              IOPA0438    
                                                                                                      IOPA0439    
      00420  0774 00 7 00060  PRPU.1 AXT     48,7          CLEAR CARD IMAGE BUFFER                    IOPA0440    
      00421  0600 00 7 00623         STZ     CBUF2+48,7    ..                                         IOPA0441    
      00422  2 00001 7 00421         TIX     *-1,7,1       ..                                         IOPA0442    
      00423 -0500 00 0 02071         CAL     =-0           INITIALIZE COLUMN MARKER TO FIRST COLUMN   IOPA0443    
      00424  0602 00 0 01156         SLW     PRCOL         ..                                         IOPA0444    
      00425  0774 00 4 00001         AXT     1,4           INITIALIZE CHARACTER COUNT                 IOPA0445    
      00426  0774 00 5 00001         AXT     1,5           START ON RIGHT HALF                        IOPA0446    
      00427  0774 00 6 00001         AXT     1,6           OF FIRST BUFFER                            IOPA0447    
      00430 -3 00000 2 00472         TXL     DONE,2,0      SKIP FOR ZERO WORD COUNT.                  IOPA0448    
      00431  0600 00 0 00624         STZ     DONESW        INDICATE THERE IS MORE PRINTING TO DO      IOPA0449    
                                                                                                      IOPA0450    
      00432  0560 00 2 00000  PRPU.2 LDQ     -,2           LOAD FIRST OR NEXT USER DATA WORD          IOPA0451    
      00433  0774 00 1 00006         AXT     6,1           SIX CHARACTERS PER WORD                    IOPA0452    
      00434 -0754 00 0 00000  PRPU.3 ZAC                                                              IOPA0453    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1924.6 PAGE 12    
                  
      00435 -0763 00 0 00006         LGL     6             CHARACTER TO AC                            IOPA0454    
      00436 -0600 00 0 00625         STQ     MQ.T          SAVE PARTIAL MQ CONTENTS                   IOPA0455    
      00437 -0765 00 0 00001         LGR     1             DIVIDE BY 2, SAVE REMAINDER                IOPA0456    
      00440  0737 00 7 00000         PAC     ,7            TABLE POSITION FOR CHARACTER               IOPA0457    
      00441 -0500 00 7 00636         CAL     CHRTB,7       GET PUNCH CONFIGURATION FOR THIS           IOPA0458    
      00442  0162 00 0 00444         TQP     *+2           CHARACTER                                  IOPA0459    
      00443  0771 00 0 00022         ARS     18            TO ADDRESS                                 IOPA0460    
      00444  0044 00 0 00000         PAI                   ..                                         IOPA0461    
      00445  0737 00 7 00000         PAC     ,7            TRANSFER ADDRESS IF CONTROL CHAR.          IOPA0462    
      00446  0054 00  100000         RFT     100000        TEST FOR SPECIAL CHARACTER                 IOPA0463    
      00447  0020 00 7 00000         TRA     0,7           YES, GO PROCESS SPECIAL CHARACTER          IOPA0464    
      00450 -0765 00 0 00014         LGR     12            ORDINARY CHARACTER, PUNCHES TO MQ          IOPA0465    
      00451 -0500 00 0 01156         CAL     PRCOL         PICKUP COLUMN MARKER                       IOPA0466    
      00452  0774 00 7 00030         AXT     24,7          24 WORD CARD IMAGE BUFFER, EVERY           IOPA0467    
      00453  0162 00 0 00455         TQP     *+2           IF BIT IS OFF, IGNORE.                     IOPA0468    
      00454  0522 00 5 00537         XEC     ORINBT,5      ELSE, ADD PUNCH TO PROPER BUFFER.          IOPA0469    
      00455 -0773 00 0 00001         RQL     1             ONWARD TO NEXT ROW OF CARD THIS COLUMN     IOPA0470    
      00456  2 00002 7 00453         TIX     *-3,7,2       ..                                         IOPA0471    
      00457  0771 00 0 00001         ARS     1             MOVE COLUMN MARKER TO NEXT COLUMN          IOPA0472    
      00460  1 00001 4 00461         TXI     *+1,4,1       INCREMENT WORD COUNT                       IOPA0473    
      00461  3 00170 4 00472         TXH     DONE,4,120    SEE IF OUT OF BOUNDS                       IOPA0474    
      00462 -0100 00 0 00466         TNZ     PRPU.4        IF DONE WITH HALF OF CARD,                 IOPA0475    
      00463 -0500 00 0 02071         CAL     =-0           REINITIALIZE COLUMN MARKER                 IOPA0476    
      00464  1 00001 5 00465         TXI     *+1,5,1       INDICATE ON NEXT HALF OF CARD              IOPA0477    
      00465  2 00002 5 00473         TIX     PRPU.5,5,2    IF TWO HALVES DONE, GO PRINT BUFFER OUT    IOPA0478    
      00466  0602 00 0 01156  PRPU.4 SLW     PRCOL         SAVE COLUMN MARKER FOR NEXT CHARACTER      IOPA0479    
      00467  0560 00 0 00625  SKP    LDQ     MQ.T          RESTORE PARTIAL MQ. ENTER HERE TO IGNORE   IOPA0480    
      00470  2 00001 1 00434         TIX     PRPU.3,1,1    GO GET NEXT CHARACTER                      IOPA0481    
      00471  2 00001 2 00432         TIX     PRPU.2,2,1    WORD EXHAUSTED, GO GET NEXT WORD           IOPA0482    
      00472 -0625 00 0 00624  DONE   STL     DONESW        FINISHED, INDICATE LAST BUFFER TO PRINT.   IOPA0483    
      00473  0520 00 0 00623  PRPU.5 ZET     PRSW          ARE WE PRINTING OR PUNCHING. Q             IOPA0484    
      00474  0020 00 0 00500         TRA     PRNT.1        WE ARE PRINTING, GO TO PRINT ROUTINE       IOPA0485    
      00475  0766 00 0 01341         WPUA                  HERE TO PUNCH CARD.                        IOPA0486    
      00476  0540 00 0 00531         RCHA    PUCOM         START CHANNEL                              IOPA0487    
      00477  0020 00 0 00522         TRA     PEND          AND SKIP TO EXIT AFTER ONE CARD.           IOPA0488    
      00500  0774 00 7 00030  PRNT.1 AXT     24,7          HERE TO PRINT PARTIAL LINE.                IOPA0489    
      00501  0520 60 6 00541         ZET*    CARD,6        SEE IF BUFFER ALL BLANK                    IOPA0490    
      00502  0020 00 0 00511         TRA     PNOW          NON-ZERO WORD FOUND, GO PRINT.             IOPA0491    
      00503  2 00001 7 00501         TIX     *-2,7,1       ..                                         IOPA0492    
      00504  3 00001 6 00522         TXH     PEND,6,1      HAVE WE PRINTED ANYTHING ON THIS LINE      IOPA0493    
      00505  0766 00 0 01361         WPRA                  NO, SELECT PRINTER                         IOPA0494    
      00506  0760 00 0 01360  SPRX   SPRA    **            USER REQUESTED SPRA                        IOPA0495    
      00507  0540 00 0 00532         RCHA    IOCD          AND DISCONNECT CHANNEL                     IOPA0496    
      00510  0020 00 0 00514         TRA     PRT2.2        SKIP                                       IOPA0497    
      00511  0766 00 0 01361  PNOW   WPRA                  SELECT PRINTER ON CHANNEL 'A'              IOPA0498    
      00512  0760 00 0 01360  SPRA   SPRA    **            USER REQUESTED SPRA OR SPRA 9.             IOPA0499    
      00513  0540 60 6 00531         RCHA*   PRCOM,6       START UP CHANNEL ON RIGHT BUFFER           IOPA0500    
      00514  0520 00 0 00624  PRT2.2 ZET     DONESW        IS THERE MORE TO DO. Q                     IOPA0501    
      00515  0020 00 0 00522         TRA     PEND          NO, SKIP TO END                            IOPA0502    
      00516 -0500 00 0 00631         CAL     SPRA9         YES, SET UP TO PRINT RIGHT HALF LINE       IOPA0503    
      00517  0602 00 0 00512         SLW     SPRA          ..                                         IOPA0504    
      00520 -0500 00 0 02071         CAL     =-0           RESET COLUMN MARKER                        IOPA0505    
      00521  1 00001 6 00466         TXI     PRPU.4,6,1    AND RE-ENTER ROUTINE                       IOPA0506    
                                                                                                      IOPA0507    
      00522  0074 00 4 01047  PEND   TSX     RSTCHA,4      HERE WHEN DONE, RESTORE CHANNEL 'A'        IOPA0508    
      00523  0774 00 1 00000  PRX1   AXT     -,1           RESTORE XRS                                IOPA0509    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1924.6 PAGE 13    
                  
      00524  0774 00 2 00000  PRX2   AXT     -,2           ..                                         IOPA0510    
      00525  0774 00 4 00000  PRX4   AXT     -,4           ..                                         IOPA0511    
      00526  0020 00 4 00002         TRA     2,4           RETURN TO CALLER.                          IOPA0512    
                                                                                                      IOPA0513    
                                                                                                      IOPA0514    
      00527  0 00000 0 00533         PZE     PRCM2         CHANNEL COMMANDS FOR SECOND BUFFER         IOPA0515    
      00530  0 00000 0 00531         PZE     PRCM1         .. FOR FIRST BUFFER                        IOPA0516    
                       00531  PRCOM  SYN     *             ..                                         IOPA0517    
                                                                                                      IOPA0518    
      00531 -2 00030 0 00573  PRCM1  IOSP    CBUF1,B,24    WHEN PRINTING, THIS SEQUENCE DISCONNECTS   IOPA0519    
      00532  0 00000 0 00000  IOCD   IOCD    0,,0          13 MS. FASTER THAN IOCD                    IOPA0520    
      00533 -2 00030 0 00543  PRCM2  IOSP    CBUF2,B,24    ..                                         IOPA0521    
      00534  0 00000 0 00000         IOCD    0,,0          ..                                         IOPA0522    
                                                                                                      IOPA0523    
                       00531  PUCOM  SYN     PRCM1         DISCONNECTS 25 MS FASTER THAN IOCD         IOPA0524    
                                                                                                      IOPA0525    
      00535 -0602 60 6 00543         ORS*    CARD+2,6      TO ADD PUNCH INTO RIGHT HALF CARD          IOPA0526    
      00536 -0602 60 6 00541         ORS*    CARD,6        .. LEFT HALF CARD                          IOPA0527    
                       00537  ORINBT SYN     *             ' XEC ORINBT,5 '                           IOPA0528    
                                                                                                      IOPA0529    
      00537  0 00000 7 00573         PZE     CBUF2+24,7    RIGHT HALF LINE                            IOPA0530    
      00540  0 00000 7 00623         PZE     CBUF1+24,7    LEFT HALF LINE                             IOPA0531    
                       00541  CARD   SYN     *             .. 'ORS* CARD,6'                           IOPA0532    
      00541  0 00000 7 00574         PZE     CBUF2+25,7    FOR RIGHT HALF CARD COL 37-72              IOPA0533    
      00542  0 00000 7 00624         PZE     CBUF1+25,7    ..                                         IOPA0534    
                                                                                                      IOPA0535    
      00543                   CBUF2  BSS     24            PRINT BUFFER 2                             IOPA0536    
      00573                   CBUF1  BSS     24            PRINT BUFFER 1, PUNCH BUFFER               IOPA0537    
                                                                                                      IOPA0538    
      00623  0 00000 0 77777  PRSW   PZE     -1            PRINT/PUNCH SWITCH                         IOPA0539    
      00624  0 00000 0 00000  DONESW PZE                   NON-ZERO IF CONTENTS OF BUFFER IS LAST     IOPA0540    
      00625  0 00000 0 00000  MQ.T   PZE                   STORAGE FOR PARTIAL MQ DURING CONVERSION   IOPA0541    
                                                                                                      IOPA0542    
                       00626  SPRTBL SYN     *             TABLE OF VALID SPR'S                       IOPA0543    
      00626  0761 00 0 00000  NOP    NOP                   (PZE)  SINGLE SPACE                        IOPA0544    
      00627  0760 00 0 01361         SPRA    1             (PON)  NEW PAGE                            IOPA0545    
      00630  0760 00 0 01362         SPRA    2             (PTW)  HALF-PAGE SKIP                      IOPA0546    
      00631  0760 00 0 01371  SPRA9  SPRA    9             (PTH)  PRINT RIGHT-HALF LINE               IOPA0547    
      00632  0761 00 0 00000         NOP                   (MZE)  SINGLE SPACE                        IOPA0548    
      00633  0761 00 0 00000         NOP                   (MON)  SINGLE SPACE                        IOPA0549    
      00634  0760 00 0 01364         SPRA    4             (MTW)  DOUBLE SPACE                        IOPA0550    
      00635  0761 00 0 00000         NOP                   (MTH)  SINGLE SPACE                        IOPA0551    
                                                                                                      IOPA0552    
                      000001  P12    BOOL    1             BIT FOR 12-PUNCH                           IOPA0553    
                      000002  P11    BOOL    2                     11-PUNCH                           IOPA0554    
                      000004  P0     BOOL    4                      0-PUNCH                           IOPA0555    
                      000010  P1     BOOL    10                     1-PUNCH                           IOPA0556    
                      000020  P2     BOOL    20                     2-PUNCH                           IOPA0557    
                      000040  P3     BOOL    40                     3-PUNCH                           IOPA0558    
                      000100  P4     BOOL    100                    4-PUNCH                           IOPA0559    
                      000200  P5     BOOL    200                    5-PUNCH                           IOPA0560    
                      000400  P6     BOOL    400                    6-PUNCH                           IOPA0561    
                      001000  P7     BOOL    1000                   7-PUNCH                           IOPA0562    
                      002000  P8     BOOL    2000                   8-PUNCH                           IOPA0563    
                      004000  P9     BOOL    4000                   9-PUNCH                           IOPA0564    
                                                                                                      IOPA0565    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1924.6 PAGE 14    
                  
                       00636  CHRTB  SYN     *             CONVERSION TABLE FOR CHARACTERS            IOPA0566    
      00636  0 00010 0 00004         PZE     P0,,P1        DIGITS 0, 1                                IOPA0567    
      00637  0 00040 0 00020         PZE     P2,,P3        2, 3                                       IOPA0568    
      00640  0 00200 0 00100         PZE     P4,,P5        4, 5                                       IOPA0569    
      00641  0 01000 0 00400         PZE     P6,,P7        6, 7                                       IOPA0570    
      00642  0 04000 0 02000         PZE     P8,,P9        8, 9                                       IOPA0571    
      00643  0 02040 1 00467         PZE     SKP,1,P8+P3   ILL., =                                    IOPA0572    
      00644  1 00467 0 02100         PON     P8+P4,,SKP    ', ILL.                                    IOPA0573    
      00645  1 00467 1 00467         PON     SKP,1,SKP     ILL, ILL.                                  IOPA0574    
      00646  0 00011 0 00001         PZE     P12,,P12+P1   +, A                                       IOPA0575    
      00647  0 00041 0 00021         PZE     P12+P2,,P12+P3 B, C                                      IOPA0576    
      00650  0 00201 0 00101         PZE     P12+P4,,P12+P5 D, E                                      IOPA0577    
      00651  0 01001 0 00401         PZE     P12+P6,,P12+P7 F, G                                      IOPA0578    
      00652  0 04001 0 02001         PZE     P12+P8,,P12+P9 H, I                                      IOPA0579    
      00653  0 02041 1 00467         PZE     SKP,1,P12+P8+P3 ILL., '.'                                IOPA0580    
      00654  0 02041 0 02101         PZE     P12+P8+P4,,P12+P8+P3 ), COLON (USE .)                    IOPA0581    
      00655  1 00467 1 00467         PON     SKP,1,SKP     ILL., ILL.                                 IOPA0582    
      00656  0 00012 0 00002         PZE     P11,,P11+P1   -, J                                       IOPA0583    
      00657  0 00042 0 00022         PZE     P11+P2,,P11+P3 K, L                                      IOPA0584    
      00660  0 00202 0 00102         PZE     P11+P4,,P11+P5 M, N                                      IOPA0585    
      00661  0 01002 0 00402         PZE     P11+P6,,P11+P7 O, P                                      IOPA0586    
      00662  0 04002 0 02002         PZE     P11+P8,,P11+P9 Q, R                                      IOPA0587    
      00663  0 02042 1 00467         PZE     SKP,1,P11+P8+P3 ILL., $                                  IOPA0588    
      00664  1 00467 0 02102         PON     P11+P8+P4,,SKP *, ILL.                                   IOPA0589    
      00665  1 00467 1 00467         PON     SKP,1,SKP     ILL., NULL                                 IOPA0590    
      00666  0 00014 0 00000         PZE     0,,P0+P1      BLANK, /                                   IOPA0591    
      00667  0 00044 0 00024         PZE     P0+P2,,P0+P3  S, T                                       IOPA0592    
      00670  0 00204 0 00104         PZE     P0+P4,,P0+P5  U, V                                       IOPA0593    
      00671  0 01004 0 00404         PZE     P0+P6,,P0+P7  W, X                                       IOPA0594    
      00672  0 04004 0 02004         PZE     P0+P8,,P0+P9  Y, Z                                       IOPA0595    
      00673  0 02044 1 00467         PZE     SKP,1,P0+P8+P3 TAB, ','                                  IOPA0596    
      00674  1 00467 0 02104         PON     P0+P8+P4,,SKP (, ILL.                                    IOPA0597    
      00675  1 00467 1 00467         PON     SKP,1,SKP     ILL., ILL.                                 IOPA0598    
                                                                                                      IOPA0599    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1924.6 PAGE 15    
                  
                                                                                                      IOPA0601    
                                             ... CMEXIT ... COMMON EXIT ROUTINE FROM ALL TRAPS .......IOPA0602    
                                                                                                      IOPA0603    
      00676  0564 00 0 02060  CMEXIT ENB     =0            INSURE ALL TRAPS DISABLED                  IOPA0604    
      00677  0604 00 0 01146         STI     CMXSI         SAVE INDICATORS                            IOPA0605    
      00700  0441 60 4 00002         LDI*    2,4           PICK UP RETURN FLAGS                       IOPA0606    
      00701  0057 00  700000         RIR     700000        INSURE TAG ZERO                            IOPA0607    
      00702  0604 00 0 01145         STI     CMXRTN        SAVE RETURN LOCATION                       IOPA0608    
      00703  0522 00 4 00001         XEC     1,4           RESTORE USER'S IR4 FROM 1,4                IOPA0609    
      00704  0520 00 0 01144         ZET     ATLOST        WAS A TRAP ON CHANNEL 'A' LOST             IOPA0610    
      00705  0020 00 0 00720         TRA     SIMTRP        YES, GO TO SIMULATE LOST TRAP              IOPA0611    
      00706 -0054 00  020000         LFT     20000         NO, WAS ECC SET FOR MEMORY 'A'             IOPA0612    
      00707  0020 00 0 00713         TRA     CMRTNB        NO, SET ECC TO MEMORY 'B'                  IOPA0613    
      00710  0441 00 0 01146         LDI     CMXSI         YES, RELOAD INDICATORS                     IOPA0614    
      00711  0564 00 0 01114         ENB     ENABLE        AND RETURN TO INTERRUPTED PROGRAM          IOPA0615    
      00712                          WHEN    B,T,,LRI,=0,,,,  ..                                      IOPA0616    
      00712                          WHEN    B,T,,SEA,,,,, ..                                         IOPA0617    
      00712  0020 60 0 01145         TRA*    CMXRTN        ..                                         IOPA0618    
                                                                                                      IOPA0619    
      00713  0441 00 0 01146  CMRTNB LDI     CMXSI         HERE TO RETURN WITH ECC SET FOR MEMORY 'B' IOPA0620    
      00714  0564 00 0 01114         ENB     ENABLE        RETURN TO INTERRUPTED PROGRAM              IOPA0621    
      00715                          WHEN    B,F,,LRI,=0,,,,  ..                                      IOPA0622    
      00715  0562 00 0 02060         LRI     =0,,                                                     IOPA0622.003
      00716                          WHEN    B,F,,SEB,,,,, ..                                         IOPA0623    
      00716 -0761 00 0 00042         SEB     ,,                                                       IOPA0623.003
      00717  0020 60 0 01145         TRA*    CMXRTN        ..                                         IOPA0624    
                                                                                                      IOPA0625    
      00720 -0057 00  717777  SIMTRP RIL     717777        HERE TO SIMULATE LOST TRAP ON CHANNEL 'A'  IOPA0626    
      00721  0604 00 0 01160         STI     RTNLOC        SET UP RETURN LOC. WITH ECC AND ICC FLAGS  IOPA0627    
      00722  0441 00 0 01146         LDI     CMXSI         RELOAD USER'S SENSE INDICATORS             IOPA0628    
      00723  0634 00 4 01147         SXA     TRPIR4,4      AND INSURE USER'S MACHINE CONDITIONS SAVED IOPA0629    
      00724  0074 00 4 00737         TSX     ALLSAV,4      ..                                         IOPA0630    
      00725 -0500 00 0 01144         CAL     ATLOST        PICK UP FLAGS FROM LOST TRAP               IOPA0631    
      00726 -0320 00 0 02066         ANA     =O7000000     SAVE BITS 15-17                            IOPA0632    
      00727 -0602 00 0 01160         ORS     RTNLOC        COMPLETE TRAP FLAGS IN 'RTNLOC'            IOPA0633    
      00730  0600 00 0 01144  STZ.A) STZ     ATLOST        RESET LOST TRAP CONDITION                  IOPA0634    
      00731  0020 00 0 00212         TRA     ATRAP1        AND SIMULATE TRAP ON CHANNEL 'A'           IOPA0635    
                                                                                                      IOPA0636    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPA0637    
                                                                                                      IOPA0638    
                                             ... FILXIT ... EXIT TO USER FROM FILE SYSTEM .....       IOPA0639    
                                                                                                      IOPA0640    
      00732 -0500 60 4 00002  FILXIT CAL*    2,4           PICK UP RETURN ADDRESS                     IOPA0641    
      00733  0737 00 5 00000         PAC     0,5           .. -RETURN ADDRESS TO IR5                  IOPA0642    
      00734  0522 00 4 00001         XEC     1,4           RELOAD USER'S IR4                          IOPA0643    
      00735  0564 00 0 01114         ENB     ENABLE        RE-ENABLE ALL TRAPS                        IOPA0644    
      00736  0020 00 5 00000         TRA     0,5           AND RETURN TO USER                         IOPA0645    
                                                                                                      IOPA0646    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1924.6 PAGE 16    
                  
                                                                                                      IOPA0648    
                                             ... ALLSAV ... SAVE BASIC MACHINE CONDITIONS ............IOPA0649    
                                                                                                      IOPA0650    
      00737  0564 00 0 02060  ALLSAV ENB     =0            INSURE NO TRAPS COME NOW.                  IOPA0651    
      00740 -0520 00 0 01023         NZT     ENBSW         HAVE WE TAKEN A PREVIOUS TRAP.             IOPA0652    
      00741  0000 00 0 00741         HTR     *             YES, STOP AND TAKE A DUMP.                 IOPA0653    
      00742  0600 00 0 01023         STZ     ENBSW         NO, INDICATE WE ARE IN TRAP TIME.          IOPA0654    
      00743  0634 00 4 00772         SXA     ALLXR4,4      SAVE NAME OF THIS CALLER                   IOPA0655    
      00744  0634 00 1 01001         SXA     TRPIR1,1      SAVE BASIC MACHINE CONDITIONS.             IOPA0656    
      00745  0634 00 2 01002         SXA     TRPIR2,2      ..                                         IOPA0657    
      00746  0634 00 3 01003         SXA     TRPIR3,3      ..                                         IOPA0658    
      00747  0774 00 3 00000         AXT     0,3           .. SAVE TAG MODE                           IOPA0659    
      00750  0774 00 1 00001         AXT     1,1           ..                                         IOPA0660    
      00751  0600 00 0 01150         STZ     TRPMTM        ..                                         IOPA0661    
      00752 -3 00000 3 00756         TXL     7TAG,3,0      .. SKIP IF IN 7-TAG (7094) MODE            IOPA0662    
      00753 -0625 00 0 01150         STL     TRPMTM        .. OTHERWISE SET 3-TAG (7090) MODE         IOPA0663    
      00754  0760 00 0 00016         LMTM                  ..                                         IOPA0664    
      00755  0634 00 3 01003         SXA     TRPIR3,3      .. RESAVE IR3                              IOPA0665    
      00756  0634 00 5 01004  7TAG   SXA     TRPIR5,5      ..                                         IOPA0666    
      00757  0634 00 6 01005         SXA     TRPIR6,6      ..                                         IOPA0667    
      00760  0634 00 7 01006         SXA     TRPIR7,7      ..                                         IOPA0668    
      00761  0604 00 0 01151         STI     TRPSI         .. SAVE SENSE INDICATORS                   IOPA0669    
      00762 -0600 00 0 01152         STQ     TRPMQ         .. MQ                                      IOPA0670    
      00763  0602 00 0 01153         SLW     TRPLAC        .. LOGICAL AC                              IOPA0671    
      00764  0771 00 0 00002         ARS     2             ..                                         IOPA0672    
      00765  0601 00 0 01154         STO     TRPSQ         .. S AND Q BITS                            IOPA0673    
      00766  0600 00 0 01155         STZ     TRPOV         .. AC OVERFLOW CONDITION                   IOPA0674    
      00767 -0140 00 0 00771         TNO     *+2           ..                                         IOPA0675    
      00770 -0625 00 0 01155         STL     TRPOV         ..                                         IOPA0676    
      00771  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPA0677    
                                                                                                      IOPA0678    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPA0679    
                                                                                                      IOPA0680    
      00772  0 00000 0 00000  ALLXR4 PZE     **,,**        X4(ALLSAV,,ALLRST)                         IOPA0681    
                                                                                                      IOPA0682    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPA0683    
                                                                                                      IOPA0684    
                                             ... ALLRST ... RESTORE BASIC MACHINE CONDITIONS .........IOPA0685    
                                                                                                      IOPA0686    
      00773  0564 00 0 02060  ALLRST ENB     =0            INSURE NO TRAPS ON TOP OF STOP.            IOPA0687    
      00774  0520 00 0 01023         ZET     ENBSW         ARE WE CALLED AT TRAP TIME.                IOPA0688    
      00775  0000 00 0 00775         HTR     *             NO, STOP AND TAKE DUMP.                    IOPA0689    
      00776 -0625 00 0 01023         STL     ENBSW         YES, INDICATE WE ARE LEAVING TRAP TIME.    IOPA0690    
      00777  0760 00 0 00016         LMTM                  INSURE 7-TAG (7094) MODE                   IOPA0691    
      01000 -0634 00 4 00772         SXD     ALLXR4,4      SAVE X4 OF CALLER FOR DEBUGGING            IOPA0692    
      01001  0774 00 1 00000  TRPIR1 AXT     **,1          ..                                         IOPA0693    
      01002  0774 00 2 00000  TRPIR2 AXT     **,2          ..                                         IOPA0694    
      01003  0774 00 3 00000  TRPIR3 AXT     **,3          ..                                         IOPA0695    
      01004  0774 00 5 00000  TRPIR5 AXT     **,5          ..                                         IOPA0696    
      01005  0774 00 6 00000  TRPIR6 AXT     **,6          ..                                         IOPA0697    
      01006  0774 00 7 00000  TRPIR7 AXT     **,7          ..                                         IOPA0698    
      01007  0520 00 0 01150         ZET     TRPMTM        .. RESTORE TAG MODE                        IOPA0699    
      01010 -0760 00 0 00016         EMTM                  ..                                         IOPA0700    
      01011  0560 00 0 01154         LDQ     TRPSQ         .. RESTORE S AND Q BITS                    IOPA0701    
      01012  0500 00 0 01012         CLA     *             .. AND INSURE OVERFLOW LIGHT IS ON         IOPA0702    
      01013  0763 00 0 00001         LLS     1             ..                                         IOPA0703    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1924.6 PAGE 17    
                  
      01014  0767 00 0 00044         ALS     36            ..                                         IOPA0704    
      01015 -0501 00 0 01153         ORA     TRPLAC        .. RESTORE LOGICAL AC                      IOPA0705    
      01016  0560 00 0 01152         LDQ     TRPMQ         .. RESTORE MQ                              IOPA0706    
      01017  0441 00 0 01151         LDI     TRPSI         .. RESTORE SI                              IOPA0707    
      01020 -0520 00 0 01155         NZT     TRPOV         .. RESTORE CORRECT OVERFLOW STATUS         IOPA0708    
      01021  0140 00 0 01022         TOV     *+1           ..                                         IOPA0709    
      01022  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPA0710    
                                                                                                      IOPA0711    
      01023  0 00000 0 00000  ENBSW  PZE     **            SWITCH ON DURING ENABLE TIME.              IOPA0712    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1924.6 PAGE 18    
                  
                                             ... SAVCHA/RSTCHA/CHKCHA ... SAVE RESTORE AND CHECK 'A'  IOPA0714    
                                                                                                      IOPA0715    
      01024  0564 00 0 02060  SAVCHA ENB     =0            SAVE STATUS OF CHANNEL 'A'                 IOPA0716    
      01025  0520 00 0 01144         ZET     ATLOST        HAVE WE LOST A TRAP ALREADY                IOPA0717    
      01026  0020 00 0 01042         TRA     SVCHA2        YES, SKIP                                  IOPA0718    
      01027 -0500 00 0 01035         CAL     TSTRAP        NO, SET UP TO CHECK FOR TRAP ON CHANNEL 'A'IOPA0719    
      01030                          WHEN    B,T,,SEA,,,,, SAVE CHANNEL 'A' TRAP INSTRUCTION          IOPA0720    
      01030  0441 00 0 00013         LDI     ADCTRP        ..                                         IOPA0721    
      01031  0602 00 0 00013         SLW     ADCTRP        .. AND SUBSTITUTE NEW TRAP INSTRUCTION     IOPA0722    
      01032                          WHEN    B,T,,SEB,,,,, ..                                         IOPA0723    
      01032  0564 00 0 01167         ENB     ENBIFA        ENABLE IF ENABLE CONTAINS CHANNEL 'A' BITS IOPA0724    
      01033  0060 00 0 01033         TCOA    *             AND WAIT                                   IOPA0725    
      01034  0020 00 0 01040         TRA     SVCHA1        GO RESTORE TRAP INSTRUCTION IF NO TRAP     IOPA0726    
                                                                                                      IOPA0727    
      01035                          WHEN    B,F,TSTRAP,TTR,*+1,,,,                                   IOPA0728    
      01035  0021 00 0 01036  TSTRAP TTR     *+1,,                                                    IOPA0728.003
      01036                          WHEN    B,T,TSTRAP,TIB,*+1,,,,                                   IOPA0729    
                                                                                                      IOPA0730    
      01036 -0500 00 0 00012         CAL     ATRLOC        PICK UP FLAGS FROM TRAP ON CHANNEL 'A'     IOPA0731    
      01037                          WHEN    B,T,,SEB,,,,, ..                                         IOPA0732    
      01037  0602 00 0 01144         SLW     ATLOST        SET FLAGS FOR LOST TRAP                    IOPA0733    
      01040  0564 00 0 02060  SVCHA1 ENB     =0            DISABLE ALL TRAPS                          IOPA0734    
      01041                          WHEN    B,T,,SEA,,,,, RESTORE PREVIOUS TRAP INSTRUCTION          IOPA0735    
      01041  0604 00 0 00013         STI     ADCTRP        ..                                         IOPA0736    
      01042                          WHEN    B,T,,SEB,,,,, ..                                         IOPA0737    
                                                                                                      IOPA0738    
      01042  0640 00 0 01165  SVCHA2 SCHA    SVCHAN        SAVE CHANNEL 'A' REGISTERS                 IOPA0739    
      01043  0600 00 0 01166         STZ     SVIOCK        AND I/O CHECK CONDITION                    IOPA0740    
      01044  0760 00 0 00005         IOT                   ..                                         IOPA0741    
      01045 -0625 00 0 01166         STL     SVIOCK        ..                                         IOPA0742    
      01046  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPA0743    
                                                                                                      IOPA0744    
      01047  0634 00 4 01074  RSTCHA SXA     RSTCX4,4      RESTORE CHANNEL STATUS                     IOPA0745    
      01050  0060 00 0 01050         TCOA    *             WAIT UNTIL CHANNEL IS FREE                 IOPA0746    
      01051 -0500 00 0 01165         CAL     SVCHAN        PICK UP PREVIOUS CHANNEL STATUS            IOPA0747    
      01052 -0737 00 4 00000         PDC     0,4           -LOCATION COUNTER TO IR4                   IOPA0748    
      01053 -0320 00 0 02072         ANA     =O700000377777  RESTORE CHANNEL 'A' REGISTERS            IOPA0749    
      01054  0560 00 4 77777         LDQ     -1,4          ..                                         IOPA0750    
      01055  0602 00 4 77777         SLW     -1,4          ..                                         IOPA0751    
      01056  0540 00 4 77777         RCHA    -1,4          ..                                         IOPA0752    
      01057 -0600 00 4 77777         STQ     -1,4          ..                                         IOPA0753    
      01060 -0520 00 0 01166         NZT     SVIOCK        RESTORE PREVIOUS CONDITIONS OF I/O CHECK   IOPA0754    
      01061  0760 00 0 00005         IOT                   ..                                         IOPA0755    
      01062  0761 00 0 00000         NOP                   .. FOR SAFETY ONLY (IOT SHOULD BE ON)      IOPA0756    
      01063 -0500 00 0 01071         CAL     FORGET        SET UP TO LOOSE ANY TRAP ON CHANNEL 'A'    IOPA0757    
      01064                          WHEN    B,T,,SEA,,,,, SAVE CHANNEL 'A' TRAP INSTRUCTION          IOPA0758    
      01064  0441 00 0 00013         LDI     ADCTRP        ..                                         IOPA0759    
      01065  0602 00 0 00013         SLW     ADCTRP        .. SUBSTITUTE NEW TRAP INSTRUCTION         IOPA0760    
      01066                          WHEN    B,T,,SEB,,,,, ..                                         IOPA0761    
      01066  0564 00 0 01167         ENB     ENBIFA        ENABLE IF ENABLE CONTAINS CHAN. 'A' BITS   IOPA0762    
      01067  0060 00 0 01067         TCOA    *             AND WAIT                                   IOPA0763    
      01070  0020 00 0 01072         TRA     RSCHA1        GO RESTORE TRAP INSTRUCTION IF NO TRAP     IOPA0764    
                                                                                                      IOPA0765    
      01071                          WHEN    B,F,FORGET,TTR,*+1,,,,                                   IOPA0766    
      01071  0021 00 0 01072  FORGET TTR     *+1,,                                                    IOPA0766.003
      01072                          WHEN    B,T,FORGET,TIB,*+1,,,,                                   IOPA0767    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1924.6 PAGE 19    
                  
                                                                                                      IOPA0768    
      01072                          WHEN    B,T,,SEB,,,,,                                            IOPA0769    
                                                                                                      IOPA0770    
      01072  0564 00 0 02060  RSCHA1 ENB     =0            DISABLE ALL TRAPS                          IOPA0771    
      01073                          WHEN    B,T,,SEA,,,,, RESTORE PREVIOUS TRAP INSTRUCTION          IOPA0772    
      01073  0604 00 0 00013         STI     ADCTRP        ..                                         IOPA0773    
      01074                          WHEN    B,T,,SEB,,,,, ..                                         IOPA0774    
      01074  0774 00 4 00000  RSTCX4 AXT     **,4          RESTORE IR4                                IOPA0775    
      01075  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPA0776    
                                                                                                      IOPA0777    
      01076  0564 00 0 02060  CHKCHA ENB     =0            SIMULATE LOST TRAP ON CHANNEL 'A'          IOPA0778    
      01077 -0520 00 0 01144         NZT     ATLOST        DID WE LOOSE A TRAP ON CHANNEL 'A'         IOPA0779    
      01100  0020 00 4 00001         TRA     1,4           NO, RETURN                                 IOPA0780    
      01101  0634 00 4 01112         SXA     CKXIR4,4      YES, SIMULATE TRAP SEQUENCE                IOPA0781    
      01102  0074 00 4 00737         TSX     ALLSAV,4      SAVE REGISTERS, SET 7-TAG MODE             IOPA0782    
      01103  0074 00 4 00012         TSX     $TRAPA,4      GIVE TRAP TO TAPE STRATEGY MODULE          IOPA0783    
      01104  3 00000 0 01144         PTH     ATLOST        ..                                         IOPA0784    
      01105  0020 00 0 01110         TRA     *+3           TRAP ACCEPTED, DON'T SAVE FLAGS            IOPA0785    
      01106 -0500 00 0 01144         CAL     ATLOST        RECORD THIS TRAP FOR FUTURE REFERENCE      IOPA0786    
      01107 -0602 00 0 01170         ORS     TPFLAG+1      ..                                         IOPA0787    
      01110  0600 00 0 01144         STZ     ATLOST        RESET LOST TRAP CONDITION                  IOPA0788    
      01111  0074 00 4 00773         TSX     ALLRST,4      RESTORE REGISTERS, TAG MODE                IOPA0789    
      01112  0774 00 4 00000  CKXIR4 AXT     **,4          AND RETURN                                 IOPA0790    
      01113  0020 00 4 00001         TRA     1,4           ..                                         IOPA0791    
                                                                                                      IOPA0792    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPA0793    
                                                                                                      IOPA0794    
      01114 +000000400000     ENABLE OCT     400000        COMMON ENABLE WORD                         IOPA0795    
                                                                                                      IOPA0796    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPA0797    
                                                                                                      IOPA0798    
                                             ... ADDTIM ... COMPUTE TIME TO NEAREST 60TH OF A SECOND  IOPA0799    
                                                                                                      IOPA0800    
      01115  0564 00 0 02060  ADDTIM ENB     =0            INSURE ALL TRAPS DISABLED (USED BY CLKINT) IOPA0801    
      01116                          WHEN    B,T,,SEA,,,,,                                            IOPA0802    
      01116 -0500 00 0 00005         CAL     CLOCK         COMPUTE TOTAL TIME SYSTEM HAS RUN          IOPA0803    
      01117                          WHEN    B,T,,SEB,,,,, ..                                         IOPA0804    
      01117  0361 00 0 01172         ACL     CLKTIM        .. CLOCK TRAP INTERVAL                     IOPA0805    
      01120 -0320 00 0 02063         ANA     =O777777      ..                                         IOPA0806    
      01121  0361 00 0 01141         ACL     TOTTIM        ..                                         IOPA0807    
      01122  0402 00 0 01142         SUB     SAVTOT        SUBTRACT TIME OF LAST CALL TO 'ADDTIM'     IOPA0808    
      01123  0100 00 4 00001         TZE     1,4           IGNORE IF NO TIME HAS ELAPSED SINCE        IOPA0809    
      01124  0602 00 0 01143         SLW     DELTA         OTHERWISE, SAVE TIME INCREMENT             IOPA0810    
      01125  0400 00 0 01142         ADD     SAVTOT        SAVE CURRENT TIME                          IOPA0811    
      01126  0602 00 0 01142         SLW     SAVTOT        .. FOR NEXT CALL TO 'ADDTIM'               IOPA0812    
      01127 -0500 00 0 01137         CAL     TIMNOW        UPDATE TIME OF DAY                         IOPA0813    
      01130  0400 00 0 01143         ADD     DELTA         ..                                         IOPA0814    
      01131  0602 00 0 01137         SLW     TIMNOW        ..                                         IOPA0815    
      01132 -0500 00 0 01140         CAL     ELAPSE        UPDATE ELAPSE TIME SINCE LAST CALL         IOPA0816    
      01133  0400 00 0 01143         ADD     DELTA         .. TO 'GETELT'                             IOPA0817    
      01134  0602 00 0 01140         SLW     ELAPSE        ..                                         IOPA0818    
      01135  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPA0819    
                                                                                                      IOPA0820    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1924.6 PAGE 20    
                  
                                                                                                      IOPA0822    
                                             ..... CONSTANT AND VARIABLE STORAGE FOR 'IOPAC' ........ IOPA0823    
                                                                                                      IOPA0824    
                                                                                                      IOPA0826    
      01136  0 00000 0 00000  DATEYR PZE     0             TODAY'S DATE  BCI 1,MMDDYY                 IOPA0827    
      01137  0 00000 0 00000  TIMNOW PZE     0             TIME OF DAY IN 60THS OF A SECOND           IOPA0828    
      01140  0 00000 0 00000  ELAPSE PZE     0             TIME SINCE LAST CALL TO 'GETELT'           IOPA0829    
      01141  0 00000 0 00000  TOTTIM PZE     0             TOTAL TIME SYSTEM HAS RUN                  IOPA0830    
      01142  0 00000 0 00000  SAVTOT PZE     0             TOTTIM AT TIME OF LAST CALL TO 'ADDTIM'    IOPA0831    
      01143  0 00000 0 00000  DELTA  PZE     0             TEMP FOR 'ADDTIM'                          IOPA0832    
      01144  0 00000 0 00000  ATLOST PZE     0             LOST TRAP ON CHANNEL 'A' SAVED HERE        IOPA0833    
      01145  0 00000 0 00000  CMXRTN PZE     0             TEMP FOR RETURN FROM 'CMEXIT'              IOPA0834    
      01146  0 00000 0 00000  CMXSI  PZE     0             SENSE INDICATORS SAVED BY 'CMEXIT'         IOPA0835    
                                                                                                      IOPA0836    
      01147  0 00000 0 00000  TRPIR4 PZE     0             MACHINE CONDITIONS SAVED ON TRAP           IOPA0837    
      01150  0 00000 0 00000  TRPMTM PZE     **            ..                                         IOPA0838    
      01151  0 00000 0 00000  TRPSI  PZE     0             ..                                         IOPA0839    
      01152  0 00000 0 00000  TRPMQ  PZE     0             ..                                         IOPA0840    
      01153  0 00000 0 00000  TRPLAC PZE     0             ..                                         IOPA0841    
      01154  0 00000 0 00000  TRPSQ  PZE     0             ..                                         IOPA0842    
      01155  0 00000 0 00000  TRPOV  PZE     0             ..                                         IOPA0843    
                                                                                                      IOPA0844    
      01156  0 00000 0 00000  PRCOL  PZE     0             TEMPS FOR WPRPU                            IOPA0845    
      01157  0 00000 0 00000  AUTHOR PZE     0             TEMP FOR 'SETIO'                           IOPA0846    
      01160  0 00000 0 00000  RTNLOC PZE     0             TRAP FLAGS SAVED HERE ON ALL TRAPS         IOPA0847    
      01161  0 00000 0 00000  CLKEYS PZE     0             CONSOLE KEYS, SAVED BY 'CLKINT'            IOPA0848    
      01162  0 00000 0 00000  KEYSW  PZE     0             SWITCH USED BY 'CLKINT'                    IOPA0849    
      01163  0 00000 0 00000  FERTN  PZE     **            RETURN LOCATION SET BY 'FERRTN'            IOPA0850    
      01164  0 00000 0 00000  UILOCK PZE     **            RETURN LOCATION SET BY 'TILOCK'            IOPA0851    
      01165  0 00000 0 00000  SVCHAN PZE     0             TEMP USED BY SAVCHA/RSTCHA                 IOPA0852    
      01166  0 00000 0 00000  SVIOCK PZE     0             TEMP USED BY SAVCHA/RSTCHA                 IOPA0853    
      01167  0 00000 0 00000  ENBIFA PZE     -             ENABLE BITS IF CHANNEL A ENABLED           IOPA0854    
                                                                                                      IOPA0855    
                       01167  TPFLAG SYN     *-1           CHANNEL FLAGS SAVED HERE                   IOPA0856    
      01170  0 00000 0 00000         PZE     0             .. FOR CHANNEL 'A'                         IOPA0857    
      01171  0 00000 0 00000         PZE     0             .. AND CHANNEL 'B'                         IOPA0858    
                                                                                                      IOPA0859    
      01172 +000000000074     CLKTIM DEC     60            CLOCK TRAP INTERVAL                        IOPA0860    
                                                                                                      IOPA0861    
      01173  0 00000 0 00001  HOME   PZE     B+1           FLAG FOR 'HOME' MEMORY                     IOPA0862    
                                                                                                      IOPA0863    
      01174  604546602551     NOERTN BCI     5, NO ERROR RETURN SPECIFIED.                            IOPA0864    
      01201  545454545454     PP21UP BCI     6,****** PLEASE PUT KEY 21 UP. ******                    IOPA0865    
      01207  545454545454     KEYSNG BCI     8,****** ILLEGAL KEY SETTING, TRY AGAIN. ******          IOPA0866    
      01217  604225706260     KREAD  BCI     4, KEYS READ. ************                               IOPA0867    
      01223  602567316360     EXITMS BCI     2, EXIT CALLED                                           IOPA0868    
                                                                                                      IOPA0869    
      01307                   SAVFMS BES     HITRAP+1      FMS LOWER CORE SAVED HERE                  IOPA0870    
                                                                                                      IOPA0871    
      01307 -0 00003 0 00000  LDFIOP IOCP    0,,3          LOAD FIOP INTO MEMORY 'A'                  IOPA0872    
      01310  1 00000 0 00000         TCH     0             ..                                         IOPA0873    
                                                                                                      IOPA0874    
                       01310  TCOAB  SYN     *-1           CHANNEL WAIT INSTRUCTIONS                  IOPA0875    
      01311  0060 00 0 00000         TCOA    **            .. FOR CHANNEL 'A'                         IOPA0876    
      01312  0061 00 0 00000         TCOB    **            .. AND CHANNEL 'B'                         IOPA0877    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1924.6 PAGE 21    
                  
                                                                                                      IOPA0879    
                                             ... RCLOCK ... READ CHRONOLOG, SET TIMNOW AND DATEYR ... IOPA0880    
                                                                                                      IOPA0881    
      01313  0634 00 4 01400  RDCLOC SXA     RCLKX4,4      SAVE XRS                                   IOPA0882    
      01314  0634 00 2 01377         SXA     RCLKX2,2      ..                                         IOPA0883    
      01315  0634 00 1 01376         SXA     RCLKX1,1      ..                                         IOPA0884    
                                                                                                      IOPA0885    
      01316  0774 00 1 00002         AXT     2,1           TRY TWICE IN CASE OF BAD DATE              IOPA0886    
      01317  0600 00 0 01500  RCLOC1 STZ     MMDDHH        RESET                                      IOPA0887    
      01320  0600 00 0 01501         STZ     MMSS66        ..                                         IOPA0888    
      01321  0762 00 0 01207         RTDZ                  SELECT CHRONOLOG AS TAPE 'A7'              IOPA0889    
      01322  0540 00 0 01435         RCHZ    RCLOCK        START UP CHANNEL TO READ CLOCK             IOPA0890    
      01323  0774 00 2 00002         AXT     2,2           COUNT TRIES                                IOPA0891    
      01324  0774 00 4 10624  RCLOC2 AXT     DELAY,4       9 MS DELAY WITH TIX *                      IOPA0892    
      01325  2 00001 4 01325         TIX     *,4,1         ..                                         IOPA0893    
      01326  0520 00 0 01500         ZET     MMDDHH        HAS FIRST WORD BEEN READ                   IOPA0894    
      01327  0020 00 0 01333         TRA     RCLOC3        YES, SKIP TO WAIT ON CHANNEL               IOPA0895    
      01330  2 00001 2 01324         TIX     RCLOC2,2,1    NO, COUNT TRIES                            IOPA0896    
      01331  0760 00 0 01352         RDCZ                  AFTER 18 MS GIVE UP, RESET CHANNEL         IOPA0897    
      01332  0020 00 0 01403         TRA     BADCLK        SKIP TO INFORM OPERATOR                    IOPA0898    
      01333  0060 00 0 01333  RCLOC3 TCOZ    *             WAIT UNTIL BOTH WORDS ARE READ             IOPA0899    
      01334  0022 00 0 01335         TRCZ    *+1           INSURE RTT TRIGGER RESET                   IOPA0900    
                                                                                                      IOPA0901    
      01335  0774 00 2 00002  RCLOC4 AXT     2,2           INSURE ALL CHARACTERS READ ARE LEGAL       IOPA0902    
      01336  0560 00 2 01502  RCLK4A LDQ     MMDDHH+2,2    PICK UP WORD READ                          IOPA0903    
      01337  0774 00 4 00006         AXT     6,4           6 DIGITS PER WORD                          IOPA0904    
      01340 -0754 00 0 00000  RCLOC5 ZAC                   ..                                         IOPA0905    
      01341 -0763 00 0 00006         LGL     6             SHIFT CHAR                                 IOPA0906    
      01342  0734 00 7 00000         PAX     ,7            TO X7                                      IOPA0907    
      01343  3 00011 7 01402         TXH     RCLOC8,7,9    ERROR IF .G. 9                             IOPA0908    
      01344  2 00001 4 01340         TIX     RCLOC5,4,1    DO FOR ALL CHARS                           IOPA0909    
      01345  2 00001 2 01336         TIX     RCLK4A,2,1    .. OF EACH WORD                            IOPA0910    
                                                                                                      IOPA0911    
      01346  0560 00 0 01500         LDQ     MMDDHH        PICK UP HOUR                               IOPA0912    
      01347 -0773 00 0 00030         RQL     24            ..                                         IOPA0913    
      01350  0074 00 7 01423         TSX     DTB,7         CONVERT TO BINARY                          IOPA0914    
      01351  0734 00 7 00000         PAX     ,7            ..                                         IOPA0915    
      01352  3 00027 7 01402         TXH     RCLOC8,7,23   INSURE LEGAL VALUE                         IOPA0916    
      01353  0560 00 0 01501         LDQ     MMSS66        NOW GET REST OF TIME                       IOPA0917    
      01354  0774 00 4 00003         AXT     3,4           MINUTES, SECONDS, 60THS                    IOPA0918    
      01355  0767 00 0 00002  RCLOC6 ALS     2             MULTIPLY PREVIOUS VALUE BY 60              IOPA0919    
      01356  0602 00 0 01440         SLW     TMP           .. N * 4                                   IOPA0920    
      01357  0774 00 7 00003         AXT     3,7           ..                                         IOPA0921    
      01360  0767 00 0 00001         ALS     1             .. 8, 16, 32                               IOPA0922    
      01361  0400 00 0 01440         ADD     TMP           ..                                         IOPA0923    
      01362  2 00001 7 01360         TIX     *-2,7,1       ..                                         IOPA0924    
      01363  0602 00 0 01437         SLW     60THS         .. = 60                                    IOPA0925    
      01364  0074 00 7 01423         TSX     DTB,7         NOW CONVERT NEXT FIELD FROM MQ             IOPA0926    
      01365  0734 00 7 00000         PAX     ,7            ..                                         IOPA0927    
      01366  3 00073 7 01402         TXH     RCLOC8,7,59   MUST BE LESS THAN 60                       IOPA0928    
      01367  0400 00 0 01437         ADD     60THS         ADD PREVIOUS RESULT                        IOPA0929    
      01370  2 00001 4 01355         TIX     RCLOC6,4,1    GO BACK TO MULTIPLY AGAIN                  IOPA0930    
      01371  0602 00 0 01137         SLW     TIMNOW        ..                                         IOPA0931    
      01372 -0500 00 0 01500         CAL     MMDDHH        ..                                         IOPA0932    
      01373 -0320 00 0 02073         ANA     =O777777770000 MASK OUT HOUR                             IOPA0933    
      01374 -0501 00 0 01436         ORA     YEAR          ADD IN YEAR TO FORM                        IOPA0934    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1924.6 PAGE 22    
                  
      01375  0602 00 0 01136         SLW     DATEYR        .. MMDDYY                                  IOPA0935    
      01376  0774 00 1 00000  RCLKX1 AXT     -,1           RESTORE XRS                                IOPA0936    
      01377  0774 00 2 00000  RCLKX2 AXT     -,2           ..                                         IOPA0937    
      01400  0774 00 4 00000  RCLKX4 AXT     -,4           ..                                         IOPA0938    
      01401  0020 00 4 00001         TRA     1,4           RETURN                                     IOPA0939    
                                                                                                      IOPA0940    
      01402  2 00001 1 01317  RCLOC8 TIX     RCLOC1,1,1    HERE FOR BAD DATE FROM CHRONOLOG, RETRY    IOPA0941    
                                                                                                      IOPA0942    
      01403  0560 00 0 01137  BADCLK LDQ     TIMNOW        HERE IF CHRONOLOG WILL NOT READ PROPERLY   IOPA0943    
      01404  0074 00 4 00001         TSX     CTIME,4       CONVERT TIME FOR PRINTING                  IOPA0944    
      01405  0602 00 0 01503         SLW     MMSS66+2      ..                                         IOPA0945    
      01406  0074 00 4 00375         TSX     EPRINT,4      TELL OPERATOR ABOUT IT                     IOPA0946    
      01407  0 00014 0 01470         PZE     CLKBAD,,12    .. THOUGH IT PROBABLY IS A WASTED EFFORT   IOPA0947    
      01410  0074 00 4 00375         TSX     EPRINT,4      YES, MUST HAVE A DATE AND TIME             IOPA0948    
      01411  0 00014 0 01441         PZE     SETMDH,,12    PRETEND OPERATOR IS CHRONOLOG              IOPA0949    
      01412  0000 00 0 01413         HTR     *+1           WAIT FOR OPERATOR                          IOPA0950    
      01413  0760 00 0 00004         ENK                   GET KEYS (MMDDHH)                          IOPA0951    
      01414 -0600 00 0 01500         STQ     MMDDHH        PRETEND THE CHRONOLOG DID IT               IOPA0952    
      01415  0074 00 4 00375         TSX     EPRINT,4      NOW ASK FOR THE REST OF IT                 IOPA0953    
      01416  0 00013 0 01455         PZE     SETMS6,,11    ..                                         IOPA0954    
      01417  0000 00 0 01420         HTR     *+1           .. WAIT AGAIN                              IOPA0955    
      01420  0760 00 0 00004         ENK                   MMSS66                                     IOPA0956    
      01421 -0600 00 0 01501         STQ     MMSS66        ..                                         IOPA0957    
      01422  0020 00 0 01335         TRA     RCLOC4        PROCESS NORMALLY                           IOPA0958    
                                                                                                      IOPA0959    
      01423 -0754 00 0 00000  DTB    ZAC                   ROUTINE TO CONVERT TWO BCD DIGITS TO BINARYIOPA0960    
      01424 -0763 00 0 00006         LGL     6             ..                                         IOPA0961    
      01425  0601 00 0 01440         STO     TMP           ..                                         IOPA0962    
      01426 -0754 00 0 00000         ZAC                   ..                                         IOPA0963    
      01427 -0763 00 0 00003         LGL     3             ..                                         IOPA0964    
      01430  0400 00 0 01440         ADD     TMP           ..                                         IOPA0965    
      01431 -0763 00 0 00002         LGL     2             ..                                         IOPA0966    
      01432  0400 00 0 01440         ADD     TMP           ..                                         IOPA0967    
      01433 -0763 00 0 00001         LGL     1             ..                                         IOPA0968    
      01434  0020 00 7 00001         TRA     1,7           ..                                         IOPA0969    
                                                                                                      IOPA0970    
                                                                                                      IOPA0971    
      01435  3 00002 0 01500  RCLOCK IORT    MMDDHH,B,2    CHANNEL COMMAND TO READ CHRONOLOG CLOCK    IOPA0972    
      01436  000000000701     YEAR   BCI     1,000071      MUST BE CHANGED EVERY YEAR **************  IOPA0973    
      01437  0 00000 0 00000  60THS  PZE                                                              IOPA0974    
      01440  0 00000 0 00000  TMP    PZE                                                              IOPA0975    
                                                                                                      IOPA0976    
      01441  464725512163     SETMDH BCI     9,OPERATOR ENTER BCD MONTH, DAY, HOUR IN KEYS, FORMAT MM IOPA0977    
      01452  242430303360            BCI     3,DDHH. PRESS START.                                     IOPA0978    
      01455  254563255160     SETMS6 BCI     9,ENTER BCD MINUTE, SECOND, 60TH IN KEYS, FORMAT MMSS66. IOPA0979    
      01466  604751256262            BCI     2, PRESS START.                                          IOPA0980    
      01470  233051464546     CLKBAD BCI     /CHRONOLOG CLOCK MALFUNCTIONING. CLOCK READ '/           IOPA0981    
      01500  444424243030     MMDDHH BCI     1,MMDDHH                                                 IOPA0982    
      01501  444462620606     MMSS66 BCI     1,MMSS66                                                 IOPA0983    
      01502  146021636057            BCI     /' AT /                                                  IOPA0984    
      01503  303044443344            BCI     1,HHMM.M                                                 IOPA0985    
                                                                                                      IOPA0986    
                       01313         ORG     RDCLOC        CLOCK READ ROUTINE IS OVERLAPPED           IOPA0987    
                                                                                                      IOPA0988    
      01313                   STATBL BSS     STBL          STORAGE FOR ACTIVE FILE STATUS TABLE       IOPA0989    
      01674                   QUEUE1 BSS     1QL           STORAGE FOR DRUM STRATEGY MODULE           IOPA0990    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1924.6 PAGE 23    
                  
      02027                   QUEUE2 BSS     2QL           STORAGE FOR DISK STRATEGY MODULE           IOPA0991    
      02027                   QUEUE3 BSS     3QL           STORAGE FOR TAPE STRATEGY MODULE           IOPA0992    
                                                                                                      IOPA0993    
                                     END                                                              IOPA0995    
                  
        LITERALS  
      02060  000000000000     
      02061  000000000001     
      02062  000000007777     
      02063  000000777777     
      02064  000001000001     
      02065  000003000003     
      02066  000007000000     
      02067  016001777777     
      02070  077777000000     
      02071  400000000000     
      02072  700000377777     
      02073  777777770000     
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1924.6 PAGE 1     
                        POST PROCESSOR ASSEMBLY DATA  
                  
       2074 IS THE FIRST LOCATION NOT USED BY THIS PROGRAM  
                  
0REFERENCES TO DEFINED SYMBOLS      
          0      B    17,  531,  533, 1173, 1435
       1207      Z    17, 1321, 1322, 1331, 1333, 1334
          4     P0   636,  666,  667,  670,  671,  672,  673,  674
         10     P1   636,  646,  656,  666
         20     P2   636,  637,  647,  657,  667
         40     P3   636,  637,  643,  647,  653,  654,  657,  663,  667,  673
        100     P4   636,  640,  644,  650,  654,  660,  664,  670,  674
        200     P5   636,  640,  650,  660,  670
        400     P6   636,  641,  651,  661,  671
       1000     P7   636,  641,  651,  661,  671
       2000     P8   636,  642,  643,  644,  652,  653,  654,  662,  663,  664,  672,  673,  674
       4000     P9   636,  642,  652,  662,  672
        133    1QL    17,   71, 1674
          0    2QL    17,   72, 2027
         31    3QL    17,   73, 2027
       1423    DTB  1350, 1364
        626    NOP      
          2    P11   636,  656,  657,  660,  661,  662,  663,  664
          1    P12   636,  646,  647,  650,  651,  652,  653,  654
        467    SKP   643,  644,  645,  653,  655,  663,  664,  665,  673,  674,  675
       1440    TMP  1356, 1361, 1425, 1430, 1432
        756   7TAG   752
          0   BTOC   145,  147
        541   CARD   501,  535,  536,  541
        472   DONE   430,  461
        326   EXIT     0,  304
       1173   HOME   106,  107,  110
        532   IOCD   507
        625   MQ.T   436,  467
        522   PEND   477,  504,  515
        511   PNOW   502
        623   PRSW   360,  363,  376,  411,  473
        523   PRX1   377
        524   PRX2   400
        525   PRX4   401,  403
        512   SPRA   416,  517
        506   SPRX   417
        361   STBL    17,   70, 1313
       1436   YEAR  1374
       1437  60THS  1363, 1367
        355  A1BAD   350,  351
        204  ATRAP    53
        217  BTRAP    54
        573  CBUF1   531,  540,  542
        543  CBUF2   421,  533,  537,  541
        636  CHRTB   441,  636
          5  CLOCK    17,  112,  125,  175, 1116
       1146  CMXSI   677,  710,  713,  722
          1  CTIME  1404
      10624  DELAY    17, 1324
       1143  DELTA  1124, 1130, 1133
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1924.6 PAGE 2     
                        POST PROCESSOR ASSEMBLY DATA  
                  
       1023  ENBSW    20,  740,  742,  774,  776
        344  EXIT1   355,  356
       1163  FERTN   275,  277,  300
         36  FIRST    30,   40
       1162  KEYSW   142,  144,  171
       1217  KREAD   146,  150,  152
        531  PRCM1   530,  535
        533  PRCM2   527
       1156  PRCOL   424,  451,  466
        531  PRCOM   513,  531
        357  PRINT     0,  302,  330
        531  PUCOM   476,  535
        362  PUNCH     0,  361
         10  SETAB   105
         17  SETIO     0
        115  SETX1    22
        116  SETX2    23
        117  SETX4    24
        631  SPRA9   516
       1310  TCOAB   261,  262, 1311
         12  TRAPA   212, 1103
         13  TRAPB   225
       1152  TRPMQ   762, 1016
       1155  TRPOV   766,  770, 1020
       1151  TRPSI   761, 1017
       1154  TRPSQ   765, 1011
          5  USTAT    67
        377  WPRPU   367
        357  WRFLX     0,  357
         13 ADCTRP    17,   56, 1030, 1031, 1041, 1064, 1065, 1073
       1115 ADDTIM   172,  240,  247
        773 ALLRST     0,  200,  233, 1111
        737 ALLSAV     0,  132,  207,  222,  724, 1102
        772 ALLXR4   743, 1000
       1144 ATLOST   704,  725,  730, 1025, 1037, 1077, 1104, 1106, 1110
        212 ATRAP1   731
         12 ATRLOC    17,  210, 1036
       1157 AUTHOR    26,  101
       1403 BADCLK  1332
        160 BADKEY   156
         15 BDCTRP    17,   57
         14 BTRLOC    17,  223
       1076 CHKCHA   371
          4 CHNGUS    65
       1112 CKXIR4  1101
       1470 CLKBAD  1407
       1161 CLKEYS   136,  137,  153,  163,  167
        127 CLKINT    52
          6 CLKLOC    17,  133
       1172 CLKTIM   122,  174, 1117
          7 CLKTRP    17,   55
        676 CMEXIT     0,  201,  234
        713 CMRTNB   707
       1145 CMXRTN   702,  712,  717
       1136 DATEYR    62,  243, 1375
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1924.6 PAGE 3     
                        POST PROCESSOR ASSEMBLY DATA  
                  
        624 DONESW   431,  472,  514
       1140 ELAPSE   251,  252, 1132, 1134
       1114 ENABLE     0,   32,   33,   64,  120,  244,  253,  260,  323,  372,  711,  714,  735
       1167 ENBIFA    35, 1032, 1066
        375 EPRINT     0,  151,  160,  164, 1406, 1410, 1415
       1223 EXITMS   331
        274 FERRTN     0
        320 FILOCK   316
        732 FILXIT     0
       1071 FORGET  1063
        246 GETELT     0
        237 GETIME     0
         61 HITRAP    17,   43,   44,   47,   50,  337,  341, 1225
        325 IGNINT   315,  317,  321
        233 IGNTRP   214,  227
        277 IOERTN    61
         14 IOFINI   326
          3 IOINIT    60
       1207 KEYSNG   161
        163 KEYSOK   157
        171 KEYSUP   141
       1307 LDFIOP   346
       1500 MMDDHH  1317, 1326, 1336, 1346, 1372, 1414, 1435
       1501 MMSS66  1320, 1353, 1405, 1421
       1174 NOERTN   303
        537 ORINBT   454,  537
       1201 PP21UP   165
          2 PRNTER   301
        500 PRNT.1   474
        420 PRPU.1   412
        432 PRPU.2   410,  471
        434 PRPU.3   470
        466 PRPU.4   462,  521
        473 PRPU.5   465
        373 PRPUX4   364
        514 PRT2.2   510
       1674 QUEUE1    71
       2027 QUEUE2    72
       2027 QUEUE3    73
       1336 RCLK4A  1345
       1376 RCLKX1  1315
       1377 RCLKX2  1314
       1400 RCLKX4  1313
       1317 RCLOC1  1402
       1324 RCLOC2  1330
       1333 RCLOC3  1327
       1335 RCLOC4  1422
       1340 RCLOC5  1344
       1355 RCLOC6  1370
       1402 RCLOC8  1343, 1352, 1366
       1435 RCLOCK  1322
       1313 RDCLOC    37, 1313
        231 RECTRP   216
       1072 RSCHA1  1070
       1047 RSTCHA   522
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1924.6 PAGE 4     
                        POST PROCESSOR ASSEMBLY DATA  
                  
       1074 RSTCX4  1047
       1160 RTNLOC   134,  203,  211,  213,  224,  226,  231,  236,  721,  727
       1024 SAVCHA   402
       1307 SAVFMS    45,  340
       1142 SAVTOT  1122, 1125, 1126
       1441 SETMDH  1411
       1455 SETMS6  1416
          6 SETRAP    74
          7 SETUSR    76
        720 SIMTRP   705
        172 SKPKEY   143,  162,  170
        626 SPRTBL   415,  626
        322 SSTIR4   312
        310 SSTRAP    75
       1313 STATBL    70
        122 STCLOC   114,  177
        730 STZ.A)     0
       1040 SVCHA1  1034
       1042 SVCHA2  1026
       1165 SVCHAN  1042, 1051
       1166 SVIOCK  1043, 1045, 1060
         11 TAPKEY   166
        305 TILOCK     0
       1137 TIMNOW    63,  111,  113,  242, 1127, 1131, 1371, 1403
       1141 TOTTIM   173,  176, 1121
       1167 TPFLAG   232,  264,  265, 1107, 1170
        255 TPWAIT     0
       1001 TRPIR1   744
       1002 TRPIR2   745
       1003 TRPIR3   746,  755
       1147 TRPIR4   131,  202,  206,  221,  235,  723
       1004 TRPIR5   756
       1005 TRPIR6   757
       1006 TRPIR7   760
       1153 TRPLAC   763, 1015
       1150 TRPMTM   751,  753, 1007
       1035 TSTRAP  1027
        266 TWATX4   255
       1164 UILOCK   306,  320,  324
        375 WRTOPR     0,  375
                  
0 NO ERROR IN ABOVE ASSEMBLY. 




IOPB2C   BCD 03/18/71 2011.8   22148         00000    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1925.8 PAGE 1     
                  
                                                                                                      IOPB0003    
                       00017         ENTRY   SETIO         TO INITIALIZE IOPAC AND FILE SYSTEM        IOPB0004    
                       00256         ENTRY   GETIME        TO GET DATE AND TIME OF DAY                IOPB0005    
                       00265         ENTRY   GETELT        TO GET ELAPSE TIME SINCE LAST CALL         IOPB0006    
                       00274         ENTRY   TPWAIT        TO WAIT AND CHECK CHANNEL FLAGS            IOPB0007    
                       00313         ENTRY   FERRTN        TO SET RETURN FOR UNDEFINED ERRORS         IOPB0008    
                       00324         ENTRY   TILOCK        TO SET RETURN ON INTERLOCKED FILES         IOPB0009    
                       00345         ENTRY   EXIT          TO UPDATE FILE SYSTEM AND TERMINATE        IOPB0010    
                       00357         ENTRY   PRINT         TO PRINT ON ON-LINE PRINTER                IOPB0011    
                       00362         ENTRY   PUNCH         TO PUNCH A CARD ON LINE                    IOPB0012    
                       00375         ENTRY   EPRINT        TO PRINT A LINE DURING A TRAP              IOPB0013    
                       00357         ENTRY   WRFLX         SYNONOMOUS WITH 'PRINT'                    IOPB0014    
                       00375         ENTRY   WRTOPR        SYNONYMOUS WITH 'EPRINT'                   IOPB0015    
                       00676         ENTRY   CMEXIT        TO RETURN TO INTERRUPTED PROGRAM           IOPB0016    
                       00730         ENTRY   STZ.A)        SPECIAL REFERENCE FROM TAPE ADAPTER        IOPB0017    
                       00732         ENTRY   FILXIT        TO RETURN TO CALLER OF FILE SYSTEM         IOPB0018    
                       00737         ENTRY   ALLSAV        TO SAVE MACHINE CONDITIONS ON TRAP         IOPB0019    
                       00773         ENTRY   ALLRST        TO RESTORE MACHINE CONDITIONS              IOPB0020    
                       01126         ENTRY   ENABLE        POINTER ENTRY TO COMMON ENABLE WORD        IOPB0021    
                                                                                                      IOPB0022    
                                     EXTERN  BTOC,CTIME,PRNTER                                        IOPB0023    
                                                                                                      IOPB0024    
                  
        TRANSFER VECTOR 
      00000  226346236060     BTOC  
      00001  236331442560     CTIME 
      00002  475145632551     PRNTER
      00003  314631453163     IOINIT
      00004  233045276462     CHNGUS
      00005  646263216360     USTAT 
      00006  622563512147     SETRAP
      00007  622563646251     SETUSR
      00010  622563212260     SETAB 
      00011  632147422570     TAPKEY
      00012  635121472160     TRAPA 
      00013  635121472260     TRAPB 
      00014  314626314531     IOFINI
                  
        LINKAGE DIRECTOR
      00015  000000000000     
      00016  622563314660     
                  
                      000061  HITRAP BOOL    61            HIGHEST CHANNEL INTERRUPT LOCATION         IOPB0025    
                       01207  Z      TAPENO  A7            CHRONOLOG CLOCK SET AS TAPE A7             IOPB0026    
                       10624  DELAY  EQU     4500          9 MILLESECOND DELAY AFTER READING CHRONOLOGIOPB0027    
                       00005  CLOCK  EQU     5             INTERVAL TIMER AND INTERRUPT CLOCK         IOPB0028    
                       00006  CLKLOC EQU     6             ILC SVAED HERE ON CLOCK TRAP               IOPB0029    
                       00007  CLKTRP EQU     7             TRANSFER FROM HERE ON CLOCK TRAP           IOPB0030    
                       00012  ATRLOC EQU     10            ILC SAVED HERE ON CHANNEL 'A' TRAP         IOPB0031    
                       00013  ADCTRP EQU     11            TRANSFER FROM HERE ON CHANNEL 'A' TRAP     IOPB0032    
                       00014  BTRLOC EQU     12            ILC SAVED HERE ON CHANNEL 'B' TRAP         IOPB0033    
                       00015  BDCTRP EQU     13            TRANSFER FROM HERE ON CHANNEL 'B' TRAP     IOPB0034    
                       00001  B      EQU     1             MEMORY B SWITCH, ('0' FOR A, '1' FOR B)    IOPB0035    
                       00361  STBL   EQU     21+10*22      A.F.S.T. LENGTH, SPACE FOR 10 FILES        IOPB0036    
                       00133  1QL    EQU     1+9*10        DISK/DRUM QUEUE LENGTH                     IOPB0037    
                       00000  2QL    EQU     0             NULL QUEUE (DISK USES DRUM QUEUE)          IOPB0038    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1925.8 PAGE 2     
                  
                       00031  3QL    EQU     25            TAPE QUEUE LENGTH                          IOPB0039    
                                                                                                      IOPB0040    
                              OVLBGN MACRO                 MACRO USED AT BEGINNING OF SECTION         IOPB0041    
                                     UNLIST                .. TO BE OVER WRITTEN                      IOPB0042    
                              OVLORG SET     *             SAVE CURRENT LOCATION COUNTER              IOPB0043    
                              OVLBGN END                                                              IOPB0044    
                                                                                                      IOPB0045    
                              OVLEND MACRO                 MACRO USED AT END OF SECTION               IOPB0046    
                                     ORG     OVLORG        .. TO BE OVER WRITTEN                      IOPB0047    
                                     LIST                  ..                                         IOPB0048    
                              OVLEND END                                                              IOPB0049    
                                                                                                      IOPB0050    
                              WHEN   MACRO   A,TFIND,LOC,OP,ADDR,TAG,DECR    WHENEVER MACRO           IOPB0051    
                                     IFF     1,TFIND,T                                                IOPB0052    
                                     GENIF   A,0,0,LOC,OP,ADDR,TAG,DECR,                              IOPB0053    
                                     IFF     1,TFIND,F                                                IOPB0054    
                                     GENIF   A,0,1,LOC,OP,ADDR,TAG,DECR,                              IOPB0055    
                              WHEN   END                                                              IOPB0056    
                                                                                                      IOPB0057    
                              GENIF  MACRO   IF1,IF2,IF3,LOC,OP,ADDR,TAG,DECR                         IOPB0058    
                                     IFF     IF1,IF2,IF3                                              IOPB0059    
                                     GENOP   LOC,OP,ADDR,TAG,DECR,                                    IOPB0060    
                              GENIF  END                                                              IOPB0061    
                                                                                                      IOPB0062    
                              GENOP  MACRO   LOC,OP,ADDR,TAG,DECR    GENERATE OPERATION               IOPB0063    
                                     PMC     ON                                                       IOPB0064    
                              LOC    OP      ADDR,TAG,DECR                                            IOPB0065    
                                     PMC     OFF                                                      IOPB0066    
                              GENOP  END                                                              IOPB0067    
                                                                                                      IOPB0068    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1925.8 PAGE 3     
                  
                                                                                                      IOPB0070    
                                             SETIO ..... INITIALIZE FILE SYSTEM AND I/O PACKAGE       IOPB0071    
                                                                                                      IOPB0072    
      00017  0564 00 0 02074  SETIO  ENB     =0            ENTRY TO INITIALIZE IOPAC AND FILE SYSTEM  IOPB0073    
      00020 -0625 00 0 01023         STL     ENBSW         INDICATE TO ALLSAV THAT TRAPS ARE LEGAL    IOPB0074    
      00021  0760 00 0 00016         LMTM                  INSURE 7-TAG (7094) MODE                   IOPB0075    
      00022  0634 00 1 00117         SXA     SETX1,1                                                  IOPB0076    
      00023  0634 00 2 00120         SXA     SETX2,2                                                  IOPB0077    
      00024  0634 00 4 00121         SXA     SETX4,4                                                  IOPB0078    
      00025 -0500 60 4 00001         CAL*    1,4           PICK UP AUTHOR FROM CALLER                 IOPB0079    
      00026  0602 00 0 01173         SLW     AUTHOR        ..                                         IOPB0080    
      00027  0500 00 4 00001         CLA     1,4           CHECK IF TAPE STRATEGY NEEDED              IOPB0081    
      00030 -0120 00 0 00036         TMI     FIRST         SKIP IF TAPE STRATEGY NOT NEEDED           IOPB0082    
      00031 -0500 00 0 02101         CAL     =O3000003     OTHERWISE SET UP TRAPS FOR TAPE STRATEGY   IOPB0083    
      00032 -0602 00 0 01126         ORS     ENABLE        ..                                         IOPB0084    
      00033 -0500 00 0 01126         CAL     ENABLE        SET UP ENABLE FOR CHANNEL 'A' ONLY         IOPB0085    
      00034 -0320 00 0 02100         ANA     =O1000001     ..                                         IOPB0086    
      00035  0602 00 0 01203         SLW     ENBIFA        .. ONLY IF CHANNEL 'A' ENABLED ALREADY     IOPB0087    
                                                                                                      IOPB0088    
      00036  0020 00 0 00037  FIRST  TRA     *+1           FIRST PASS SWITCH                          IOPB0089    
      00037  0074 00 4 01327         TSX     RDCLOC,4      READ CHRONOLOG CLOCK FIRST TIME ONLY       IOPB0090    
      00040 -0625 00 0 00036         STL     FIRST         AND CLOSE THIS PATH                        IOPB0091    
      00041  0760 00 0 01352         RDCA                  RESET DATA CHANNEL 'A'                     IOPB0092    
      00042  0760 00 0 02352         RDCB                  RESET DATA CHANNEL 'B'                     IOPB0093    
                                                                                                      IOPB0094    
      00043                          WHEN    B,T,,OVLBGN,,,,,                                         IOPB0095    
      00043                          OVLBGN  ,,                                                       IOPB0095.003
                                     UNLIST                                                           IOPB0095.004
                  
                                                                                                      IOPB0103    
      00043  0774 00 4 00062         AXT     HITRAP+1,4    CLEAR OUT TRAP AND INTERRUPT LOCATIONS     IOPB0104    
      00044                          WHEN    B,T,,SEA,,,,,                                            IOPB0105    
      00044 -0761 00 0 00041         SEA     ,,                                                       IOPB0105.003
      00045  0600 00 4 00062         STZ     HITRAP+1,4    ..                                         IOPB0106    
      00046  2 00001 4 00045         TIX     *-1,4,1       ..                                         IOPB0107    
      00047                          WHEN    B,T,,SEB,,,,,                                            IOPB0108    
      00047 -0761 00 0 00042         SEB     ,,                                                       IOPB0108.003
      00050 -0500 00 0 00133         CAL     CLKINT        SET FOR FOR INTERVAL TIMER CLOCK TRAP      IOPB0109    
      00051  0560 00 0 00215         LDQ     ATRAP         .. CHANNEL 'A' TRAP                        IOPB0110    
      00052  0441 00 0 00233         LDI     BTRAP         .. AND CHANNEL 'B' TRAP                    IOPB0111    
      00053                          WHEN    B,T,,SEA,,,,,                                            IOPB0112    
      00053 -0761 00 0 00041         SEA     ,,                                                       IOPB0112.003
      00054  0602 00 0 00007         SLW     CLKTRP        .. CLOCK TRAP                              IOPB0113    
      00055 -0600 00 0 00013         STQ     ADCTRP        .. CHANNEL 'A' TRAP                        IOPB0114    
      00056  0604 00 0 00015         STI     BDCTRP        .. CHANNEL 'B' TRAP                        IOPB0115    
      00057                          WHEN    B,T,,SEB,,,,,                                            IOPB0116    
      00057 -0761 00 0 00042         SEB     ,,                                                       IOPB0116.003
                                                                                                      IOPB0117    
                                             ..... INITIALIZE FILE I/O SYSTEM ........................IOPB0118    
                                                                                                      IOPB0119    
      00060  0074 00 4 00003         TSX     $IOINIT,4     FILE SYSTEM INITIALIZATION ENTRY           IOPB0120    
      00061  3 00000 0 00316         PTH     IOERTN        .. ERROR RETURN                            IOPB0121    
      00062  3 00000 0 01152         PTH     DATEYR        .. TODAY'S DATE IN BCD                     IOPB0122    
      00063  3 00000 0 01153         PTH     TIMNOW        .. TIME OF DAY IN 60THS OF A SECOND        IOPB0123    
      00064  3 00000 0 01126         PTH     ENABLE        .. COMMON ENABLE WORD                      IOPB0124    
      00065  0074 00 4 00004         TSX     $CHNGUS,4     SET USER NO. 1 AS USER OF FILE SYSTEM      IOPB0125    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1925.8 PAGE 4     
                  
      00066  3 00000 0 02075         PTH     =1            ..                                         IOPB0126    
      00067  0074 00 4 00005         TSX     $USTAT,4      SET UP STORAGE FOR FILE SYSTEM             IOPB0127    
      00070  3 00361 0 01327         PTH     STATBL,,STBL  ..                                         IOPB0128    
      00071  3 00133 0 01710         PTH     QUEUE1,,1QL   ..                                         IOPB0129    
      00072  3 00000 0 02043         PTH     QUEUE2,,2QL   ..                                         IOPB0130    
      00073  3 00031 0 02043         PTH     QUEUE3,,3QL   ..                                         IOPB0131    
      00074  0074 00 4 00006         TSX     $SETRAP,4     SET UP SUPERVISOR INTERRUPT LOCATION       IOPB0132    
      00075  3 00000 0 00327         PTH     SSTRAP        ..                                         IOPB0133    
      00076  0074 00 4 00007         TSX     $SETUSR,4     SET UP USER OPTIONS                        IOPB0134    
      00077  3 00000 0 02075         PTH     =1            .. FOR USER NO. 1                          IOPB0135    
      00100  3 00000 0 02103         PTH     =O016001777777 .. UNRESTRICTED USER (BACKGR)             IOPB0136    
      00101  3 00000 0 01173         PTH     AUTHOR        .. AUTHOR FROM CALL TO SETIO               IOPB0137    
      00102  3 00000 0 02104         PTH     =O77777000000 .. PROTECTION LIMITS IF NEEDED             IOPB0138    
      00103  3 00000 0 02074         PTH     =0            .. ZERO RELOCATION                         IOPB0139    
      00104  3 00000 0 02075         PTH     =1            .. GIVE USER HIGHEST PRIORITY              IOPB0140    
      00105  0074 00 4 00010         TSX     $SETAB,4      SET ALL ENTRIES TO COME FROM 'HOME' MEMORY IOPB0141    
      00106  3 00000 0 01207         PTH     HOME          ..                                         IOPB0142    
      00107  3 00000 0 01207         PTH     HOME          ..                                         IOPB0143    
      00110  3 00000 0 01207         PTH     HOME          ..                                         IOPB0144    
                                                                                                      IOPB0145    
      00111 -0500 00 0 01153         CAL     TIMNOW        COMPUTE ANY TIME WASTED IN INITIALIZATION  IOPB0146    
      00112                          WHEN    B,T,,SEA,,,,,                                            IOPB0147    
      00112 -0761 00 0 00041         SEA     ,,                                                       IOPB0147.003
      00113  0401 00 0 00005         ADM     CLOCK         ..                                         IOPB0148    
      00114                          WHEN    B,T,,SEB,,,,,                                            IOPB0149    
      00114 -0761 00 0 00042         SEB     ,,                                                       IOPB0149.003
      00115  0602 00 0 01153         SLW     TIMNOW        ..                                         IOPB0150    
                                                                                                      IOPB0151    
      00116  0074 00 4 00124         TSX     STCLOC,4      START UP INTERVAL TIMER CLOCK NOW          IOPB0152    
      00117  0774 00 1 00000  SETX1  AXT     **,1                                                     IOPB0153    
      00120  0774 00 2 00000  SETX2  AXT     **,2                                                     IOPB0154    
      00121  0774 00 4 00000  SETX4  AXT     **,4                                                     IOPB0155    
      00122  0564 00 0 01126         ENB     ENABLE        INSURE ALL TRAPS ENABLED                   IOPB0156    
      00123  0020 00 4 00002         TRA     2,4           AND RETURN                                 IOPB0157    
                                                                                                      IOPB0158    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1925.8 PAGE 5     
                  
                                                                                                      IOPB0160    
                                             STCLOC/CLKINT ....... BASIC CLOCK SECTION ...............IOPB0161    
                                                                                                      IOPB0162    
      00124 -0500 00 0 01206  STCLOC CAL     CLKTIM        RESTART CLOCK TO RUN FOR CLKTIM            IOPB0163    
      00125  0760 00 0 00006         COM                   ..                                         IOPB0164    
      00126  0400 00 0 02075         ADD     =1            ..                                         IOPB0165    
      00127                          WHEN    B,T,,SEA,,,,,                                            IOPB0166    
      00127 -0761 00 0 00041         SEA     ,,                                                       IOPB0166.003
      00130  0601 00 0 00005         STO     CLOCK         .. NOTE 'P' BIT NOT STORED                 IOPB0167    
      00131                          WHEN    B,T,,SEB,,,,,                                            IOPB0168    
      00131 -0761 00 0 00042         SEB     ,,                                                       IOPB0168.003
      00132  0020 00 4 00001         TRA     1,4           ..                                         IOPB0169    
                                                                                                      IOPB0170    
      00133                          WHEN    B,F,CLKINT,TTR,*+1,,,,                                   IOPB0171    
      00133                          WHEN    B,T,CLKINT,TIB,*+1,,,,                                   IOPB0172    
      00133 -0101 00 0 00134  CLKINT TIB     *+1,,                                                    IOPB0172.003
                                                                                                      IOPB0173    
      00134                          WHEN    B,T,,SEB,,,,,                                            IOPB0174    
      00134 -0761 00 0 00042         SEB     ,,                                                       IOPB0174.003
                                                                                                      IOPB0175    
      00135  0564 00 0 02074         ENB     =0            HERE ON ALL INTERVAL TIMER 'CLOCK' TRAPS   IOPB0176    
      00136  0634 00 4 01163         SXA     TRPIR4,4      SAVE IR4                                   IOPB0177    
      00137  0074 00 4 00737         TSX     ALLSAV,4      AND REST OF MACHINE CONDITIONS             IOPB0178    
      00140                          WHEN    B,T,,SEA,,,,, PICK UP TRAP FLAGS                         IOPB0179    
      00140 -0761 00 0 00041         SEA     ,,                                                       IOPB0179.003
      00141 -0500 00 0 00006         CAL     CLKLOC        ..                                         IOPB0180    
      00142                          WHEN    B,T,,SEB,,,,, ..                                         IOPB0181    
      00142 -0761 00 0 00042         SEB     ,,                                                       IOPB0181.003
      00143  0602 00 0 01174         SLW     RTNLOC        ..                                         IOPB0182    
      00144  0760 00 0 00004         ENK                   PICK UP CONSOLE KEYS                       IOPB0183    
      00145 -0600 00 0 01175         STQ     CLKEYS        SAVE KEYS                                  IOPB0184    
      00146  0441 00 0 01175         LDI     CLKEYS        KEYS TO SI                                 IOPB0185    
      00147  0056 00  040000         RNT     40000         IS KEY '21' DOWN                           IOPB0186    
      00150  0020 00 0 00200         TRA     KEYSUP        NO, SKIP                                   IOPB0187    
      00151  0520 00 0 01176         ZET     KEYSW         YES, IS THIS A PREVIOUS REQUEST            IOPB0188    
      00152  0020 00 0 00201         TRA     SKPKEY        YES, IGNORE REDUNDANT REQUEST              IOPB0189    
      00153 -0625 00 0 01176         STL     KEYSW         NO, SERVICE NEW KEY REQUEST                IOPB0190    
      00154  0074 00 4 00000         TSX     BTOC,4        CONVERT LEFT-HALF MQ TO BCD                IOPB0191    
      00155  0602 00 0 01235         SLW     KREAD+2       ..                                         IOPB0192    
      00156  0074 00 4 00000         TSX     BTOC,4        RIGHT-HALF                                 IOPB0193    
      00157  0602 00 0 01236         SLW     KREAD+3       ..                                         IOPB0194    
      00160  0074 00 4 00375         TSX     EPRINT,4      PRINT MESSAGE                              IOPB0195    
      00161  1 00004 0 01233         PON     KREAD,,4      (DOUBLE SPACE)                             IOPB0196    
      00162 -0500 00 0 01175         CAL     CLKEYS        KEYS TO AC                                 IOPB0197    
      00163 -0320 00 0 02076         ANA     =O7777        IGNORE ALL BUT KEYS 24-35                  IOPB0198    
      00164  0734 00 4 00000         PAX     0,4           23-35 TO IR4                               IOPB0199    
      00165 -2 00006 4 00167         TNX     BADKEY,4,6    IGNORE FMS KEY SETTINGS (0-6)              IOPB0200    
      00166 -2 00004 4 00172         TNX     KEYSOK,4,4    SKIP IF KEYS SET FOR TAPE STRATEGY MODULE  IOPB0201    
      00167  0074 00 4 00375  BADKEY TSX     EPRINT,4      PRINT 'ILLEGAL KEY SETTING, TRY AGAIN.'    IOPB0202    
      00170  0 00010 0 01223                 KEYSNG,,8     ..                                         IOPB0203    
      00171  0020 00 0 00201         TRA     SKPKEY                                                   IOPB0204    
                                                                                                      IOPB0205    
      00172  0634 00 4 01175  KEYSOK SXA     CLKEYS,4      SAVE KEY SETTING FOR TAPE STRATEGY MODULE  IOPB0206    
      00173  0074 00 4 00375         TSX     EPRINT,4      PRINT '****** PLEASE PUT KEY 21 UP ******' IOPB0207    
      00174  0 00006 0 01215                 PP21UP,,6     ..                                         IOPB0208    
      00175  0074 00 4 00011         TSX     $TAPKEY,4     CALL TAPE STRATEGY MODULE                  IOPB0209    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1925.8 PAGE 6     
                  
      00176  3 00000 0 01175         PTH     CLKEYS        .. WITH KEY SETTING                        IOPB0210    
      00177  0020 00 0 00201         TRA     SKPKEY                                                   IOPB0211    
                                                                                                      IOPB0212    
      00200  0600 00 0 01176  KEYSUP STZ     KEYSW         HERE IF KEY 21 UP, RESET SWITCH            IOPB0213    
                                                                                                      IOPB0214    
      00201  0074 00 4 01127  SKPKEY TSX     ADDTIM,4      UPDATE TIME COUNTERS                       IOPB0215    
      00202 -0500 00 0 01155         CAL     TOTTIM        UPDATE TOTAL TIME SYSTEM HAS RUN           IOPB0216    
      00203  0400 00 0 01206         ADD     CLKTIM        ..                                         IOPB0217    
      00204                          WHEN    B,T,,SEA,,,,,                                            IOPB0218    
      00204 -0761 00 0 00041         SEA     ,,                                                       IOPB0218.003
      00205  0401 00 0 00005         ADM     CLOCK         ..                                         IOPB0219    
      00206                          WHEN    B,T,,SEB,,,,,                                            IOPB0220    
      00206 -0761 00 0 00042         SEB     ,,                                                       IOPB0220.003
      00207  0602 00 0 01155         SLW     TOTTIM        ..                                         IOPB0221    
      00210  0074 00 4 00124         TSX     STCLOC,4      RESTART INTERVAL TIMER FOR 'CLKTIM'        IOPB0222    
      00211  0074 00 4 00773         TSX     ALLRST,4      RESTORE USER'S MACHINE CONDITIONS          IOPB0223    
      00212  0074 00 4 00676         TSX     CMEXIT,4      AND RETURN TO INTERRUPTED PROGRAM          IOPB0224    
      00213  0534 00 4 01163         LXA     TRPIR4,4      ..                                         IOPB0225    
      00214  0 00000 0 01174                 RTNLOC        ..                                         IOPB0226    
                                                                                                      IOPB0227    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPB0228    
                                                                                                      IOPB0229    
                                             ... ATRAP/BTRAP ... RECORD TRAPS FROM CHANNELS A AND B ..IOPB0230    
                                                                                                      IOPB0231    
      00215                          WHEN    B,F,ATRAP,TTR,*+1,,,,                                    IOPB0232    
      00215                          WHEN    B,T,ATRAP,TIB,*+1,,,,                                    IOPB0233    
      00215 -0101 00 0 00216  ATRAP  TIB     *+1,,                                                    IOPB0233.003
                                                                                                      IOPB0234    
      00216                          WHEN    B,T,,SEB,,,,,                                            IOPB0235    
      00216 -0761 00 0 00042         SEB     ,,                                                       IOPB0235.003
                                                                                                      IOPB0236    
      00217  0564 00 0 02074         ENB     =0            HERE FOR TRAP FROM CHANNEL 'A'             IOPB0237    
      00220  0634 00 4 01163         SXA     TRPIR4,4      SAVE IR4                                   IOPB0238    
      00221  0074 00 4 00737         TSX     ALLSAV,4      AND REST OF MACHINE CONDITIONS             IOPB0239    
      00222                          WHEN    B,T,,SEA,,,,, PICK UP TRAP FLAGS                         IOPB0240    
      00222 -0761 00 0 00041         SEA     ,,                                                       IOPB0240.003
      00223 -0500 00 0 00012         CAL     ATRLOC        ..                                         IOPB0241    
      00224                          WHEN    B,T,,SEB,,,,, ..                                         IOPB0242    
      00224 -0761 00 0 00042         SEB     ,,                                                       IOPB0242.003
      00225  0602 00 0 01174         SLW     RTNLOC        ..                                         IOPB0243    
      00226  0074 00 4 00012  ATRAP1 TSX     $TRAPA,4      GIVE TRAP TO TAPE I/O ADAPTER              IOPB0244    
      00227  3 00000 0 01174         PTH     RTNLOC        ..                                         IOPB0245    
      00230  0020 00 0 00252         TRA     IGNTRP        SKIP IF TRAP TAKEN BY ADAPTER              IOPB0246    
      00231 -0774 00 1 00001         AXC     1,1           POINTER TO TRAP FLAGS FOR CHANNEL A        IOPB0247    
      00232  0020 00 0 00250         TRA     RECTRP        AND RECORD THIS TRAP                       IOPB0248    
                                                                                                      IOPB0249    
      00233                          WHEN    B,F,BTRAP,TTR,*+1,,,,                                    IOPB0250    
      00233                          WHEN    B,T,BTRAP,TIB,*+1,,,,                                    IOPB0251    
      00233 -0101 00 0 00234  BTRAP  TIB     *+1,,                                                    IOPB0251.003
                                                                                                      IOPB0252    
      00234                          WHEN    B,T,,SEB,,,,,                                            IOPB0253    
      00234 -0761 00 0 00042         SEB     ,,                                                       IOPB0253.003
                                                                                                      IOPB0254    
      00235  0564 00 0 02074         ENB     =0            HERE FOR TRAP FROM CHANNEL 'B'             IOPB0255    
      00236  0634 00 4 01163         SXA     TRPIR4,4      SAVE IR4                                   IOPB0256    
      00237  0074 00 4 00737         TSX     ALLSAV,4      AND REST OF MACHINE CONDITIONS             IOPB0257    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1925.8 PAGE 7     
                  
      00240                          WHEN    B,T,,SEA,,,,, PICK UP TRAP FLAGS                         IOPB0258    
      00240 -0761 00 0 00041         SEA     ,,                                                       IOPB0258.003
      00241 -0500 00 0 00014         CAL     BTRLOC        ..                                         IOPB0259    
      00242                          WHEN    B,T,,SEB,,,,, ..                                         IOPB0260    
      00242 -0761 00 0 00042         SEB     ,,                                                       IOPB0260.003
      00243  0602 00 0 01174         SLW     RTNLOC        ..                                         IOPB0261    
      00244  0074 00 4 00013         TSX     $TRAPB,4      GIVE TRAP TO TAPE I/O ADAPTER              IOPB0262    
      00245  3 00000 0 01174         PTH     RTNLOC        ..                                         IOPB0263    
      00246  0020 00 0 00252         TRA     IGNTRP        SKIP IF TRAP TAKEN BY ADAPTER              IOPB0264    
      00247 -0774 00 1 00002         AXC     2,1           POINTER TO TRAP FLAGS FOR CHANNEL B        IOPB0265    
                                                                                                      IOPB0266    
      00250 -0500 00 0 01174  RECTRP CAL     RTNLOC        RECORD TRAP FLAGS FOR 'TPWAIT'             IOPB0267    
      00251 -0602 00 1 01203         ORS     TPFLAG,1      ..                                         IOPB0268    
      00252  0074 00 4 00773  IGNTRP TSX     ALLRST,4      RESTORE USER'S MACHINE CONDITIONS          IOPB0269    
      00253  0074 00 4 00676         TSX     CMEXIT,4      RETURN TO INTERRUPTED PROGRAM              IOPB0270    
      00254  0534 00 4 01163         LXA     TRPIR4,4      ..                                         IOPB0271    
      00255  0 00000 0 01174                 RTNLOC        ..                                         IOPB0272    
                                                                                                      IOPB0273    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1925.8 PAGE 8     
                  
                                                                                                      IOPB0275    
                                             ... GETIME ... RETURN TIME OF DAY IN LAC AND DATE IN MQ .IOPB0276    
                                                                                                      IOPB0277    
      00256  0634 00 4 00260  GETIME SXA     *+2,4                                                    IOPB0278    
      00257  0074 00 4 01127         TSX     ADDTIM,4      COMPUTE TIME TO NEAREST 60TH OF A SECOND   IOPB0279    
      00260  0774 00 4 00000         AXT     **,4                                                     IOPB0280    
      00261 -0500 00 0 01153         CAL     TIMNOW        RETURN TIME OF DAY IN LOGICAL AC           IOPB0281    
      00262  0560 00 0 01152         LDQ     DATEYR        AND DATE IN MQ                             IOPB0282    
      00263  0564 00 0 01126         ENB     ENABLE        REENABLE                                   IOPB0283    
      00264  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPB0284    
                                                                                                      IOPB0285    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPB0286    
                                                                                                      IOPB0287    
                                             ... GETELT ... RETURN ELAPSE TIME IN LOGICAL AC ........ IOPB0288    
                                                                                                      IOPB0289    
      00265  0634 00 4 00267  GETELT SXA     *+2,4                                                    IOPB0290    
      00266  0074 00 4 01127         TSX     ADDTIM,4      COMPUTE TIME TO NEAREST 60TH OF A SECOND   IOPB0291    
      00267  0774 00 4 00000         AXT     **,4                                                     IOPB0292    
      00270 -0500 00 0 01154         CAL     ELAPSE        RETURN ELAPSE TIME IN LOGICAL AC           IOPB0293    
      00271  0600 00 0 01154         STZ     ELAPSE        AND RESET ELAPSE TIME                      IOPB0294    
      00272  0564 00 0 01126         ENB     ENABLE        REENABLE                                   IOPB0295    
      00273  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPB0296    
                                                                                                      IOPB0297    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPB0298    
                                                                                                      IOPB0299    
                                             ... TPWAIT ... WAIT ON CHANNEL AND CHECK FLAGS ..........IOPB0300    
                                                                                                      IOPB0301    
      00274  0634 00 4 00305  TPWAIT SXA     TWATX4,4                                                 IOPB0302    
      00275 -0500 00 4 00001         CAL     1,4           PZE CHANNO                                 IOPB0303    
      00276  0737 00 4 00000         PAC     0,4           -CHANNEL NO. TO IR4                        IOPB0304    
      00277  0564 00 0 01126         ENB     ENABLE        INSURE ALL CHANNELS ENABLED                IOPB0305    
      00300 -0625 00 4 01324         STL     TCOAB,4       WAIT ON CHANNEL                            IOPB0306    
      00301  0522 00 4 01324         XEC     TCOAB,4       ..                                         IOPB0307    
      00302  0761 00 0 00000         NOP                   INSURE ALL TRAPS TAKEN                     IOPB0308    
      00303  0441 00 4 01203         LDI     TPFLAG,4      PICK UP CHANNEL STATUS FLAGS               IOPB0309    
      00304  0600 00 4 01203         STZ     TPFLAG,4      .. AND RESET THEM                          IOPB0310    
      00305  0774 00 4 00000  TWATX4 AXT     **,4          RESTORE CALLER'S IR4                       IOPB0311    
      00306 -0054 00  000002         LFT     2             WAS REDUNDANCY CHECK FLAG ON               IOPB0312    
      00307  0020 00 4 00002         TRA     2,4           YES, TAKE TAPE CHECK EXIT (2,4)            IOPB0313    
      00310 -0054 00  000004         LFT     4             NO, WAS EOF FLAG ON                        IOPB0314    
      00311  0020 00 4 00003         TRA     3,4           YES, TAKE EOF EXIT (3,4)                   IOPB0315    
      00312  0020 00 4 00004         TRA     4,4           NO, TAKE NORMAL EXIT (4,4)                 IOPB0316    
                                                                                                      IOPB0317    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1925.8 PAGE 9     
                  
                                                                                                      IOPB0319    
                                             ... FERRTN ... SET RETURN FOR UNDEFINED ERRORS           IOPB0320    
                                                                                                      IOPB0321    
      00313 -0500 00 4 00001  FERRTN CAL     1,4           ERROR RETURN LOCATION (PZE RTNLOC)         IOPB0322    
      00314  0621 00 0 01177         STA     FERTN         SAVE IT                                    IOPB0323    
      00315  0020 00 4 00002         TRA     2,4           AND RETURN                                 IOPB0324    
                                                                                                      IOPB0325    
      00316  0520 00 0 01177  IOERTN ZET     FERTN         HERE FOR ERROR RETURN FROM FILE SYSTEM     IOPB0326    
      00317  0020 60 0 01177         TRA*    FERTN         TAKE USER EXIT IF SPECIFIED                IOPB0327    
      00320  0074 00 4 00002         TSX     PRNTER,4      OTHERWISE, PRINT FILE SYSTEM ERROR MESSAGE IOPB0328    
      00321  0074 00 4 00357         TSX     PRINT,4       PRINT 'NO ERROR RETURN SPECIFIED'          IOPB0329    
      00322  0 00005 0 01210                 NOERTN,,5     ..                                         IOPB0330    
      00323  0020 00 0 00345         TRA     EXIT          AND EXIT                                   IOPB0331    
                                                                                                      IOPB0332    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPB0333    
                                                                                                      IOPB0334    
                                             ... TILOCK ... SET RETURN ON INTERLOCKED FILES           IOPB0335    
                                                                                                      IOPB0336    
      00324 -0500 00 4 00001  TILOCK CAL     1,4           INTERLOCK RETURN LOCATION (PZE RTNLOC)     IOPB0337    
      00325  0621 00 0 01200         STA     UILOCK        SAVE IT                                    IOPB0338    
      00326  0020 00 4 00002         TRA     2,4           AND RETURN                                 IOPB0339    
                                                                                                      IOPB0340    
      00327  0564 00 0 02074  SSTRAP ENB     =0            HERE ON INTERRUPT FROM FILE SYSTEM         IOPB0341    
      00330 -0500 60 4 00003         CAL*    3,4           PICK UP USER'S IR4 FROM CALL               IOPB0342    
      00331  0621 00 0 00341         STA     SSTIR4        SAVE USER'S IR4                            IOPB0343    
      00332 -0500 60 4 00002         CAL*    2,4           PICK UP INTERRUPT CODE (1-6)               IOPB0344    
      00333  0734 00 5 00000         PAX     0,5           INTO IR5                                   IOPB0345    
      00334 -3 00003 5 00344         TXL     IGNINT,5,3    IGNORE CODES 1-3                           IOPB0346    
      00335 -3 00004 5 00337         TXL     FILOCK,5,4    SKIP ON FILE INTERLOCKED (CODE 4)          IOPB0347    
      00336  0020 00 0 00344         TRA     IGNINT        IGNORE ALL OTHER INTERRUPT CODES           IOPB0348    
                                                                                                      IOPB0349    
      00337 -0520 00 0 01200  FILOCK NZT     UILOCK        HAS USER SPECIFIED INTERLOCKED RETURN      IOPB0350    
      00340  0020 00 0 00344         TRA     IGNINT        NO, IGNORE INTERRUPT                       IOPB0351    
      00341  0774 00 4 00000  SSTIR4 AXT     **,4          YES, RESTORE USER'S IR4                    IOPB0352    
      00342  0564 00 0 01126         ENB     ENABLE        RE-ENABLE ALL TRAPS                        IOPB0353    
      00343  0020 60 0 01200         TRA*    UILOCK        AND TAKE USER INTERLOCKED RETURN           IOPB0354    
                                                                                                      IOPB0355    
      00344  0020 00 4 00006  IGNINT TRA     6,4           HERE TO IGNORE INTERRUPT FROM FILE SYS.    IOPB0356    
                                                                                                      IOPB0357    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1925.8 PAGE 10    
                  
                                                                                                      IOPB0359    
                                             ... EXIT ... TERMINATION ROUTINE, EXIT TO FMS OR STOP ...IOPB0360    
                                                                                                      IOPB0361    
      00345  0074 00 4 00014  EXIT   TSX     $IOFINI,4     INSURE FILE SYSTEM UPDATED                 IOPB0362    
      00346  3 00000 0 00347         PTH     *+1           .. IGNORE ERROR RETURN                     IOPB0363    
      00347  0074 00 4 00357         TSX     PRINT,4       PRINT MESSAGE                              IOPB0364    
      00350  1 00002 0 01237         PON     EXITMS,,2     ..                                         IOPB0365    
      00351  0564 00 0 02074         ENB     =0            DISABLE ALL TRAPS                          IOPB0366    
      00352  0060 00 0 00352         TCOA    *             WAIT UNTIL ALL CHANNEL ACTIVITY CEASES     IOPB0367    
      00353  0061 00 0 00353         TCOB    *             ..                                         IOPB0368    
      00354  0760 00 0 01352         RDCA                  AND RESET CHANNELS A,                      IOPB0369    
      00355  0760 00 0 02352         RDCB                  .. AND B                                   IOPB0370    
                                                                                                      IOPB0371    
      00356                          WHEN    B,T,,OVLBGN,,,,,                                         IOPB0372    
      00356                          OVLBGN  ,,                                                       IOPB0372.003
                                     UNLIST                                                           IOPB0372.004
                  
                                                                                                      IOPB0394    
      00356                          WHEN    B,T,,HTR,*,,,,                                           IOPB0395    
      00356  0000 00 0 00356         HTR     *,,                                                      IOPB0395.003
                                                                                                      IOPB0396    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1925.8 PAGE 11    
                  
                                                                                                      IOPB0398    
                                             .. PRINT/PUNCH/EPRINT .. ON LINE PRINT AND PUNCH ROUTINESIOPB0399    
                                                                                                      IOPB0400    
                       00357  WRFLX  SYN     *             SIMULATED TYPEWRITER                       IOPB0401    
      00357  0564 00 0 02074  PRINT  ENB     =0            DISABLE ALL TRAPS                          IOPB0402    
      00360 -0625 00 0 00623         STL     PRSW          ROUTINE TO PRINT ON LINE                   IOPB0403    
      00361  0020 00 0 00364         TRA     PUNCH+2       ..                                         IOPB0404    
                                                                                                      IOPB0405    
      00362  0564 00 0 02074  PUNCH  ENB     =0            DISABLE ALL TRAPS                          IOPB0406    
      00363  0600 00 0 00623         STZ     PRSW          ROUTINE TO PUNCH CARD ON LINE              IOPB0407    
      00364  0634 00 4 00373         SXA     PRPUX4,4      SAVE IR4 FROM CALL TO 'PRINT' OR 'PUNCH'   IOPB0408    
      00365  0560 00 4 00001         LDQ     1,4           PICK UP USER CALLING SEQUENCE              IOPB0409    
      00366 -0600 00 0 00370         STQ     *+2           SET IN CALL                                IOPB0410    
      00367  0074 00 4 00377         TSX     WPRPU,4       CALL PRINT/PUNCH ROUTINE                   IOPB0411    
      00370  0 00000 0 00000                 **,,**        ..                                         IOPB0412    
      00371  0074 00 4 01110         TSX     CHKCHA,4      CHECK FOR LOST TRAP ON CHANNEL 'A'         IOPB0413    
      00372  0564 00 0 01126         ENB     ENABLE        RE-ENABLE                                  IOPB0414    
      00373  0774 00 4 00000  PRPUX4 AXT     **,4          RESTORE USER'S IR4                         IOPB0415    
      00374  0020 00 4 00002         TRA     2,4           AND RETURN                                 IOPB0416    
                                                                                                      IOPB0417    
                       00375  WRTOPR SYN     *             USED BY DDIOA IN LIEU OF EPRINT            IOPB0418    
      00375  0564 00 0 02074  EPRINT ENB     =0            DISABLE ALL TRAPS                          IOPB0419    
      00376 -0625 00 0 00623         STL     PRSW          ROUTINE TO PRINT DURING ANY TRAP           IOPB0420    
                                                                                                      IOPB0421    
      00377  0634 00 1 00523  WPRPU  SXA     PRX1,1        SAVE XRS.                                  IOPB0422    
      00400  0634 00 2 00524         SXA     PRX2,2        ..                                         IOPB0423    
      00401  0634 00 4 00525         SXA     PRX4,4        ..                                         IOPB0424    
      00402  0074 00 4 01024         TSX     SAVCHA,4      DISABLE AND SAVE CHANNEL 'A'               IOPB0425    
      00403  0534 00 4 00525         LXA     PRX4,4        RELOAD CALLER'S XR4.                       IOPB0426    
      00404 -0500 00 4 00001         CAL     1,4           PZE FIRST,,N                               IOPB0427    
      00405 -0734 00 2 00000         PDX     ,2            GET WORD COUNT                             IOPB0428    
      00406  0754 00 2 00000         PXA     ,2            ..                                         IOPB0429    
      00407  0361 00 4 00001         ACL     1,4           BES LOCATION OF USER DATA                  IOPB0430    
      00410  0621 00 0 00432         STA     PRPU.2        FOR WORD PICKUP.                           IOPB0431    
      00411 -0520 00 0 00623         NZT     PRSW          IF CALL IS FOR PUNCH,                      IOPB0432    
      00412  0020 00 0 00420         TRA     PRPU.1        SKIP SENSE INSTRUCTION SETUP               IOPB0433    
      00413  0771 00 0 00017         ARS     15            ELSE, PREFIX TO X7                         IOPB0434    
      00414 -0737 00 7 00000         PDC     ,7            ..                                         IOPB0435    
      00415 -0500 00 7 00626         CAL     SPRTBL,7      PICK UP USER REQUESTED SPRA                IOPB0436    
      00416  0602 00 0 00512         SLW     SPRA          SAVE                                       IOPB0437    
      00417  0602 00 0 00506         SLW     SPRX          THERE ALSO IN CASE BLANK LINE              IOPB0438    
                                                                                                      IOPB0439    
      00420  0774 00 7 00060  PRPU.1 AXT     48,7          CLEAR CARD IMAGE BUFFER                    IOPB0440    
      00421  0600 00 7 00623         STZ     CBUF2+48,7    ..                                         IOPB0441    
      00422  2 00001 7 00421         TIX     *-1,7,1       ..                                         IOPB0442    
      00423 -0500 00 0 02105         CAL     =-0           INITIALIZE COLUMN MARKER TO FIRST COLUMN   IOPB0443    
      00424  0602 00 0 01172         SLW     PRCOL         ..                                         IOPB0444    
      00425  0774 00 4 00001         AXT     1,4           INITIALIZE CHARACTER COUNT                 IOPB0445    
      00426  0774 00 5 00001         AXT     1,5           START ON RIGHT HALF                        IOPB0446    
      00427  0774 00 6 00001         AXT     1,6           OF FIRST BUFFER                            IOPB0447    
      00430 -3 00000 2 00472         TXL     DONE,2,0      SKIP FOR ZERO WORD COUNT.                  IOPB0448    
      00431  0600 00 0 00624         STZ     DONESW        INDICATE THERE IS MORE PRINTING TO DO      IOPB0449    
                                                                                                      IOPB0450    
      00432  0560 00 2 00000  PRPU.2 LDQ     -,2           LOAD FIRST OR NEXT USER DATA WORD          IOPB0451    
      00433  0774 00 1 00006         AXT     6,1           SIX CHARACTERS PER WORD                    IOPB0452    
      00434 -0754 00 0 00000  PRPU.3 ZAC                                                              IOPB0453    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1925.8 PAGE 12    
                  
      00435 -0763 00 0 00006         LGL     6             CHARACTER TO AC                            IOPB0454    
      00436 -0600 00 0 00625         STQ     MQ.T          SAVE PARTIAL MQ CONTENTS                   IOPB0455    
      00437 -0765 00 0 00001         LGR     1             DIVIDE BY 2, SAVE REMAINDER                IOPB0456    
      00440  0737 00 7 00000         PAC     ,7            TABLE POSITION FOR CHARACTER               IOPB0457    
      00441 -0500 00 7 00636         CAL     CHRTB,7       GET PUNCH CONFIGURATION FOR THIS           IOPB0458    
      00442  0162 00 0 00444         TQP     *+2           CHARACTER                                  IOPB0459    
      00443  0771 00 0 00022         ARS     18            TO ADDRESS                                 IOPB0460    
      00444  0044 00 0 00000         PAI                   ..                                         IOPB0461    
      00445  0737 00 7 00000         PAC     ,7            TRANSFER ADDRESS IF CONTROL CHAR.          IOPB0462    
      00446  0054 00  100000         RFT     100000        TEST FOR SPECIAL CHARACTER                 IOPB0463    
      00447  0020 00 7 00000         TRA     0,7           YES, GO PROCESS SPECIAL CHARACTER          IOPB0464    
      00450 -0765 00 0 00014         LGR     12            ORDINARY CHARACTER, PUNCHES TO MQ          IOPB0465    
      00451 -0500 00 0 01172         CAL     PRCOL         PICKUP COLUMN MARKER                       IOPB0466    
      00452  0774 00 7 00030         AXT     24,7          24 WORD CARD IMAGE BUFFER, EVERY           IOPB0467    
      00453  0162 00 0 00455         TQP     *+2           IF BIT IS OFF, IGNORE.                     IOPB0468    
      00454  0522 00 5 00537         XEC     ORINBT,5      ELSE, ADD PUNCH TO PROPER BUFFER.          IOPB0469    
      00455 -0773 00 0 00001         RQL     1             ONWARD TO NEXT ROW OF CARD THIS COLUMN     IOPB0470    
      00456  2 00002 7 00453         TIX     *-3,7,2       ..                                         IOPB0471    
      00457  0771 00 0 00001         ARS     1             MOVE COLUMN MARKER TO NEXT COLUMN          IOPB0472    
      00460  1 00001 4 00461         TXI     *+1,4,1       INCREMENT WORD COUNT                       IOPB0473    
      00461  3 00170 4 00472         TXH     DONE,4,120    SEE IF OUT OF BOUNDS                       IOPB0474    
      00462 -0100 00 0 00466         TNZ     PRPU.4        IF DONE WITH HALF OF CARD,                 IOPB0475    
      00463 -0500 00 0 02105         CAL     =-0           REINITIALIZE COLUMN MARKER                 IOPB0476    
      00464  1 00001 5 00465         TXI     *+1,5,1       INDICATE ON NEXT HALF OF CARD              IOPB0477    
      00465  2 00002 5 00473         TIX     PRPU.5,5,2    IF TWO HALVES DONE, GO PRINT BUFFER OUT    IOPB0478    
      00466  0602 00 0 01172  PRPU.4 SLW     PRCOL         SAVE COLUMN MARKER FOR NEXT CHARACTER      IOPB0479    
      00467  0560 00 0 00625  SKP    LDQ     MQ.T          RESTORE PARTIAL MQ. ENTER HERE TO IGNORE   IOPB0480    
      00470  2 00001 1 00434         TIX     PRPU.3,1,1    GO GET NEXT CHARACTER                      IOPB0481    
      00471  2 00001 2 00432         TIX     PRPU.2,2,1    WORD EXHAUSTED, GO GET NEXT WORD           IOPB0482    
      00472 -0625 00 0 00624  DONE   STL     DONESW        FINISHED, INDICATE LAST BUFFER TO PRINT.   IOPB0483    
      00473  0520 00 0 00623  PRPU.5 ZET     PRSW          ARE WE PRINTING OR PUNCHING. Q             IOPB0484    
      00474  0020 00 0 00500         TRA     PRNT.1        WE ARE PRINTING, GO TO PRINT ROUTINE       IOPB0485    
      00475  0766 00 0 01341         WPUA                  HERE TO PUNCH CARD.                        IOPB0486    
      00476  0540 00 0 00531         RCHA    PUCOM         START CHANNEL                              IOPB0487    
      00477  0020 00 0 00522         TRA     PEND          AND SKIP TO EXIT AFTER ONE CARD.           IOPB0488    
      00500  0774 00 7 00030  PRNT.1 AXT     24,7          HERE TO PRINT PARTIAL LINE.                IOPB0489    
      00501  0520 60 6 00541         ZET*    CARD,6        SEE IF BUFFER ALL BLANK                    IOPB0490    
      00502  0020 00 0 00511         TRA     PNOW          NON-ZERO WORD FOUND, GO PRINT.             IOPB0491    
      00503  2 00001 7 00501         TIX     *-2,7,1       ..                                         IOPB0492    
      00504  3 00001 6 00522         TXH     PEND,6,1      HAVE WE PRINTED ANYTHING ON THIS LINE      IOPB0493    
      00505  0766 00 0 01361         WPRA                  NO, SELECT PRINTER                         IOPB0494    
      00506  0760 00 0 01360  SPRX   SPRA    **            USER REQUESTED SPRA                        IOPB0495    
      00507  0540 00 0 00532         RCHA    IOCD          AND DISCONNECT CHANNEL                     IOPB0496    
      00510  0020 00 0 00514         TRA     PRT2.2        SKIP                                       IOPB0497    
      00511  0766 00 0 01361  PNOW   WPRA                  SELECT PRINTER ON CHANNEL 'A'              IOPB0498    
      00512  0760 00 0 01360  SPRA   SPRA    **            USER REQUESTED SPRA OR SPRA 9.             IOPB0499    
      00513  0540 60 6 00531         RCHA*   PRCOM,6       START UP CHANNEL ON RIGHT BUFFER           IOPB0500    
      00514  0520 00 0 00624  PRT2.2 ZET     DONESW        IS THERE MORE TO DO. Q                     IOPB0501    
      00515  0020 00 0 00522         TRA     PEND          NO, SKIP TO END                            IOPB0502    
      00516 -0500 00 0 00631         CAL     SPRA9         YES, SET UP TO PRINT RIGHT HALF LINE       IOPB0503    
      00517  0602 00 0 00512         SLW     SPRA          ..                                         IOPB0504    
      00520 -0500 00 0 02105         CAL     =-0           RESET COLUMN MARKER                        IOPB0505    
      00521  1 00001 6 00466         TXI     PRPU.4,6,1    AND RE-ENTER ROUTINE                       IOPB0506    
                                                                                                      IOPB0507    
      00522  0074 00 4 01054  PEND   TSX     RSTCHA,4      HERE WHEN DONE, RESTORE CHANNEL 'A'        IOPB0508    
      00523  0774 00 1 00000  PRX1   AXT     -,1           RESTORE XRS                                IOPB0509    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1925.8 PAGE 13    
                  
      00524  0774 00 2 00000  PRX2   AXT     -,2           ..                                         IOPB0510    
      00525  0774 00 4 00000  PRX4   AXT     -,4           ..                                         IOPB0511    
      00526  0020 00 4 00002         TRA     2,4           RETURN TO CALLER.                          IOPB0512    
                                                                                                      IOPB0513    
                                                                                                      IOPB0514    
      00527  0 00000 0 00533         PZE     PRCM2         CHANNEL COMMANDS FOR SECOND BUFFER         IOPB0515    
      00530  0 00000 0 00531         PZE     PRCM1         .. FOR FIRST BUFFER                        IOPB0516    
                       00531  PRCOM  SYN     *             ..                                         IOPB0517    
                                                                                                      IOPB0518    
      00531 -2 00030 1 00573  PRCM1  IOSP    CBUF1,B,24    WHEN PRINTING, THIS SEQUENCE DISCONNECTS   IOPB0519    
      00532  0 00000 0 00000  IOCD   IOCD    0,,0          13 MS. FASTER THAN IOCD                    IOPB0520    
      00533 -2 00030 1 00543  PRCM2  IOSP    CBUF2,B,24    ..                                         IOPB0521    
      00534  0 00000 0 00000         IOCD    0,,0          ..                                         IOPB0522    
                                                                                                      IOPB0523    
                       00531  PUCOM  SYN     PRCM1         DISCONNECTS 25 MS FASTER THAN IOCD         IOPB0524    
                                                                                                      IOPB0525    
      00535 -0602 60 6 00543         ORS*    CARD+2,6      TO ADD PUNCH INTO RIGHT HALF CARD          IOPB0526    
      00536 -0602 60 6 00541         ORS*    CARD,6        .. LEFT HALF CARD                          IOPB0527    
                       00537  ORINBT SYN     *             ' XEC ORINBT,5 '                           IOPB0528    
                                                                                                      IOPB0529    
      00537  0 00000 7 00573         PZE     CBUF2+24,7    RIGHT HALF LINE                            IOPB0530    
      00540  0 00000 7 00623         PZE     CBUF1+24,7    LEFT HALF LINE                             IOPB0531    
                       00541  CARD   SYN     *             .. 'ORS* CARD,6'                           IOPB0532    
      00541  0 00000 7 00574         PZE     CBUF2+25,7    FOR RIGHT HALF CARD COL 37-72              IOPB0533    
      00542  0 00000 7 00624         PZE     CBUF1+25,7    ..                                         IOPB0534    
                                                                                                      IOPB0535    
      00543                   CBUF2  BSS     24            PRINT BUFFER 2                             IOPB0536    
      00573                   CBUF1  BSS     24            PRINT BUFFER 1, PUNCH BUFFER               IOPB0537    
                                                                                                      IOPB0538    
      00623  0 00000 0 77777  PRSW   PZE     -1            PRINT/PUNCH SWITCH                         IOPB0539    
      00624  0 00000 0 00000  DONESW PZE                   NON-ZERO IF CONTENTS OF BUFFER IS LAST     IOPB0540    
      00625  0 00000 0 00000  MQ.T   PZE                   STORAGE FOR PARTIAL MQ DURING CONVERSION   IOPB0541    
                                                                                                      IOPB0542    
                       00626  SPRTBL SYN     *             TABLE OF VALID SPR'S                       IOPB0543    
      00626  0761 00 0 00000  NOP    NOP                   (PZE)  SINGLE SPACE                        IOPB0544    
      00627  0760 00 0 01361         SPRA    1             (PON)  NEW PAGE                            IOPB0545    
      00630  0760 00 0 01362         SPRA    2             (PTW)  HALF-PAGE SKIP                      IOPB0546    
      00631  0760 00 0 01371  SPRA9  SPRA    9             (PTH)  PRINT RIGHT-HALF LINE               IOPB0547    
      00632  0761 00 0 00000         NOP                   (MZE)  SINGLE SPACE                        IOPB0548    
      00633  0761 00 0 00000         NOP                   (MON)  SINGLE SPACE                        IOPB0549    
      00634  0760 00 0 01364         SPRA    4             (MTW)  DOUBLE SPACE                        IOPB0550    
      00635  0761 00 0 00000         NOP                   (MTH)  SINGLE SPACE                        IOPB0551    
                                                                                                      IOPB0552    
                      000001  P12    BOOL    1             BIT FOR 12-PUNCH                           IOPB0553    
                      000002  P11    BOOL    2                     11-PUNCH                           IOPB0554    
                      000004  P0     BOOL    4                      0-PUNCH                           IOPB0555    
                      000010  P1     BOOL    10                     1-PUNCH                           IOPB0556    
                      000020  P2     BOOL    20                     2-PUNCH                           IOPB0557    
                      000040  P3     BOOL    40                     3-PUNCH                           IOPB0558    
                      000100  P4     BOOL    100                    4-PUNCH                           IOPB0559    
                      000200  P5     BOOL    200                    5-PUNCH                           IOPB0560    
                      000400  P6     BOOL    400                    6-PUNCH                           IOPB0561    
                      001000  P7     BOOL    1000                   7-PUNCH                           IOPB0562    
                      002000  P8     BOOL    2000                   8-PUNCH                           IOPB0563    
                      004000  P9     BOOL    4000                   9-PUNCH                           IOPB0564    
                                                                                                      IOPB0565    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1925.8 PAGE 14    
                  
                       00636  CHRTB  SYN     *             CONVERSION TABLE FOR CHARACTERS            IOPB0566    
      00636  0 00010 0 00004         PZE     P0,,P1        DIGITS 0, 1                                IOPB0567    
      00637  0 00040 0 00020         PZE     P2,,P3        2, 3                                       IOPB0568    
      00640  0 00200 0 00100         PZE     P4,,P5        4, 5                                       IOPB0569    
      00641  0 01000 0 00400         PZE     P6,,P7        6, 7                                       IOPB0570    
      00642  0 04000 0 02000         PZE     P8,,P9        8, 9                                       IOPB0571    
      00643  0 02040 1 00467         PZE     SKP,1,P8+P3   ILL., =                                    IOPB0572    
      00644  1 00467 0 02100         PON     P8+P4,,SKP    ', ILL.                                    IOPB0573    
      00645  1 00467 1 00467         PON     SKP,1,SKP     ILL, ILL.                                  IOPB0574    
      00646  0 00011 0 00001         PZE     P12,,P12+P1   +, A                                       IOPB0575    
      00647  0 00041 0 00021         PZE     P12+P2,,P12+P3 B, C                                      IOPB0576    
      00650  0 00201 0 00101         PZE     P12+P4,,P12+P5 D, E                                      IOPB0577    
      00651  0 01001 0 00401         PZE     P12+P6,,P12+P7 F, G                                      IOPB0578    
      00652  0 04001 0 02001         PZE     P12+P8,,P12+P9 H, I                                      IOPB0579    
      00653  0 02041 1 00467         PZE     SKP,1,P12+P8+P3 ILL., '.'                                IOPB0580    
      00654  0 02041 0 02101         PZE     P12+P8+P4,,P12+P8+P3 ), COLON (USE .)                    IOPB0581    
      00655  1 00467 1 00467         PON     SKP,1,SKP     ILL., ILL.                                 IOPB0582    
      00656  0 00012 0 00002         PZE     P11,,P11+P1   -, J                                       IOPB0583    
      00657  0 00042 0 00022         PZE     P11+P2,,P11+P3 K, L                                      IOPB0584    
      00660  0 00202 0 00102         PZE     P11+P4,,P11+P5 M, N                                      IOPB0585    
      00661  0 01002 0 00402         PZE     P11+P6,,P11+P7 O, P                                      IOPB0586    
      00662  0 04002 0 02002         PZE     P11+P8,,P11+P9 Q, R                                      IOPB0587    
      00663  0 02042 1 00467         PZE     SKP,1,P11+P8+P3 ILL., $                                  IOPB0588    
      00664  1 00467 0 02102         PON     P11+P8+P4,,SKP *, ILL.                                   IOPB0589    
      00665  1 00467 1 00467         PON     SKP,1,SKP     ILL., NULL                                 IOPB0590    
      00666  0 00014 0 00000         PZE     0,,P0+P1      BLANK, /                                   IOPB0591    
      00667  0 00044 0 00024         PZE     P0+P2,,P0+P3  S, T                                       IOPB0592    
      00670  0 00204 0 00104         PZE     P0+P4,,P0+P5  U, V                                       IOPB0593    
      00671  0 01004 0 00404         PZE     P0+P6,,P0+P7  W, X                                       IOPB0594    
      00672  0 04004 0 02004         PZE     P0+P8,,P0+P9  Y, Z                                       IOPB0595    
      00673  0 02044 1 00467         PZE     SKP,1,P0+P8+P3 TAB, ','                                  IOPB0596    
      00674  1 00467 0 02104         PON     P0+P8+P4,,SKP (, ILL.                                    IOPB0597    
      00675  1 00467 1 00467         PON     SKP,1,SKP     ILL., ILL.                                 IOPB0598    
                                                                                                      IOPB0599    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1925.8 PAGE 15    
                  
                                                                                                      IOPB0601    
                                             ... CMEXIT ... COMMON EXIT ROUTINE FROM ALL TRAPS .......IOPB0602    
                                                                                                      IOPB0603    
      00676  0564 00 0 02074  CMEXIT ENB     =0            INSURE ALL TRAPS DISABLED                  IOPB0604    
      00677  0604 00 0 01162         STI     CMXSI         SAVE INDICATORS                            IOPB0605    
      00700  0441 60 4 00002         LDI*    2,4           PICK UP RETURN FLAGS                       IOPB0606    
      00701  0057 00  700000         RIR     700000        INSURE TAG ZERO                            IOPB0607    
      00702  0604 00 0 01161         STI     CMXRTN        SAVE RETURN LOCATION                       IOPB0608    
      00703  0522 00 4 00001         XEC     1,4           RESTORE USER'S IR4 FROM 1,4                IOPB0609    
      00704  0520 00 0 01160         ZET     ATLOST        WAS A TRAP ON CHANNEL 'A' LOST             IOPB0610    
      00705  0020 00 0 00720         TRA     SIMTRP        YES, GO TO SIMULATE LOST TRAP              IOPB0611    
      00706 -0054 00  020000         LFT     20000         NO, WAS ECC SET FOR MEMORY 'A'             IOPB0612    
      00707  0020 00 0 00715         TRA     CMRTNB        NO, SET ECC TO MEMORY 'B'                  IOPB0613    
      00710  0441 00 0 01162         LDI     CMXSI         YES, RELOAD INDICATORS                     IOPB0614    
      00711  0564 00 0 01126         ENB     ENABLE        AND RETURN TO INTERRUPTED PROGRAM          IOPB0615    
      00712                          WHEN    B,T,,LRI,=0,,,,  ..                                      IOPB0616    
      00712  0562 00 0 02074         LRI     =0,,                                                     IOPB0616.003
      00713                          WHEN    B,T,,SEA,,,,, ..                                         IOPB0617    
      00713 -0761 00 0 00041         SEA     ,,                                                       IOPB0617.003
      00714  0020 60 0 01161         TRA*    CMXRTN        ..                                         IOPB0618    
                                                                                                      IOPB0619    
      00715  0441 00 0 01162  CMRTNB LDI     CMXSI         HERE TO RETURN WITH ECC SET FOR MEMORY 'B' IOPB0620    
      00716  0564 00 0 01126         ENB     ENABLE        RETURN TO INTERRUPTED PROGRAM              IOPB0621    
      00717                          WHEN    B,F,,LRI,=0,,,,  ..                                      IOPB0622    
      00717                          WHEN    B,F,,SEB,,,,, ..                                         IOPB0623    
      00717  0020 60 0 01161         TRA*    CMXRTN        ..                                         IOPB0624    
                                                                                                      IOPB0625    
      00720 -0057 00  717777  SIMTRP RIL     717777        HERE TO SIMULATE LOST TRAP ON CHANNEL 'A'  IOPB0626    
      00721  0604 00 0 01174         STI     RTNLOC        SET UP RETURN LOC. WITH ECC AND ICC FLAGS  IOPB0627    
      00722  0441 00 0 01162         LDI     CMXSI         RELOAD USER'S SENSE INDICATORS             IOPB0628    
      00723  0634 00 4 01163         SXA     TRPIR4,4      AND INSURE USER'S MACHINE CONDITIONS SAVED IOPB0629    
      00724  0074 00 4 00737         TSX     ALLSAV,4      ..                                         IOPB0630    
      00725 -0500 00 0 01160         CAL     ATLOST        PICK UP FLAGS FROM LOST TRAP               IOPB0631    
      00726 -0320 00 0 02102         ANA     =O7000000     SAVE BITS 15-17                            IOPB0632    
      00727 -0602 00 0 01174         ORS     RTNLOC        COMPLETE TRAP FLAGS IN 'RTNLOC'            IOPB0633    
      00730  0600 00 0 01160  STZ.A) STZ     ATLOST        RESET LOST TRAP CONDITION                  IOPB0634    
      00731  0020 00 0 00226         TRA     ATRAP1        AND SIMULATE TRAP ON CHANNEL 'A'           IOPB0635    
                                                                                                      IOPB0636    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPB0637    
                                                                                                      IOPB0638    
                                             ... FILXIT ... EXIT TO USER FROM FILE SYSTEM .....       IOPB0639    
                                                                                                      IOPB0640    
      00732 -0500 60 4 00002  FILXIT CAL*    2,4           PICK UP RETURN ADDRESS                     IOPB0641    
      00733  0737 00 5 00000         PAC     0,5           .. -RETURN ADDRESS TO IR5                  IOPB0642    
      00734  0522 00 4 00001         XEC     1,4           RELOAD USER'S IR4                          IOPB0643    
      00735  0564 00 0 01126         ENB     ENABLE        RE-ENABLE ALL TRAPS                        IOPB0644    
      00736  0020 00 5 00000         TRA     0,5           AND RETURN TO USER                         IOPB0645    
                                                                                                      IOPB0646    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1925.8 PAGE 16    
                  
                                                                                                      IOPB0648    
                                             ... ALLSAV ... SAVE BASIC MACHINE CONDITIONS ............IOPB0649    
                                                                                                      IOPB0650    
      00737  0564 00 0 02074  ALLSAV ENB     =0            INSURE NO TRAPS COME NOW.                  IOPB0651    
      00740 -0520 00 0 01023         NZT     ENBSW         HAVE WE TAKEN A PREVIOUS TRAP.             IOPB0652    
      00741  0000 00 0 00741         HTR     *             YES, STOP AND TAKE A DUMP.                 IOPB0653    
      00742  0600 00 0 01023         STZ     ENBSW         NO, INDICATE WE ARE IN TRAP TIME.          IOPB0654    
      00743  0634 00 4 00772         SXA     ALLXR4,4      SAVE NAME OF THIS CALLER                   IOPB0655    
      00744  0634 00 1 01001         SXA     TRPIR1,1      SAVE BASIC MACHINE CONDITIONS.             IOPB0656    
      00745  0634 00 2 01002         SXA     TRPIR2,2      ..                                         IOPB0657    
      00746  0634 00 3 01003         SXA     TRPIR3,3      ..                                         IOPB0658    
      00747  0774 00 3 00000         AXT     0,3           .. SAVE TAG MODE                           IOPB0659    
      00750  0774 00 1 00001         AXT     1,1           ..                                         IOPB0660    
      00751  0600 00 0 01164         STZ     TRPMTM        ..                                         IOPB0661    
      00752 -3 00000 3 00756         TXL     7TAG,3,0      .. SKIP IF IN 7-TAG (7094) MODE            IOPB0662    
      00753 -0625 00 0 01164         STL     TRPMTM        .. OTHERWISE SET 3-TAG (7090) MODE         IOPB0663    
      00754  0760 00 0 00016         LMTM                  ..                                         IOPB0664    
      00755  0634 00 3 01003         SXA     TRPIR3,3      .. RESAVE IR3                              IOPB0665    
      00756  0634 00 5 01004  7TAG   SXA     TRPIR5,5      ..                                         IOPB0666    
      00757  0634 00 6 01005         SXA     TRPIR6,6      ..                                         IOPB0667    
      00760  0634 00 7 01006         SXA     TRPIR7,7      ..                                         IOPB0668    
      00761  0604 00 0 01165         STI     TRPSI         .. SAVE SENSE INDICATORS                   IOPB0669    
      00762 -0600 00 0 01166         STQ     TRPMQ         .. MQ                                      IOPB0670    
      00763  0602 00 0 01167         SLW     TRPLAC        .. LOGICAL AC                              IOPB0671    
      00764  0771 00 0 00002         ARS     2             ..                                         IOPB0672    
      00765  0601 00 0 01170         STO     TRPSQ         .. S AND Q BITS                            IOPB0673    
      00766  0600 00 0 01171         STZ     TRPOV         .. AC OVERFLOW CONDITION                   IOPB0674    
      00767 -0140 00 0 00771         TNO     *+2           ..                                         IOPB0675    
      00770 -0625 00 0 01171         STL     TRPOV         ..                                         IOPB0676    
      00771  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPB0677    
                                                                                                      IOPB0678    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPB0679    
                                                                                                      IOPB0680    
      00772  0 00000 0 00000  ALLXR4 PZE     **,,**        X4(ALLSAV,,ALLRST)                         IOPB0681    
                                                                                                      IOPB0682    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPB0683    
                                                                                                      IOPB0684    
                                             ... ALLRST ... RESTORE BASIC MACHINE CONDITIONS .........IOPB0685    
                                                                                                      IOPB0686    
      00773  0564 00 0 02074  ALLRST ENB     =0            INSURE NO TRAPS ON TOP OF STOP.            IOPB0687    
      00774  0520 00 0 01023         ZET     ENBSW         ARE WE CALLED AT TRAP TIME.                IOPB0688    
      00775  0000 00 0 00775         HTR     *             NO, STOP AND TAKE DUMP.                    IOPB0689    
      00776 -0625 00 0 01023         STL     ENBSW         YES, INDICATE WE ARE LEAVING TRAP TIME.    IOPB0690    
      00777  0760 00 0 00016         LMTM                  INSURE 7-TAG (7094) MODE                   IOPB0691    
      01000 -0634 00 4 00772         SXD     ALLXR4,4      SAVE X4 OF CALLER FOR DEBUGGING            IOPB0692    
      01001  0774 00 1 00000  TRPIR1 AXT     **,1          ..                                         IOPB0693    
      01002  0774 00 2 00000  TRPIR2 AXT     **,2          ..                                         IOPB0694    
      01003  0774 00 3 00000  TRPIR3 AXT     **,3          ..                                         IOPB0695    
      01004  0774 00 5 00000  TRPIR5 AXT     **,5          ..                                         IOPB0696    
      01005  0774 00 6 00000  TRPIR6 AXT     **,6          ..                                         IOPB0697    
      01006  0774 00 7 00000  TRPIR7 AXT     **,7          ..                                         IOPB0698    
      01007  0520 00 0 01164         ZET     TRPMTM        .. RESTORE TAG MODE                        IOPB0699    
      01010 -0760 00 0 00016         EMTM                  ..                                         IOPB0700    
      01011  0560 00 0 01170         LDQ     TRPSQ         .. RESTORE S AND Q BITS                    IOPB0701    
      01012  0500 00 0 01012         CLA     *             .. AND INSURE OVERFLOW LIGHT IS ON         IOPB0702    
      01013  0763 00 0 00001         LLS     1             ..                                         IOPB0703    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1925.8 PAGE 17    
                  
      01014  0767 00 0 00044         ALS     36            ..                                         IOPB0704    
      01015 -0501 00 0 01167         ORA     TRPLAC        .. RESTORE LOGICAL AC                      IOPB0705    
      01016  0560 00 0 01166         LDQ     TRPMQ         .. RESTORE MQ                              IOPB0706    
      01017  0441 00 0 01165         LDI     TRPSI         .. RESTORE SI                              IOPB0707    
      01020 -0520 00 0 01171         NZT     TRPOV         .. RESTORE CORRECT OVERFLOW STATUS         IOPB0708    
      01021  0140 00 0 01022         TOV     *+1           ..                                         IOPB0709    
      01022  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPB0710    
                                                                                                      IOPB0711    
      01023  0 00000 0 00000  ENBSW  PZE     **            SWITCH ON DURING ENABLE TIME.              IOPB0712    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1925.8 PAGE 18    
                  
                                             ... SAVCHA/RSTCHA/CHKCHA ... SAVE RESTORE AND CHECK 'A'  IOPB0714    
                                                                                                      IOPB0715    
      01024  0564 00 0 02074  SAVCHA ENB     =0            SAVE STATUS OF CHANNEL 'A'                 IOPB0716    
      01025  0520 00 0 01160         ZET     ATLOST        HAVE WE LOST A TRAP ALREADY                IOPB0717    
      01026  0020 00 0 01047         TRA     SVCHA2        YES, SKIP                                  IOPB0718    
      01027 -0500 00 0 01037         CAL     TSTRAP        NO, SET UP TO CHECK FOR TRAP ON CHANNEL 'A'IOPB0719    
      01030                          WHEN    B,T,,SEA,,,,, SAVE CHANNEL 'A' TRAP INSTRUCTION          IOPB0720    
      01030 -0761 00 0 00041         SEA     ,,                                                       IOPB0720.003
      01031  0441 00 0 00013         LDI     ADCTRP        ..                                         IOPB0721    
      01032  0602 00 0 00013         SLW     ADCTRP        .. AND SUBSTITUTE NEW TRAP INSTRUCTION     IOPB0722    
      01033                          WHEN    B,T,,SEB,,,,, ..                                         IOPB0723    
      01033 -0761 00 0 00042         SEB     ,,                                                       IOPB0723.003
      01034  0564 00 0 01203         ENB     ENBIFA        ENABLE IF ENABLE CONTAINS CHANNEL 'A' BITS IOPB0724    
      01035  0060 00 0 01035         TCOA    *             AND WAIT                                   IOPB0725    
      01036  0020 00 0 01043         TRA     SVCHA1        GO RESTORE TRAP INSTRUCTION IF NO TRAP     IOPB0726    
                                                                                                      IOPB0727    
      01037                          WHEN    B,F,TSTRAP,TTR,*+1,,,,                                   IOPB0728    
      01037                          WHEN    B,T,TSTRAP,TIB,*+1,,,,                                   IOPB0729    
      01037 -0101 00 0 01040  TSTRAP TIB     *+1,,                                                    IOPB0729.003
                                                                                                      IOPB0730    
      01040 -0500 00 0 00012         CAL     ATRLOC        PICK UP FLAGS FROM TRAP ON CHANNEL 'A'     IOPB0731    
      01041                          WHEN    B,T,,SEB,,,,, ..                                         IOPB0732    
      01041 -0761 00 0 00042         SEB     ,,                                                       IOPB0732.003
      01042  0602 00 0 01160         SLW     ATLOST        SET FLAGS FOR LOST TRAP                    IOPB0733    
      01043  0564 00 0 02074  SVCHA1 ENB     =0            DISABLE ALL TRAPS                          IOPB0734    
      01044                          WHEN    B,T,,SEA,,,,, RESTORE PREVIOUS TRAP INSTRUCTION          IOPB0735    
      01044 -0761 00 0 00041         SEA     ,,                                                       IOPB0735.003
      01045  0604 00 0 00013         STI     ADCTRP        ..                                         IOPB0736    
      01046                          WHEN    B,T,,SEB,,,,, ..                                         IOPB0737    
      01046 -0761 00 0 00042         SEB     ,,                                                       IOPB0737.003
                                                                                                      IOPB0738    
      01047  0640 00 0 01201  SVCHA2 SCHA    SVCHAN        SAVE CHANNEL 'A' REGISTERS                 IOPB0739    
      01050  0600 00 0 01202         STZ     SVIOCK        AND I/O CHECK CONDITION                    IOPB0740    
      01051  0760 00 0 00005         IOT                   ..                                         IOPB0741    
      01052 -0625 00 0 01202         STL     SVIOCK        ..                                         IOPB0742    
      01053  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPB0743    
                                                                                                      IOPB0744    
      01054  0634 00 4 01106  RSTCHA SXA     RSTCX4,4      RESTORE CHANNEL STATUS                     IOPB0745    
      01055  0060 00 0 01055         TCOA    *             WAIT UNTIL CHANNEL IS FREE                 IOPB0746    
      01056 -0500 00 0 01201         CAL     SVCHAN        PICK UP PREVIOUS CHANNEL STATUS            IOPB0747    
      01057 -0737 00 4 00000         PDC     0,4           -LOCATION COUNTER TO IR4                   IOPB0748    
      01060 -0320 00 0 02106         ANA     =O700000377777  RESTORE CHANNEL 'A' REGISTERS            IOPB0749    
      01061  0560 00 4 77777         LDQ     -1,4          ..                                         IOPB0750    
      01062  0602 00 4 77777         SLW     -1,4          ..                                         IOPB0751    
      01063  0540 00 4 77777         RCHA    -1,4          ..                                         IOPB0752    
      01064 -0600 00 4 77777         STQ     -1,4          ..                                         IOPB0753    
      01065 -0520 00 0 01202         NZT     SVIOCK        RESTORE PREVIOUS CONDITIONS OF I/O CHECK   IOPB0754    
      01066  0760 00 0 00005         IOT                   ..                                         IOPB0755    
      01067  0761 00 0 00000         NOP                   .. FOR SAFETY ONLY (IOT SHOULD BE ON)      IOPB0756    
      01070 -0500 00 0 01100         CAL     FORGET        SET UP TO LOOSE ANY TRAP ON CHANNEL 'A'    IOPB0757    
      01071                          WHEN    B,T,,SEA,,,,, SAVE CHANNEL 'A' TRAP INSTRUCTION          IOPB0758    
      01071 -0761 00 0 00041         SEA     ,,                                                       IOPB0758.003
      01072  0441 00 0 00013         LDI     ADCTRP        ..                                         IOPB0759    
      01073  0602 00 0 00013         SLW     ADCTRP        .. SUBSTITUTE NEW TRAP INSTRUCTION         IOPB0760    
      01074                          WHEN    B,T,,SEB,,,,, ..                                         IOPB0761    
      01074 -0761 00 0 00042         SEB     ,,                                                       IOPB0761.003
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1925.8 PAGE 19    
                  
      01075  0564 00 0 01203         ENB     ENBIFA        ENABLE IF ENABLE CONTAINS CHAN. 'A' BITS   IOPB0762    
      01076  0060 00 0 01076         TCOA    *             AND WAIT                                   IOPB0763    
      01077  0020 00 0 01102         TRA     RSCHA1        GO RESTORE TRAP INSTRUCTION IF NO TRAP     IOPB0764    
                                                                                                      IOPB0765    
      01100                          WHEN    B,F,FORGET,TTR,*+1,,,,                                   IOPB0766    
      01100                          WHEN    B,T,FORGET,TIB,*+1,,,,                                   IOPB0767    
      01100 -0101 00 0 01101  FORGET TIB     *+1,,                                                    IOPB0767.003
                                                                                                      IOPB0768    
      01101                          WHEN    B,T,,SEB,,,,,                                            IOPB0769    
      01101 -0761 00 0 00042         SEB     ,,                                                       IOPB0769.003
                                                                                                      IOPB0770    
      01102  0564 00 0 02074  RSCHA1 ENB     =0            DISABLE ALL TRAPS                          IOPB0771    
      01103                          WHEN    B,T,,SEA,,,,, RESTORE PREVIOUS TRAP INSTRUCTION          IOPB0772    
      01103 -0761 00 0 00041         SEA     ,,                                                       IOPB0772.003
      01104  0604 00 0 00013         STI     ADCTRP        ..                                         IOPB0773    
      01105                          WHEN    B,T,,SEB,,,,, ..                                         IOPB0774    
      01105 -0761 00 0 00042         SEB     ,,                                                       IOPB0774.003
      01106  0774 00 4 00000  RSTCX4 AXT     **,4          RESTORE IR4                                IOPB0775    
      01107  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPB0776    
                                                                                                      IOPB0777    
      01110  0564 00 0 02074  CHKCHA ENB     =0            SIMULATE LOST TRAP ON CHANNEL 'A'          IOPB0778    
      01111 -0520 00 0 01160         NZT     ATLOST        DID WE LOOSE A TRAP ON CHANNEL 'A'         IOPB0779    
      01112  0020 00 4 00001         TRA     1,4           NO, RETURN                                 IOPB0780    
      01113  0634 00 4 01124         SXA     CKXIR4,4      YES, SIMULATE TRAP SEQUENCE                IOPB0781    
      01114  0074 00 4 00737         TSX     ALLSAV,4      SAVE REGISTERS, SET 7-TAG MODE             IOPB0782    
      01115  0074 00 4 00012         TSX     $TRAPA,4      GIVE TRAP TO TAPE STRATEGY MODULE          IOPB0783    
      01116  3 00000 0 01160         PTH     ATLOST        ..                                         IOPB0784    
      01117  0020 00 0 01122         TRA     *+3           TRAP ACCEPTED, DON'T SAVE FLAGS            IOPB0785    
      01120 -0500 00 0 01160         CAL     ATLOST        RECORD THIS TRAP FOR FUTURE REFERENCE      IOPB0786    
      01121 -0602 00 0 01204         ORS     TPFLAG+1      ..                                         IOPB0787    
      01122  0600 00 0 01160         STZ     ATLOST        RESET LOST TRAP CONDITION                  IOPB0788    
      01123  0074 00 4 00773         TSX     ALLRST,4      RESTORE REGISTERS, TAG MODE                IOPB0789    
      01124  0774 00 4 00000  CKXIR4 AXT     **,4          AND RETURN                                 IOPB0790    
      01125  0020 00 4 00001         TRA     1,4           ..                                         IOPB0791    
                                                                                                      IOPB0792    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPB0793    
                                                                                                      IOPB0794    
      01126 +000000400000     ENABLE OCT     400000        COMMON ENABLE WORD                         IOPB0795    
                                                                                                      IOPB0796    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPB0797    
                                                                                                      IOPB0798    
                                             ... ADDTIM ... COMPUTE TIME TO NEAREST 60TH OF A SECOND  IOPB0799    
                                                                                                      IOPB0800    
      01127  0564 00 0 02074  ADDTIM ENB     =0            INSURE ALL TRAPS DISABLED (USED BY CLKINT) IOPB0801    
      01130                          WHEN    B,T,,SEA,,,,,                                            IOPB0802    
      01130 -0761 00 0 00041         SEA     ,,                                                       IOPB0802.003
      01131 -0500 00 0 00005         CAL     CLOCK         COMPUTE TOTAL TIME SYSTEM HAS RUN          IOPB0803    
      01132                          WHEN    B,T,,SEB,,,,, ..                                         IOPB0804    
      01132 -0761 00 0 00042         SEB     ,,                                                       IOPB0804.003
      01133  0361 00 0 01206         ACL     CLKTIM        .. CLOCK TRAP INTERVAL                     IOPB0805    
      01134 -0320 00 0 02077         ANA     =O777777      ..                                         IOPB0806    
      01135  0361 00 0 01155         ACL     TOTTIM        ..                                         IOPB0807    
      01136  0402 00 0 01156         SUB     SAVTOT        SUBTRACT TIME OF LAST CALL TO 'ADDTIM'     IOPB0808    
      01137  0100 00 4 00001         TZE     1,4           IGNORE IF NO TIME HAS ELAPSED SINCE        IOPB0809    
      01140  0602 00 0 01157         SLW     DELTA         OTHERWISE, SAVE TIME INCREMENT             IOPB0810    
      01141  0400 00 0 01156         ADD     SAVTOT        SAVE CURRENT TIME                          IOPB0811    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1925.8 PAGE 20    
                  
      01142  0602 00 0 01156         SLW     SAVTOT        .. FOR NEXT CALL TO 'ADDTIM'               IOPB0812    
      01143 -0500 00 0 01153         CAL     TIMNOW        UPDATE TIME OF DAY                         IOPB0813    
      01144  0400 00 0 01157         ADD     DELTA         ..                                         IOPB0814    
      01145  0602 00 0 01153         SLW     TIMNOW        ..                                         IOPB0815    
      01146 -0500 00 0 01154         CAL     ELAPSE        UPDATE ELAPSE TIME SINCE LAST CALL         IOPB0816    
      01147  0400 00 0 01157         ADD     DELTA         .. TO 'GETELT'                             IOPB0817    
      01150  0602 00 0 01154         SLW     ELAPSE        ..                                         IOPB0818    
      01151  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPB0819    
                                                                                                      IOPB0820    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1925.8 PAGE 21    
                  
                                                                                                      IOPB0822    
                                             ..... CONSTANT AND VARIABLE STORAGE FOR 'IOPAC' ........ IOPB0823    
                                                                                                      IOPB0824    
                                                                                                      IOPB0826    
      01152  0 00000 0 00000  DATEYR PZE     0             TODAY'S DATE  BCI 1,MMDDYY                 IOPB0827    
      01153  0 00000 0 00000  TIMNOW PZE     0             TIME OF DAY IN 60THS OF A SECOND           IOPB0828    
      01154  0 00000 0 00000  ELAPSE PZE     0             TIME SINCE LAST CALL TO 'GETELT'           IOPB0829    
      01155  0 00000 0 00000  TOTTIM PZE     0             TOTAL TIME SYSTEM HAS RUN                  IOPB0830    
      01156  0 00000 0 00000  SAVTOT PZE     0             TOTTIM AT TIME OF LAST CALL TO 'ADDTIM'    IOPB0831    
      01157  0 00000 0 00000  DELTA  PZE     0             TEMP FOR 'ADDTIM'                          IOPB0832    
      01160  0 00000 0 00000  ATLOST PZE     0             LOST TRAP ON CHANNEL 'A' SAVED HERE        IOPB0833    
      01161  0 00000 0 00000  CMXRTN PZE     0             TEMP FOR RETURN FROM 'CMEXIT'              IOPB0834    
      01162  0 00000 0 00000  CMXSI  PZE     0             SENSE INDICATORS SAVED BY 'CMEXIT'         IOPB0835    
                                                                                                      IOPB0836    
      01163  0 00000 0 00000  TRPIR4 PZE     0             MACHINE CONDITIONS SAVED ON TRAP           IOPB0837    
      01164  0 00000 0 00000  TRPMTM PZE     **            ..                                         IOPB0838    
      01165  0 00000 0 00000  TRPSI  PZE     0             ..                                         IOPB0839    
      01166  0 00000 0 00000  TRPMQ  PZE     0             ..                                         IOPB0840    
      01167  0 00000 0 00000  TRPLAC PZE     0             ..                                         IOPB0841    
      01170  0 00000 0 00000  TRPSQ  PZE     0             ..                                         IOPB0842    
      01171  0 00000 0 00000  TRPOV  PZE     0             ..                                         IOPB0843    
                                                                                                      IOPB0844    
      01172  0 00000 0 00000  PRCOL  PZE     0             TEMPS FOR WPRPU                            IOPB0845    
      01173  0 00000 0 00000  AUTHOR PZE     0             TEMP FOR 'SETIO'                           IOPB0846    
      01174  0 00000 0 00000  RTNLOC PZE     0             TRAP FLAGS SAVED HERE ON ALL TRAPS         IOPB0847    
      01175  0 00000 0 00000  CLKEYS PZE     0             CONSOLE KEYS, SAVED BY 'CLKINT'            IOPB0848    
      01176  0 00000 0 00000  KEYSW  PZE     0             SWITCH USED BY 'CLKINT'                    IOPB0849    
      01177  0 00000 0 00000  FERTN  PZE     **            RETURN LOCATION SET BY 'FERRTN'            IOPB0850    
      01200  0 00000 0 00000  UILOCK PZE     **            RETURN LOCATION SET BY 'TILOCK'            IOPB0851    
      01201  0 00000 0 00000  SVCHAN PZE     0             TEMP USED BY SAVCHA/RSTCHA                 IOPB0852    
      01202  0 00000 0 00000  SVIOCK PZE     0             TEMP USED BY SAVCHA/RSTCHA                 IOPB0853    
      01203  0 00000 0 00000  ENBIFA PZE     -             ENABLE BITS IF CHANNEL A ENABLED           IOPB0854    
                                                                                                      IOPB0855    
                       01203  TPFLAG SYN     *-1           CHANNEL FLAGS SAVED HERE                   IOPB0856    
      01204  0 00000 0 00000         PZE     0             .. FOR CHANNEL 'A'                         IOPB0857    
      01205  0 00000 0 00000         PZE     0             .. AND CHANNEL 'B'                         IOPB0858    
                                                                                                      IOPB0859    
      01206 +000000000074     CLKTIM DEC     60            CLOCK TRAP INTERVAL                        IOPB0860    
                                                                                                      IOPB0861    
      01207  0 00000 0 00002  HOME   PZE     B+1           FLAG FOR 'HOME' MEMORY                     IOPB0862    
                                                                                                      IOPB0863    
      01210  604546602551     NOERTN BCI     5, NO ERROR RETURN SPECIFIED.                            IOPB0864    
      01215  545454545454     PP21UP BCI     6,****** PLEASE PUT KEY 21 UP. ******                    IOPB0865    
      01223  545454545454     KEYSNG BCI     8,****** ILLEGAL KEY SETTING, TRY AGAIN. ******          IOPB0866    
      01233  604225706260     KREAD  BCI     4, KEYS READ. ************                               IOPB0867    
      01237  602567316360     EXITMS BCI     2, EXIT CALLED                                           IOPB0868    
                                                                                                      IOPB0869    
      01323                   SAVFMS BES     HITRAP+1      FMS LOWER CORE SAVED HERE                  IOPB0870    
                                                                                                      IOPB0871    
      01323 -0 00003 0 00000  LDFIOP IOCP    0,,3          LOAD FIOP INTO MEMORY 'A'                  IOPB0872    
      01324  1 00000 0 00000         TCH     0             ..                                         IOPB0873    
                                                                                                      IOPB0874    
                       01324  TCOAB  SYN     *-1           CHANNEL WAIT INSTRUCTIONS                  IOPB0875    
      01325  0060 00 0 00000         TCOA    **            .. FOR CHANNEL 'A'                         IOPB0876    
      01326  0061 00 0 00000         TCOB    **            .. AND CHANNEL 'B'                         IOPB0877    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1925.8 PAGE 22    
                  
                                                                                                      IOPB0879    
                                             ... RCLOCK ... READ CHRONOLOG, SET TIMNOW AND DATEYR ... IOPB0880    
                                                                                                      IOPB0881    
      01327  0634 00 4 01414  RDCLOC SXA     RCLKX4,4      SAVE XRS                                   IOPB0882    
      01330  0634 00 2 01413         SXA     RCLKX2,2      ..                                         IOPB0883    
      01331  0634 00 1 01412         SXA     RCLKX1,1      ..                                         IOPB0884    
                                                                                                      IOPB0885    
      01332  0774 00 1 00002         AXT     2,1           TRY TWICE IN CASE OF BAD DATE              IOPB0886    
      01333  0600 00 0 01514  RCLOC1 STZ     MMDDHH        RESET                                      IOPB0887    
      01334  0600 00 0 01515         STZ     MMSS66        ..                                         IOPB0888    
      01335  0762 00 0 01207         RTDZ                  SELECT CHRONOLOG AS TAPE 'A7'              IOPB0889    
      01336  0540 00 0 01451         RCHZ    RCLOCK        START UP CHANNEL TO READ CLOCK             IOPB0890    
      01337  0774 00 2 00002         AXT     2,2           COUNT TRIES                                IOPB0891    
      01340  0774 00 4 10624  RCLOC2 AXT     DELAY,4       9 MS DELAY WITH TIX *                      IOPB0892    
      01341  2 00001 4 01341         TIX     *,4,1         ..                                         IOPB0893    
      01342  0520 00 0 01514         ZET     MMDDHH        HAS FIRST WORD BEEN READ                   IOPB0894    
      01343  0020 00 0 01347         TRA     RCLOC3        YES, SKIP TO WAIT ON CHANNEL               IOPB0895    
      01344  2 00001 2 01340         TIX     RCLOC2,2,1    NO, COUNT TRIES                            IOPB0896    
      01345  0760 00 0 01352         RDCZ                  AFTER 18 MS GIVE UP, RESET CHANNEL         IOPB0897    
      01346  0020 00 0 01417         TRA     BADCLK        SKIP TO INFORM OPERATOR                    IOPB0898    
      01347  0060 00 0 01347  RCLOC3 TCOZ    *             WAIT UNTIL BOTH WORDS ARE READ             IOPB0899    
      01350  0022 00 0 01351         TRCZ    *+1           INSURE RTT TRIGGER RESET                   IOPB0900    
                                                                                                      IOPB0901    
      01351  0774 00 2 00002  RCLOC4 AXT     2,2           INSURE ALL CHARACTERS READ ARE LEGAL       IOPB0902    
      01352  0560 00 2 01516  RCLK4A LDQ     MMDDHH+2,2    PICK UP WORD READ                          IOPB0903    
      01353  0774 00 4 00006         AXT     6,4           6 DIGITS PER WORD                          IOPB0904    
      01354 -0754 00 0 00000  RCLOC5 ZAC                   ..                                         IOPB0905    
      01355 -0763 00 0 00006         LGL     6             SHIFT CHAR                                 IOPB0906    
      01356  0734 00 7 00000         PAX     ,7            TO X7                                      IOPB0907    
      01357  3 00011 7 01416         TXH     RCLOC8,7,9    ERROR IF .G. 9                             IOPB0908    
      01360  2 00001 4 01354         TIX     RCLOC5,4,1    DO FOR ALL CHARS                           IOPB0909    
      01361  2 00001 2 01352         TIX     RCLK4A,2,1    .. OF EACH WORD                            IOPB0910    
                                                                                                      IOPB0911    
      01362  0560 00 0 01514         LDQ     MMDDHH        PICK UP HOUR                               IOPB0912    
      01363 -0773 00 0 00030         RQL     24            ..                                         IOPB0913    
      01364  0074 00 7 01437         TSX     DTB,7         CONVERT TO BINARY                          IOPB0914    
      01365  0734 00 7 00000         PAX     ,7            ..                                         IOPB0915    
      01366  3 00027 7 01416         TXH     RCLOC8,7,23   INSURE LEGAL VALUE                         IOPB0916    
      01367  0560 00 0 01515         LDQ     MMSS66        NOW GET REST OF TIME                       IOPB0917    
      01370  0774 00 4 00003         AXT     3,4           MINUTES, SECONDS, 60THS                    IOPB0918    
      01371  0767 00 0 00002  RCLOC6 ALS     2             MULTIPLY PREVIOUS VALUE BY 60              IOPB0919    
      01372  0602 00 0 01454         SLW     TMP           .. N * 4                                   IOPB0920    
      01373  0774 00 7 00003         AXT     3,7           ..                                         IOPB0921    
      01374  0767 00 0 00001         ALS     1             .. 8, 16, 32                               IOPB0922    
      01375  0400 00 0 01454         ADD     TMP           ..                                         IOPB0923    
      01376  2 00001 7 01374         TIX     *-2,7,1       ..                                         IOPB0924    
      01377  0602 00 0 01453         SLW     60THS         .. = 60                                    IOPB0925    
      01400  0074 00 7 01437         TSX     DTB,7         NOW CONVERT NEXT FIELD FROM MQ             IOPB0926    
      01401  0734 00 7 00000         PAX     ,7            ..                                         IOPB0927    
      01402  3 00073 7 01416         TXH     RCLOC8,7,59   MUST BE LESS THAN 60                       IOPB0928    
      01403  0400 00 0 01453         ADD     60THS         ADD PREVIOUS RESULT                        IOPB0929    
      01404  2 00001 4 01371         TIX     RCLOC6,4,1    GO BACK TO MULTIPLY AGAIN                  IOPB0930    
      01405  0602 00 0 01153         SLW     TIMNOW        ..                                         IOPB0931    
      01406 -0500 00 0 01514         CAL     MMDDHH        ..                                         IOPB0932    
      01407 -0320 00 0 02107         ANA     =O777777770000 MASK OUT HOUR                             IOPB0933    
      01410 -0501 00 0 01452         ORA     YEAR          ADD IN YEAR TO FORM                        IOPB0934    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1925.8 PAGE 23    
                  
      01411  0602 00 0 01152         SLW     DATEYR        .. MMDDYY                                  IOPB0935    
      01412  0774 00 1 00000  RCLKX1 AXT     -,1           RESTORE XRS                                IOPB0936    
      01413  0774 00 2 00000  RCLKX2 AXT     -,2           ..                                         IOPB0937    
      01414  0774 00 4 00000  RCLKX4 AXT     -,4           ..                                         IOPB0938    
      01415  0020 00 4 00001         TRA     1,4           RETURN                                     IOPB0939    
                                                                                                      IOPB0940    
      01416  2 00001 1 01333  RCLOC8 TIX     RCLOC1,1,1    HERE FOR BAD DATE FROM CHRONOLOG, RETRY    IOPB0941    
                                                                                                      IOPB0942    
      01417  0560 00 0 01153  BADCLK LDQ     TIMNOW        HERE IF CHRONOLOG WILL NOT READ PROPERLY   IOPB0943    
      01420  0074 00 4 00001         TSX     CTIME,4       CONVERT TIME FOR PRINTING                  IOPB0944    
      01421  0602 00 0 01517         SLW     MMSS66+2      ..                                         IOPB0945    
      01422  0074 00 4 00375         TSX     EPRINT,4      TELL OPERATOR ABOUT IT                     IOPB0946    
      01423  0 00014 0 01504         PZE     CLKBAD,,12    .. THOUGH IT PROBABLY IS A WASTED EFFORT   IOPB0947    
      01424  0074 00 4 00375         TSX     EPRINT,4      YES, MUST HAVE A DATE AND TIME             IOPB0948    
      01425  0 00014 0 01455         PZE     SETMDH,,12    PRETEND OPERATOR IS CHRONOLOG              IOPB0949    
      01426  0000 00 0 01427         HTR     *+1           WAIT FOR OPERATOR                          IOPB0950    
      01427  0760 00 0 00004         ENK                   GET KEYS (MMDDHH)                          IOPB0951    
      01430 -0600 00 0 01514         STQ     MMDDHH        PRETEND THE CHRONOLOG DID IT               IOPB0952    
      01431  0074 00 4 00375         TSX     EPRINT,4      NOW ASK FOR THE REST OF IT                 IOPB0953    
      01432  0 00013 0 01471         PZE     SETMS6,,11    ..                                         IOPB0954    
      01433  0000 00 0 01434         HTR     *+1           .. WAIT AGAIN                              IOPB0955    
      01434  0760 00 0 00004         ENK                   MMSS66                                     IOPB0956    
      01435 -0600 00 0 01515         STQ     MMSS66        ..                                         IOPB0957    
      01436  0020 00 0 01351         TRA     RCLOC4        PROCESS NORMALLY                           IOPB0958    
                                                                                                      IOPB0959    
      01437 -0754 00 0 00000  DTB    ZAC                   ROUTINE TO CONVERT TWO BCD DIGITS TO BINARYIOPB0960    
      01440 -0763 00 0 00006         LGL     6             ..                                         IOPB0961    
      01441  0601 00 0 01454         STO     TMP           ..                                         IOPB0962    
      01442 -0754 00 0 00000         ZAC                   ..                                         IOPB0963    
      01443 -0763 00 0 00003         LGL     3             ..                                         IOPB0964    
      01444  0400 00 0 01454         ADD     TMP           ..                                         IOPB0965    
      01445 -0763 00 0 00002         LGL     2             ..                                         IOPB0966    
      01446  0400 00 0 01454         ADD     TMP           ..                                         IOPB0967    
      01447 -0763 00 0 00001         LGL     1             ..                                         IOPB0968    
      01450  0020 00 7 00001         TRA     1,7           ..                                         IOPB0969    
                                                                                                      IOPB0970    
                                                                                                      IOPB0971    
      01451  3 00002 1 01514  RCLOCK IORT    MMDDHH,B,2    CHANNEL COMMAND TO READ CHRONOLOG CLOCK    IOPB0972    
      01452  000000000701     YEAR   BCI     1,000071      MUST BE CHANGED EVERY YEAR **************  IOPB0973    
      01453  0 00000 0 00000  60THS  PZE                                                              IOPB0974    
      01454  0 00000 0 00000  TMP    PZE                                                              IOPB0975    
                                                                                                      IOPB0976    
      01455  464725512163     SETMDH BCI     9,OPERATOR ENTER BCD MONTH, DAY, HOUR IN KEYS, FORMAT MM IOPB0977    
      01466  242430303360            BCI     3,DDHH. PRESS START.                                     IOPB0978    
      01471  254563255160     SETMS6 BCI     9,ENTER BCD MINUTE, SECOND, 60TH IN KEYS, FORMAT MMSS66. IOPB0979    
      01502  604751256262            BCI     2, PRESS START.                                          IOPB0980    
      01504  233051464546     CLKBAD BCI     /CHRONOLOG CLOCK MALFUNCTIONING. CLOCK READ '/           IOPB0981    
      01514  444424243030     MMDDHH BCI     1,MMDDHH                                                 IOPB0982    
      01515  444462620606     MMSS66 BCI     1,MMSS66                                                 IOPB0983    
      01516  146021636057            BCI     /' AT /                                                  IOPB0984    
      01517  303044443344            BCI     1,HHMM.M                                                 IOPB0985    
                                                                                                      IOPB0986    
                       01327         ORG     RDCLOC        CLOCK READ ROUTINE IS OVERLAPPED           IOPB0987    
                                                                                                      IOPB0988    
      01327                   STATBL BSS     STBL          STORAGE FOR ACTIVE FILE STATUS TABLE       IOPB0989    
      01710                   QUEUE1 BSS     1QL           STORAGE FOR DRUM STRATEGY MODULE           IOPB0990    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1925.8 PAGE 24    
                  
      02043                   QUEUE2 BSS     2QL           STORAGE FOR DISK STRATEGY MODULE           IOPB0991    
      02043                   QUEUE3 BSS     3QL           STORAGE FOR TAPE STRATEGY MODULE           IOPB0992    
                                                                                                      IOPB0993    
                                     END                                                              IOPB0995    
                  
        LITERALS  
      02074  000000000000     
      02075  000000000001     
      02076  000000007777     
      02077  000000777777     
      02100  000001000001     
      02101  000003000003     
      02102  000007000000     
      02103  016001777777     
      02104  077777000000     
      02105  400000000000     
      02106  700000377777     
      02107  777777770000     
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1925.8 PAGE 1     
                        POST PROCESSOR ASSEMBLY DATA  
                  
       2110 IS THE FIRST LOCATION NOT USED BY THIS PROGRAM  
                  
0REFERENCES TO DEFINED SYMBOLS      
          1      B    17,  531,  533, 1207, 1451
       1207      Z    17, 1335, 1336, 1345, 1347, 1350
          4     P0   636,  666,  667,  670,  671,  672,  673,  674
         10     P1   636,  646,  656,  666
         20     P2   636,  637,  647,  657,  667
         40     P3   636,  637,  643,  647,  653,  654,  657,  663,  667,  673
        100     P4   636,  640,  644,  650,  654,  660,  664,  670,  674
        200     P5   636,  640,  650,  660,  670
        400     P6   636,  641,  651,  661,  671
       1000     P7   636,  641,  651,  661,  671
       2000     P8   636,  642,  643,  644,  652,  653,  654,  662,  663,  664,  672,  673,  674
       4000     P9   636,  642,  652,  662,  672
        133    1QL    17,   71, 1710
          0    2QL    17,   72, 2043
         31    3QL    17,   73, 2043
       1437    DTB  1364, 1400
        626    NOP      
          2    P11   636,  656,  657,  660,  661,  662,  663,  664
          1    P12   636,  646,  647,  650,  651,  652,  653,  654
        467    SKP   643,  644,  645,  653,  655,  663,  664,  665,  673,  674,  675
       1454    TMP  1372, 1375, 1441, 1444, 1446
        756   7TAG   752
          0   BTOC   154,  156
        541   CARD   501,  535,  536,  541
        472   DONE   430,  461
        345   EXIT     0,  323
       1207   HOME   106,  107,  110
        532   IOCD   507
        625   MQ.T   436,  467
        522   PEND   477,  504,  515
        511   PNOW   502
        623   PRSW   360,  363,  376,  411,  473
        523   PRX1   377
        524   PRX2   400
        525   PRX4   401,  403
        512   SPRA   416,  517
        506   SPRX   417
        361   STBL    17,   70, 1327
       1452   YEAR  1410
       1453  60THS  1377, 1403
        374  A1BAD   367,  370
        215  ATRAP    51
        233  BTRAP    52
        573  CBUF1   531,  540,  542
        543  CBUF2   421,  533,  537,  541
        636  CHRTB   441,  636
          5  CLOCK    17,  113,  130,  205, 1131
       1162  CMXSI   677,  710,  715,  722
          1  CTIME  1420
      10624  DELAY    17, 1340
       1157  DELTA  1140, 1144, 1147
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1925.8 PAGE 2     
                        POST PROCESSOR ASSEMBLY DATA  
                  
       1023  ENBSW    20,  740,  742,  774,  776
        363  EXIT1   374,  375
       1177  FERTN   314,  316,  317
         36  FIRST    30,   40
       1176  KEYSW   151,  153,  200
       1233  KREAD   155,  157,  161
        531  PRCM1   530,  535
        533  PRCM2   527
       1172  PRCOL   424,  451,  466
        531  PRCOM   513,  531
        357  PRINT     0,  321,  347
        531  PUCOM   476,  535
        362  PUNCH     0,  361
         10  SETAB   105
         17  SETIO     0
        117  SETX1    22
        120  SETX2    23
        121  SETX4    24
        631  SPRA9   516
       1324  TCOAB   300,  301, 1325
         12  TRAPA   226, 1115
         13  TRAPB   244
       1166  TRPMQ   762, 1016
       1171  TRPOV   766,  770, 1020
       1165  TRPSI   761, 1017
       1170  TRPSQ   765, 1011
          5  USTAT    67
        377  WPRPU   367
        357  WRFLX     0,  357
         13 ADCTRP    17,   55, 1031, 1032, 1045, 1072, 1073, 1104
       1127 ADDTIM   201,  257,  266
        773 ALLRST     0,  211,  252, 1123
        737 ALLSAV     0,  137,  221,  237,  724, 1114
        772 ALLXR4   743, 1000
       1160 ATLOST   704,  725,  730, 1025, 1042, 1111, 1116, 1120, 1122
        226 ATRAP1   731
         12 ATRLOC    17,  223, 1040
       1173 AUTHOR    26,  101
       1417 BADCLK  1346
        167 BADKEY   165
         15 BDCTRP    17,   56
         14 BTRLOC    17,  241
       1110 CHKCHA   371
          4 CHNGUS    65
       1124 CKXIR4  1113
       1504 CLKBAD  1423
       1175 CLKEYS   145,  146,  162,  172,  176
        133 CLKINT    50
          6 CLKLOC    17,  141
       1206 CLKTIM   124,  203, 1133
          7 CLKTRP    17,   54
        676 CMEXIT     0,  212,  253
        715 CMRTNB   707
       1161 CMXRTN   702,  714,  717
       1152 DATEYR    62,  262, 1411
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1925.8 PAGE 3     
                        POST PROCESSOR ASSEMBLY DATA  
                  
        624 DONESW   431,  472,  514
       1154 ELAPSE   270,  271, 1146, 1150
       1126 ENABLE     0,   32,   33,   64,  122,  263,  272,  277,  342,  372,  711,  716,  735
       1203 ENBIFA    35, 1034, 1075
        375 EPRINT     0,  160,  167,  173, 1422, 1424, 1431
       1237 EXITMS   350
        313 FERRTN     0
        337 FILOCK   335
        732 FILXIT     0
       1100 FORGET  1070
        265 GETELT     0
        256 GETIME     0
         61 HITRAP    17,   43,   44,   43,   45,  356,  360, 1241
        344 IGNINT   334,  336,  340
        252 IGNTRP   230,  246
        316 IOERTN    61
         14 IOFINI   345
          3 IOINIT    60
       1223 KEYSNG   170
        172 KEYSOK   166
        200 KEYSUP   150
       1323 LDFIOP   365
       1514 MMDDHH  1333, 1342, 1352, 1362, 1406, 1430, 1451
       1515 MMSS66  1334, 1367, 1421, 1435
       1210 NOERTN   322
        537 ORINBT   454,  537
        356 OVLORG    43,  356
       1215 PP21UP   174
          2 PRNTER   320
        500 PRNT.1   474
        420 PRPU.1   412
        432 PRPU.2   410,  471
        434 PRPU.3   470
        466 PRPU.4   462,  521
        473 PRPU.5   465
        373 PRPUX4   364
        514 PRT2.2   510
       1710 QUEUE1    71
       2043 QUEUE2    72
       2043 QUEUE3    73
       1352 RCLK4A  1361
       1412 RCLKX1  1331
       1413 RCLKX2  1330
       1414 RCLKX4  1327
       1333 RCLOC1  1416
       1340 RCLOC2  1344
       1347 RCLOC3  1343
       1351 RCLOC4  1436
       1354 RCLOC5  1360
       1371 RCLOC6  1404
       1416 RCLOC8  1357, 1366, 1402
       1451 RCLOCK  1336
       1327 RDCLOC    37, 1327
        250 RECTRP   232
       1102 RSCHA1  1077
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1925.8 PAGE 4     
                        POST PROCESSOR ASSEMBLY DATA  
                  
       1054 RSTCHA   522
       1106 RSTCX4  1054
       1174 RTNLOC   143,  214,  225,  227,  243,  245,  250,  255,  721,  727
       1024 SAVCHA   402
       1323 SAVFMS    45,  357
       1156 SAVTOT  1136, 1141, 1142
       1455 SETMDH  1425
       1471 SETMS6  1432
          6 SETRAP    74
          7 SETUSR    76
        720 SIMTRP   705
        201 SKPKEY   152,  171,  177
        626 SPRTBL   415,  626
        341 SSTIR4   331
        327 SSTRAP    75
       1327 STATBL    70
        124 STCLOC   116,  210
        730 STZ.A)     0
       1043 SVCHA1  1036
       1047 SVCHA2  1026
       1201 SVCHAN  1047, 1056
       1202 SVIOCK  1050, 1052, 1065
         11 TAPKEY   175
        324 TILOCK     0
       1153 TIMNOW    63,  111,  115,  261, 1143, 1145, 1405, 1417
       1155 TOTTIM   202,  207, 1135
       1203 TPFLAG   251,  303,  304, 1121, 1204
        274 TPWAIT     0
       1001 TRPIR1   744
       1002 TRPIR2   745
       1003 TRPIR3   746,  755
       1163 TRPIR4   136,  213,  220,  236,  254,  723
       1004 TRPIR5   756
       1005 TRPIR6   757
       1006 TRPIR7   760
       1167 TRPLAC   763, 1015
       1164 TRPMTM   751,  753, 1007
       1037 TSTRAP  1027
        305 TWATX4   274
       1200 UILOCK   325,  337,  343
        375 WRTOPR     0,  375
                  
0 NO ERROR IN ABOVE ASSEMBLY. 




IOPC2C   BCD 03/18/71 2011.8   22147         00000    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.3 PAGE 1     
                  
                                                                                                      IOPC0003    
                       00017         ENTRY   SETIO         TO INITIALIZE IOPAC AND FILE SYSTEM        IOPC0004    
                       00173         ENTRY   DKEY          TO SUPER FUDGE                             IOPC0005    
                       00245         ENTRY   GETIME        TO GET DATE AND TIME OF DAY                IOPC0006    
                       00254         ENTRY   GETELT        TO GET ELAPSE TIME SINCE LAST CALL         IOPC0007    
                       00263         ENTRY   TPWAIT        TO WAIT AND CHECK CHANNEL FLAGS            IOPC0008    
                       00302         ENTRY   FERRTN        TO SET RETURN FOR UNDEFINED ERRORS         IOPC0009    
                       00313         ENTRY   TILOCK        TO SET RETURN ON INTERLOCKED FILES         IOPC0010    
                       00334         ENTRY   EXIT          TO UPDATE FILE SYSTEM AND TERMINATE        IOPC0011    
                       00365         ENTRY   PRINT         TO PRINT ON ON-LINE PRINTER                IOPC0012    
                       00370         ENTRY   PUNCH         TO PUNCH A CARD ON LINE                    IOPC0013    
                       00403         ENTRY   EPRINT        TO PRINT A LINE DURING A TRAP              IOPC0014    
                       00365         ENTRY   WRFLX         SYNONOMOUS WITH 'PRINT'                    IOPC0015    
                       00403         ENTRY   WRTOPR        SYNONYMOUS WITH 'EPRINT'                   IOPC0016    
                       00704         ENTRY   CMEXIT        TO RETURN TO INTERRUPTED PROGRAM           IOPC0017    
                       00736         ENTRY   STZ.A)        SPECIAL REFERENCE FROM TAPE ADAPTER        IOPC0018    
                       00740         ENTRY   FILXIT        TO RETURN TO CALLER OF FILE SYSTEM         IOPC0019    
                       00745         ENTRY   ALLSAV        TO SAVE MACHINE CONDITIONS ON TRAP         IOPC0020    
                       01001         ENTRY   ALLRST        TO RESTORE MACHINE CONDITIONS              IOPC0021    
                       01122         ENTRY   ENABLE        POINTER ENTRY TO COMMON ENABLE WORD        IOPC0022    
                                                                                                      IOPC0023    
                                     EXTERN  BTOC,CTIME,PRNTER                                        IOPC0024    
                  
        TRANSFER VECTOR 
      00000  226346236060     BTOC  
      00001  236331442560     CTIME 
      00002  475145632551     PRNTER
      00003  314631453163     IOINIT
      00004  233045276462     CHNGUS
      00005  646263216360     USTAT 
      00006  622563512147     SETRAP
      00007  622563646251     SETUSR
      00010  622563212260     SETAB 
      00011  632147422570     TAPKEY
      00012  635121472160     TRAPA 
      00013  635121472260     TRAPB 
      00014  314626314531     IOFINI
                  
        LINKAGE DIRECTOR
      00015  000000000000     
      00016  622563314660     
                  
                      075045  DEMKEY BOOL    75045         DAEMON KEY SETTING ***** COMMON SENSITIVE *IOPC0025    
                                                                                                      IOPC0026    
                      000061  HITRAP BOOL    61            HIGHEST CHANNEL INTERRUPT LOCATION         IOPC0027    
                       01207  Z      TAPENO  A7            CHRONOLOG CLOCK SET AS TAPE A7             IOPC0028    
                       10624  DELAY  EQU     4500          9 MILLESECOND DELAY AFTER READING CHRONOLOGIOPC0029    
                       00005  CLOCK  EQU     5             INTERVAL TIMER AND INTERRUPT CLOCK         IOPC0030    
                       00006  CLKLOC EQU     6             ILC SVAED HERE ON CLOCK TRAP               IOPC0031    
                       00007  CLKTRP EQU     7             TRANSFER FROM HERE ON CLOCK TRAP           IOPC0032    
                       00012  ATRLOC EQU     10            ILC SAVED HERE ON CHANNEL 'A' TRAP         IOPC0033    
                       00013  ADCTRP EQU     11            TRANSFER FROM HERE ON CHANNEL 'A' TRAP     IOPC0034    
                       00014  BTRLOC EQU     12            ILC SAVED HERE ON CHANNEL 'B' TRAP         IOPC0035    
                       00015  BDCTRP EQU     13            TRANSFER FROM HERE ON CHANNEL 'B' TRAP     IOPC0036    
                       00000  B      EQU     0             MEMORY B SWITCH, ('0' FOR A, '1' FOR B)    IOPC0037    
                       00361  STBL   EQU     21+10*22      A.F.S.T. LENGTH, SPACE FOR 10 FILES        IOPC0038    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.3 PAGE 2     
                  
                       00133  1QL    EQU     1+9*10        DISK/DRUM QUEUE LENGTH                     IOPC0039    
                       00000  2QL    EQU     0             NULL QUEUE (DISK USES DRUM QUEUE)          IOPC0040    
                       00031  3QL    EQU     25            TAPE QUEUE LENGTH                          IOPC0041    
                                                                                                      IOPC0042    
                              OVLBGN MACRO                 MACRO USED AT BEGINNING OF SECTION         IOPC0043    
                                     UNLIST                .. TO BE OVER WRITTEN                      IOPC0044    
                              OVLORG SET     *             SAVE CURRENT LOCATION COUNTER              IOPC0045    
                              OVLBGN END                                                              IOPC0046    
                                                                                                      IOPC0047    
                              OVLEND MACRO                 MACRO USED AT END OF SECTION               IOPC0048    
                                     ORG     OVLORG        .. TO BE OVER WRITTEN                      IOPC0049    
                                     LIST                  ..                                         IOPC0050    
                              OVLEND END                                                              IOPC0051    
                                                                                                      IOPC0052    
                              WHEN   MACRO   A,TFIND,LOC,OP,ADDR,TAG,DECR    WHENEVER MACRO           IOPC0053    
                                     IFF     1,TFIND,T                                                IOPC0054    
                                     GENIF   A,0,0,LOC,OP,ADDR,TAG,DECR,                              IOPC0055    
                                     IFF     1,TFIND,F                                                IOPC0056    
                                     GENIF   A,0,1,LOC,OP,ADDR,TAG,DECR,                              IOPC0057    
                              WHEN   END                                                              IOPC0058    
                                                                                                      IOPC0059    
                              GENIF  MACRO   IF1,IF2,IF3,LOC,OP,ADDR,TAG,DECR                         IOPC0060    
                                     IFF     IF1,IF2,IF3                                              IOPC0061    
                                     GENOP   LOC,OP,ADDR,TAG,DECR,                                    IOPC0062    
                              GENIF  END                                                              IOPC0063    
                                                                                                      IOPC0064    
                              GENOP  MACRO   LOC,OP,ADDR,TAG,DECR    GENERATE OPERATION               IOPC0065    
                                     PMC     ON                                                       IOPC0066    
                              LOC    OP      ADDR,TAG,DECR                                            IOPC0067    
                                     PMC     OFF                                                      IOPC0068    
                              GENOP  END                                                              IOPC0069    
                                                                                                      IOPC0070    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.3 PAGE 3     
                  
                                                                                                      IOPC0072    
                                             SETIO ..... INITIALIZE FILE SYSTEM AND I/O PACKAGE       IOPC0073    
                                                                                                      IOPC0074    
      00017  0564 00 0 02066  SETIO  ENB     =0            ENTRY TO INITIALIZE IOPAC AND FILE SYSTEM  IOPC0075    
      00020 -0625 00 0 01031         STL     ENBSW         INDICATE TO ALLSAV THAT TRAPS ARE LEGAL    IOPC0076    
      00021  0760 00 0 00016         LMTM                  INSURE 7-TAG (7094) MODE                   IOPC0077    
      00022  0634 00 1 00115         SXA     SETX1,1                                                  IOPC0078    
      00023  0634 00 2 00116         SXA     SETX2,2                                                  IOPC0079    
      00024  0634 00 4 00117         SXA     SETX4,4                                                  IOPC0080    
      00025 -0500 60 4 00001         CAL*    1,4           PICK UP AUTHOR FROM CALLER                 IOPC0081    
      00026  0602 00 0 01165         SLW     AUTHOR        ..                                         IOPC0082    
      00027  0500 00 4 00001         CLA     1,4           CHECK IF TAPE STRATEGY NEEDED              IOPC0083    
      00030 -0120 00 0 00036         TMI     FIRST         SKIP IF TAPE STRATEGY NOT NEEDED           IOPC0084    
      00031 -0500 00 0 02073         CAL     =O3000003     OTHERWISE SET UP TRAPS FOR TAPE STRATEGY   IOPC0085    
      00032 -0602 00 0 01122         ORS     ENABLE        ..                                         IOPC0086    
      00033 -0500 00 0 01122         CAL     ENABLE        SET UP ENABLE FOR CHANNEL 'A' ONLY         IOPC0087    
      00034 -0320 00 0 02072         ANA     =O1000001     ..                                         IOPC0088    
      00035  0602 00 0 01175         SLW     ENBIFA        .. ONLY IF CHANNEL 'A' ENABLED ALREADY     IOPC0089    
                                                                                                      IOPC0090    
      00036  0020 00 0 00037  FIRST  TRA     *+1           FIRST PASS SWITCH                          IOPC0091    
      00037  0074 00 4 01321         TSX     RDCLOC,4      READ CHRONOLOG CLOCK FIRST TIME ONLY       IOPC0092    
      00040 -0625 00 0 00036         STL     FIRST         AND CLOSE THIS PATH                        IOPC0093    
      00041  0760 00 0 01352         RDCA                  RESET DATA CHANNEL 'A'                     IOPC0094    
      00042  0760 00 0 02352         RDCB                  RESET DATA CHANNEL 'B'                     IOPC0095    
                                                                                                      IOPC0096    
      00043                          WHEN    B,T,,OVLBGN,,,,,                                         IOPC0097    
                                                                                                      IOPC0098    
      00043  0774 00 4 00062         AXT     HITRAP+1,4    SAVE FMS CONTROL LOCATIONS AND FMS CLOCK   IOPC0099    
      00044 -0500 00 4 00062         CAL     HITRAP+1,4    ..                                         IOPC0100    
      00045  0602 00 4 01315         SLW     SAVFMS,4      ..                                         IOPC0101    
      00046  2 00001 4 00044         TIX     *-2,4,1       ..                                         IOPC0102    
                                                                                                      IOPC0103    
      00047                          WHEN    B,T,,OVLEND,,,,,                                         IOPC0104    
                                                                                                      IOPC0105    
      00047  0774 00 4 00062         AXT     HITRAP+1,4    CLEAR OUT TRAP AND INTERRUPT LOCATIONS     IOPC0106    
      00050                          WHEN    B,T,,SEA,,,,,                                            IOPC0107    
      00050  0600 00 4 00062         STZ     HITRAP+1,4    ..                                         IOPC0108    
      00051  2 00001 4 00050         TIX     *-1,4,1       ..                                         IOPC0109    
      00052                          WHEN    B,T,,SEB,,,,,                                            IOPC0110    
      00052 -0500 00 0 00127         CAL     CLKINT        SET FOR FOR INTERVAL TIMER CLOCK TRAP      IOPC0111    
      00053  0560 00 0 00212         LDQ     ATRAP         .. CHANNEL 'A' TRAP                        IOPC0112    
      00054  0441 00 0 00225         LDI     BTRAP         .. AND CHANNEL 'B' TRAP                    IOPC0113    
      00055                          WHEN    B,T,,SEA,,,,,                                            IOPC0114    
      00055  0602 00 0 00007         SLW     CLKTRP        .. CLOCK TRAP                              IOPC0115    
      00056 -0600 00 0 00013         STQ     ADCTRP        .. CHANNEL 'A' TRAP                        IOPC0116    
      00057  0604 00 0 00015         STI     BDCTRP        .. CHANNEL 'B' TRAP                        IOPC0117    
      00060                          WHEN    B,T,,SEB,,,,,                                            IOPC0118    
                                                                                                      IOPC0119    
                                             ..... INITIALIZE FILE I/O SYSTEM ........................IOPC0120    
                                                                                                      IOPC0121    
      00060  0074 00 4 00003         TSX     $IOINIT,4     FILE SYSTEM INITIALIZATION ENTRY           IOPC0122    
      00061  3 00000 0 00305         PTH     IOERTN        .. ERROR RETURN                            IOPC0123    
      00062  3 00000 0 01144         PTH     DATEYR        .. TODAY'S DATE IN BCD                     IOPC0124    
      00063  3 00000 0 01145         PTH     TIMNOW        .. TIME OF DAY IN 60THS OF A SECOND        IOPC0125    
      00064  3 00000 0 01122         PTH     ENABLE        .. COMMON ENABLE WORD                      IOPC0126    
      00065  0074 00 4 00004         TSX     $CHNGUS,4     SET USER NO. 1 AS USER OF FILE SYSTEM      IOPC0127    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.3 PAGE 4     
                  
      00066  3 00000 0 02067         PTH     =1            ..                                         IOPC0128    
      00067  0074 00 4 00005         TSX     $USTAT,4      SET UP STORAGE FOR FILE SYSTEM             IOPC0129    
      00070  3 00361 0 01321         PTH     STATBL,,STBL  ..                                         IOPC0130    
      00071  3 00133 0 01702         PTH     QUEUE1,,1QL   ..                                         IOPC0131    
      00072  3 00000 0 02035         PTH     QUEUE2,,2QL   ..                                         IOPC0132    
      00073  3 00031 0 02035         PTH     QUEUE3,,3QL   ..                                         IOPC0133    
      00074  0074 00 4 00006         TSX     $SETRAP,4     SET UP SUPERVISOR INTERRUPT LOCATION       IOPC0134    
      00075  3 00000 0 00316         PTH     SSTRAP        ..                                         IOPC0135    
      00076  0074 00 4 00007         TSX     $SETUSR,4     SET UP USER OPTIONS                        IOPC0136    
      00077  3 00000 0 02067         PTH     =1            .. FOR USER NO. 1                          IOPC0137    
      00100  3 00000 0 02075         PTH     =O007010777777 .. UNRESTRICTED USER (DAEMON)             IOPC0138    
      00101  3 00000 0 01165         PTH     AUTHOR        .. AUTHOR FROM CALL TO SETIO               IOPC0139    
      00102  3 00000 0 02076         PTH     =O77777000000 .. PROTECTION LIMITS IF NEEDED             IOPC0140    
      00103  3 00000 0 02066         PTH     =0            .. ZERO RELOCATION                         IOPC0141    
      00104  3 00000 0 02067         PTH     =1            .. GIVE USER HIGHEST PRIORITY              IOPC0142    
      00105  0074 00 4 00010         TSX     $SETAB,4      SET ALL ENTRIES TO COME FROM 'HOME' MEMORY IOPC0143    
      00106  3 00000 0 01201         PTH     HOME          ..                                         IOPC0144    
      00107  3 00000 0 01201         PTH     HOME          ..                                         IOPC0145    
      00110  3 00000 0 01201         PTH     HOME          ..                                         IOPC0146    
                                                                                                      IOPC0147    
      00111 -0500 00 0 01145         CAL     TIMNOW        COMPUTE ANY TIME WASTED IN INITIALIZATION  IOPC0148    
      00112                          WHEN    B,T,,SEA,,,,,                                            IOPC0149    
      00112  0401 00 0 00005         ADM     CLOCK         ..                                         IOPC0150    
      00113                          WHEN    B,T,,SEB,,,,,                                            IOPC0151    
      00113  0602 00 0 01145         SLW     TIMNOW        ..                                         IOPC0152    
                                                                                                      IOPC0153    
      00114  0074 00 4 00122         TSX     STCLOC,4      START UP INTERVAL TIMER CLOCK NOW          IOPC0154    
      00115  0774 00 1 00000  SETX1  AXT     **,1                                                     IOPC0155    
      00116  0774 00 2 00000  SETX2  AXT     **,2                                                     IOPC0156    
      00117  0774 00 4 00000  SETX4  AXT     **,4                                                     IOPC0157    
      00120  0564 00 0 01122         ENB     ENABLE        INSURE ALL TRAPS ENABLED                   IOPC0158    
      00121  0020 00 4 00002         TRA     2,4           AND RETURN                                 IOPC0159    
                                                                                                      IOPC0160    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.3 PAGE 5     
                  
                                                                                                      IOPC0162    
                                             STCLOC/CLKINT ....... BASIC CLOCK SECTION ...............IOPC0163    
                                                                                                      IOPC0164    
      00122 -0500 00 0 01200  STCLOC CAL     CLKTIM        RESTART CLOCK TO RUN FOR CLKTIM            IOPC0165    
      00123  0760 00 0 00006         COM                   ..                                         IOPC0166    
      00124  0400 00 0 02067         ADD     =1            ..                                         IOPC0167    
      00125                          WHEN    B,T,,SEA,,,,,                                            IOPC0168    
      00125  0601 00 0 00005         STO     CLOCK         .. NOTE 'P' BIT NOT STORED                 IOPC0169    
      00126                          WHEN    B,T,,SEB,,,,,                                            IOPC0170    
      00126  0020 00 4 00001         TRA     1,4           ..                                         IOPC0171    
                                                                                                      IOPC0172    
      00127                          WHEN    B,F,CLKINT,TTR,*+1,,,,                                   IOPC0173    
      00127  0021 00 0 00130  CLKINT TTR     *+1,,                                                    IOPC0173.003
      00130                          WHEN    B,T,CLKINT,TIB,*+1,,,,                                   IOPC0174    
                                                                                                      IOPC0175    
      00130                          WHEN    B,T,,SEB,,,,,                                            IOPC0176    
                                                                                                      IOPC0177    
      00130  0564 00 0 02066         ENB     =0            HERE ON ALL INTERVAL TIMER 'CLOCK' TRAPS   IOPC0178    
      00131  0634 00 4 01155         SXA     TRPIR4,4      SAVE IR4                                   IOPC0179    
      00132  0074 00 4 00745         TSX     ALLSAV,4      AND REST OF MACHINE CONDITIONS             IOPC0180    
      00133                          WHEN    B,T,,SEA,,,,, PICK UP TRAP FLAGS                         IOPC0181    
      00133 -0500 00 0 00006         CAL     CLKLOC        ..                                         IOPC0182    
      00134                          WHEN    B,T,,SEB,,,,, ..                                         IOPC0183    
      00134  0602 00 0 01166         SLW     RTNLOC        ..                                         IOPC0184    
      00135  0760 00 0 00004         ENK                   PICK UP CONSOLE KEYS                       IOPC0185    
      00136 -0600 00 0 01167         STQ     CLKEYS        SAVE KEYS                                  IOPC0186    
      00137  0441 00 0 01167         LDI     CLKEYS        KEYS TO SI                                 IOPC0187    
      00140  0056 00  040000         RNT     40000         IS KEY '21' DOWN                           IOPC0188    
      00141  0020 00 0 00177         TRA     KEYSUP        NO, SKIP                                   IOPC0189    
      00142  0520 00 0 01170         ZET     KEYSW         YES, IS THIS A PREVIOUS REQUEST            IOPC0190    
      00143  0020 00 0 00200         TRA     SKPKEY        YES, IGNORE REDUNDANT REQUEST              IOPC0191    
      00144 -0625 00 0 01170         STL     KEYSW         NO, SERVICE NEW KEY REQUEST                IOPC0192    
      00145  0074 00 4 00000         TSX     BTOC,4        CONVERT LEFT-HALF MQ TO BCD                IOPC0193    
      00146  0602 00 0 01227         SLW     KREAD+2       ..                                         IOPC0194    
      00147  0074 00 4 00000         TSX     BTOC,4        RIGHT-HALF                                 IOPC0195    
      00150  0602 00 0 01230         SLW     KREAD+3       ..                                         IOPC0196    
      00151  0074 00 4 00403         TSX     EPRINT,4      PRINT MESSAGE                              IOPC0197    
      00152  1 00004 0 01225         PON     KREAD,,4      (DOUBLE SPACE)                             IOPC0198    
      00153 -0500 00 0 01167         CAL     CLKEYS        KEYS TO AC                                 IOPC0199    
      00154 -0320 00 0 02070         ANA     =O7777        IGNORE ALL BUT KEYS 24-35                  IOPC0200    
      00155  0734 00 4 00000         PAX     0,4           23-35 TO IR4                               IOPC0201    
      00156 -2 00006 4 00162         TNX     BADKEY,4,6    IGNORE FMS KEY SETTINGS (0-6)              IOPC0202    
      00157 -2 00004 4 00165         TNX     KEYSOK,4,4    SKIP IF KEYS SET FOR TAPE STRATEGY MODULE  IOPC0203    
      00160 -2 00005 4 00162         TNX     BADKEY,4,5    TEST FOR ILLEGAL KEY SETTING               IOPC0204    
      00161 -2 00010 4 00173         TNX     DKEY,4,8       TEST FOR DAEMON KEY                       IOPC0205    
      00162  0074 00 4 00403  BADKEY TSX     EPRINT,4      PRINT 'ILLEGAL KEY SETTING, TRY AGAIN.'    IOPC0206    
      00163  0 00010 0 01215                 KEYSNG,,8     ..                                         IOPC0207    
      00164  0020 00 0 00200         TRA     SKPKEY                                                   IOPC0208    
                                                                                                      IOPC0209    
      00165  0634 00 4 01167  KEYSOK SXA     CLKEYS,4      SAVE KEY SETTING FOR TAPE STRATEGY MODULE  IOPC0210    
      00166  0074 00 4 00403         TSX     EPRINT,4      PRINT '****** PLEASE PUT KEY 21 UP ******' IOPC0211    
      00167  0 00006 0 01207                 PP21UP,,6     ..                                         IOPC0212    
      00170  0074 00 4 00011         TSX     $TAPKEY,4     CALL TAPE STRATEGY MODULE                  IOPC0213    
      00171  3 00000 0 01167         PTH     CLKEYS        .. WITH KEY SETTING                        IOPC0214    
      00172  0020 00 0 00200         TRA     SKPKEY                                                   IOPC0215    
                                                                                                      IOPC0216    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.3 PAGE 6     
                  
      00173  0634 00 4 75045  DKEY   SXA     DEMKEY,4       SAVE DAEMON KEY SETTING                   IOPC0217    
      00174  0074 00 4 00403         TSX     EPRINT,4       SAVE KEY '21' BACK UP                     IOPC0218    
      00175  0 00006 0 01207                 PP21UP,,6      ..                                        IOPC0219    
      00176  0020 00 0 00200         TRA     SKPKEY         EXIT                                      IOPC0220    
                                                                                                      IOPC0221    
      00177  0600 00 0 01170  KEYSUP STZ     KEYSW         HERE IF KEY 21 UP, RESET SWITCH            IOPC0222    
                                                                                                      IOPC0223    
      00200  0074 00 4 01123  SKPKEY TSX     ADDTIM,4      UPDATE TIME COUNTERS                       IOPC0224    
      00201 -0500 00 0 01147         CAL     TOTTIM        UPDATE TOTAL TIME SYSTEM HAS RUN           IOPC0225    
      00202  0400 00 0 01200         ADD     CLKTIM        ..                                         IOPC0226    
      00203                          WHEN    B,T,,SEA,,,,,                                            IOPC0227    
      00203  0401 00 0 00005         ADM     CLOCK         ..                                         IOPC0228    
      00204                          WHEN    B,T,,SEB,,,,,                                            IOPC0229    
      00204  0602 00 0 01147         SLW     TOTTIM        ..                                         IOPC0230    
      00205  0074 00 4 00122         TSX     STCLOC,4      RESTART INTERVAL TIMER FOR 'CLKTIM'        IOPC0231    
      00206  0074 00 4 01001         TSX     ALLRST,4      RESTORE USER'S MACHINE CONDITIONS          IOPC0232    
      00207  0074 00 4 00704         TSX     CMEXIT,4      AND RETURN TO INTERRUPTED PROGRAM          IOPC0233    
      00210  0534 00 4 01155         LXA     TRPIR4,4      ..                                         IOPC0234    
      00211  0 00000 0 01166                 RTNLOC        ..                                         IOPC0235    
                                                                                                      IOPC0236    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPC0237    
                                                                                                      IOPC0238    
                                             ... ATRAP/BTRAP ... RECORD TRAPS FROM CHANNELS A AND B ..IOPC0239    
                                                                                                      IOPC0240    
      00212                          WHEN    B,F,ATRAP,TTR,*+1,,,,                                    IOPC0241    
      00212  0021 00 0 00213  ATRAP  TTR     *+1,,                                                    IOPC0241.003
      00213                          WHEN    B,T,ATRAP,TIB,*+1,,,,                                    IOPC0242    
                                                                                                      IOPC0243    
      00213                          WHEN    B,T,,SEB,,,,,                                            IOPC0244    
                                                                                                      IOPC0245    
      00213  0564 00 0 02066         ENB     =0            HERE FOR TRAP FROM CHANNEL 'A'             IOPC0246    
      00214  0634 00 4 01155         SXA     TRPIR4,4      SAVE IR4                                   IOPC0247    
      00215  0074 00 4 00745         TSX     ALLSAV,4      AND REST OF MACHINE CONDITIONS             IOPC0248    
      00216                          WHEN    B,T,,SEA,,,,, PICK UP TRAP FLAGS                         IOPC0249    
      00216 -0500 00 0 00012         CAL     ATRLOC        ..                                         IOPC0250    
      00217                          WHEN    B,T,,SEB,,,,, ..                                         IOPC0251    
      00217  0602 00 0 01166         SLW     RTNLOC        ..                                         IOPC0252    
      00220  0074 00 4 00012  ATRAP1 TSX     $TRAPA,4      GIVE TRAP TO TAPE I/O ADAPTER              IOPC0253    
      00221  3 00000 0 01166         PTH     RTNLOC        ..                                         IOPC0254    
      00222  0020 00 0 00241         TRA     IGNTRP        SKIP IF TRAP TAKEN BY ADAPTER              IOPC0255    
      00223 -0774 00 1 00001         AXC     1,1           POINTER TO TRAP FLAGS FOR CHANNEL A        IOPC0256    
      00224  0020 00 0 00237         TRA     RECTRP        AND RECORD THIS TRAP                       IOPC0257    
                                                                                                      IOPC0258    
      00225                          WHEN    B,F,BTRAP,TTR,*+1,,,,                                    IOPC0259    
      00225  0021 00 0 00226  BTRAP  TTR     *+1,,                                                    IOPC0259.003
      00226                          WHEN    B,T,BTRAP,TIB,*+1,,,,                                    IOPC0260    
                                                                                                      IOPC0261    
      00226                          WHEN    B,T,,SEB,,,,,                                            IOPC0262    
                                                                                                      IOPC0263    
      00226  0564 00 0 02066         ENB     =0            HERE FOR TRAP FROM CHANNEL 'B'             IOPC0264    
      00227  0634 00 4 01155         SXA     TRPIR4,4      SAVE IR4                                   IOPC0265    
      00230  0074 00 4 00745         TSX     ALLSAV,4      AND REST OF MACHINE CONDITIONS             IOPC0266    
      00231                          WHEN    B,T,,SEA,,,,, PICK UP TRAP FLAGS                         IOPC0267    
      00231 -0500 00 0 00014         CAL     BTRLOC        ..                                         IOPC0268    
      00232                          WHEN    B,T,,SEB,,,,, ..                                         IOPC0269    
      00232  0602 00 0 01166         SLW     RTNLOC        ..                                         IOPC0270    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.3 PAGE 7     
                  
      00233  0074 00 4 00013         TSX     $TRAPB,4      GIVE TRAP TO TAPE I/O ADAPTER              IOPC0271    
      00234  3 00000 0 01166         PTH     RTNLOC        ..                                         IOPC0272    
      00235  0020 00 0 00241         TRA     IGNTRP        SKIP IF TRAP TAKEN BY ADAPTER              IOPC0273    
      00236 -0774 00 1 00002         AXC     2,1           POINTER TO TRAP FLAGS FOR CHANNEL B        IOPC0274    
                                                                                                      IOPC0275    
      00237 -0500 00 0 01166  RECTRP CAL     RTNLOC        RECORD TRAP FLAGS FOR 'TPWAIT'             IOPC0276    
      00240 -0602 00 1 01175         ORS     TPFLAG,1      ..                                         IOPC0277    
      00241  0074 00 4 01001  IGNTRP TSX     ALLRST,4      RESTORE USER'S MACHINE CONDITIONS          IOPC0278    
      00242  0074 00 4 00704         TSX     CMEXIT,4      RETURN TO INTERRUPTED PROGRAM              IOPC0279    
      00243  0534 00 4 01155         LXA     TRPIR4,4      ..                                         IOPC0280    
      00244  0 00000 0 01166                 RTNLOC        ..                                         IOPC0281    
                                                                                                      IOPC0282    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.3 PAGE 8     
                  
                                                                                                      IOPC0284    
                                             ... GETIME ... RETURN TIME OF DAY IN LAC AND DATE IN MQ .IOPC0285    
                                                                                                      IOPC0286    
      00245  0634 00 4 00247  GETIME SXA     *+2,4                                                    IOPC0287    
      00246  0074 00 4 01123         TSX     ADDTIM,4      COMPUTE TIME TO NEAREST 60TH OF A SECOND   IOPC0288    
      00247  0774 00 4 00000         AXT     **,4                                                     IOPC0289    
      00250 -0500 00 0 01145         CAL     TIMNOW        RETURN TIME OF DAY IN LOGICAL AC           IOPC0290    
      00251  0560 00 0 01144         LDQ     DATEYR        AND DATE IN MQ                             IOPC0291    
      00252  0564 00 0 01122         ENB     ENABLE        REENABLE                                   IOPC0292    
      00253  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPC0293    
                                                                                                      IOPC0294    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPC0295    
                                                                                                      IOPC0296    
                                             ... GETELT ... RETURN ELAPSE TIME IN LOGICAL AC ........ IOPC0297    
                                                                                                      IOPC0298    
      00254  0634 00 4 00256  GETELT SXA     *+2,4                                                    IOPC0299    
      00255  0074 00 4 01123         TSX     ADDTIM,4      COMPUTE TIME TO NEAREST 60TH OF A SECOND   IOPC0300    
      00256  0774 00 4 00000         AXT     **,4                                                     IOPC0301    
      00257 -0500 00 0 01146         CAL     ELAPSE        RETURN ELAPSE TIME IN LOGICAL AC           IOPC0302    
      00260  0600 00 0 01146         STZ     ELAPSE        AND RESET ELAPSE TIME                      IOPC0303    
      00261  0564 00 0 01122         ENB     ENABLE        REENABLE                                   IOPC0304    
      00262  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPC0305    
                                                                                                      IOPC0306    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPC0307    
                                                                                                      IOPC0308    
                                             ... TPWAIT ... WAIT ON CHANNEL AND CHECK FLAGS ..........IOPC0309    
                                                                                                      IOPC0310    
      00263  0634 00 4 00274  TPWAIT SXA     TWATX4,4                                                 IOPC0311    
      00264 -0500 00 4 00001         CAL     1,4           PZE CHANNO                                 IOPC0312    
      00265  0737 00 4 00000         PAC     0,4           -CHANNEL NO. TO IR4                        IOPC0313    
      00266  0564 00 0 01122         ENB     ENABLE        INSURE ALL CHANNELS ENABLED                IOPC0314    
      00267 -0625 00 4 01316         STL     TCOAB,4       WAIT ON CHANNEL                            IOPC0315    
      00270  0522 00 4 01316         XEC     TCOAB,4       ..                                         IOPC0316    
      00271  0761 00 0 00000         NOP                   INSURE ALL TRAPS TAKEN                     IOPC0317    
      00272  0441 00 4 01175         LDI     TPFLAG,4      PICK UP CHANNEL STATUS FLAGS               IOPC0318    
      00273  0600 00 4 01175         STZ     TPFLAG,4      .. AND RESET THEM                          IOPC0319    
      00274  0774 00 4 00000  TWATX4 AXT     **,4          RESTORE CALLER'S IR4                       IOPC0320    
      00275 -0054 00  000002         LFT     2             WAS REDUNDANCY CHECK FLAG ON               IOPC0321    
      00276  0020 00 4 00002         TRA     2,4           YES, TAKE TAPE CHECK EXIT (2,4)            IOPC0322    
      00277 -0054 00  000004         LFT     4             NO, WAS EOF FLAG ON                        IOPC0323    
      00300  0020 00 4 00003         TRA     3,4           YES, TAKE EOF EXIT (3,4)                   IOPC0324    
      00301  0020 00 4 00004         TRA     4,4           NO, TAKE NORMAL EXIT (4,4)                 IOPC0325    
                                                                                                      IOPC0326    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.3 PAGE 9     
                  
                                                                                                      IOPC0328    
                                             ... FERRTN ... SET RETURN FOR UNDEFINED ERRORS           IOPC0329    
                                                                                                      IOPC0330    
      00302 -0500 00 4 00001  FERRTN CAL     1,4           ERROR RETURN LOCATION (PZE RTNLOC)         IOPC0331    
      00303  0621 00 0 01171         STA     FERTN         SAVE IT                                    IOPC0332    
      00304  0020 00 4 00002         TRA     2,4           AND RETURN                                 IOPC0333    
                                                                                                      IOPC0334    
      00305  0520 00 0 01171  IOERTN ZET     FERTN         HERE FOR ERROR RETURN FROM FILE SYSTEM     IOPC0335    
      00306  0020 60 0 01171         TRA*    FERTN         TAKE USER EXIT IF SPECIFIED                IOPC0336    
      00307  0074 00 4 00002         TSX     PRNTER,4      OTHERWISE, PRINT FILE SYSTEM ERROR MESSAGE IOPC0337    
      00310  0074 00 4 00365         TSX     PRINT,4       PRINT 'NO ERROR RETURN SPECIFIED'          IOPC0338    
      00311  0 00005 0 01202                 NOERTN,,5     ..                                         IOPC0339    
      00312  0020 00 0 00334         TRA     EXIT          AND EXIT                                   IOPC0340    
                                                                                                      IOPC0341    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPC0342    
                                                                                                      IOPC0343    
                                             ... TILOCK ... SET RETURN ON INTERLOCKED FILES           IOPC0344    
                                                                                                      IOPC0345    
      00313 -0500 00 4 00001  TILOCK CAL     1,4           INTERLOCK RETURN LOCATION (PZE RTNLOC)     IOPC0346    
      00314  0621 00 0 01172         STA     UILOCK        SAVE IT                                    IOPC0347    
      00315  0020 00 4 00002         TRA     2,4           AND RETURN                                 IOPC0348    
                                                                                                      IOPC0349    
      00316  0564 00 0 02066  SSTRAP ENB     =0            HERE ON INTERRUPT FROM FILE SYSTEM         IOPC0350    
      00317 -0500 60 4 00003         CAL*    3,4           PICK UP USER'S IR4 FROM CALL               IOPC0351    
      00320  0621 00 0 00330         STA     SSTIR4        SAVE USER'S IR4                            IOPC0352    
      00321 -0500 60 4 00002         CAL*    2,4           PICK UP INTERRUPT CODE (1-6)               IOPC0353    
      00322  0734 00 5 00000         PAX     0,5           INTO IR5                                   IOPC0354    
      00323 -3 00003 5 00333         TXL     IGNINT,5,3    IGNORE CODES 1-3                           IOPC0355    
      00324 -3 00004 5 00326         TXL     FILOCK,5,4    SKIP ON FILE INTERLOCKED (CODE 4)          IOPC0356    
      00325  0020 00 0 00333         TRA     IGNINT        IGNORE ALL OTHER INTERRUPT CODES           IOPC0357    
                                                                                                      IOPC0358    
      00326 -0520 00 0 01172  FILOCK NZT     UILOCK        HAS USER SPECIFIED INTERLOCKED RETURN      IOPC0359    
      00327  0020 00 0 00333         TRA     IGNINT        NO, IGNORE INTERRUPT                       IOPC0360    
      00330  0774 00 4 00000  SSTIR4 AXT     **,4          YES, RESTORE USER'S IR4                    IOPC0361    
      00331  0564 00 0 01122         ENB     ENABLE        RE-ENABLE ALL TRAPS                        IOPC0362    
      00332  0020 60 0 01172         TRA*    UILOCK        AND TAKE USER INTERLOCKED RETURN           IOPC0363    
                                                                                                      IOPC0364    
      00333  0020 00 4 00006  IGNINT TRA     6,4           HERE TO IGNORE INTERRUPT FROM FILE SYS.    IOPC0365    
                                                                                                      IOPC0366    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.3 PAGE 10    
                  
                                                                                                      IOPC0368    
                                             ... EXIT ... TERMINATION ROUTINE, EXIT TO FMS OR STOP ...IOPC0369    
                                                                                                      IOPC0370    
      00334  0074 00 4 00014  EXIT   TSX     $IOFINI,4     INSURE FILE SYSTEM UPDATED                 IOPC0371    
      00335  3 00000 0 00336         PTH     *+1           .. IGNORE ERROR RETURN                     IOPC0372    
      00336  0074 00 4 00365         TSX     PRINT,4       PRINT MESSAGE                              IOPC0373    
      00337  1 00002 0 01231         PON     EXITMS,,2     ..                                         IOPC0374    
      00340  0564 00 0 02066         ENB     =0            DISABLE ALL TRAPS                          IOPC0375    
      00341  0060 00 0 00341         TCOA    *             WAIT UNTIL ALL CHANNEL ACTIVITY CEASES     IOPC0376    
      00342  0061 00 0 00342         TCOB    *             ..                                         IOPC0377    
      00343  0760 00 0 01352         RDCA                  AND RESET CHANNELS A,                      IOPC0378    
      00344  0760 00 0 02352         RDCB                  .. AND B                                   IOPC0379    
                                                                                                      IOPC0380    
      00345                          WHEN    B,T,,OVLBGN,,,,,                                         IOPC0381    
                                                                                                      IOPC0382    
      00345  0774 00 4 00062         AXT     HITRAP+1,4    RESTORE FMS LOWER CORE                     IOPC0383    
      00346 -0500 00 4 01315         CAL     SAVFMS,4      ..                                         IOPC0384    
      00347  0602 00 4 00062         SLW     HITRAP+1,4    ..                                         IOPC0385    
      00350  2 00001 4 00346         TIX     *-2,4,1       ..                                         IOPC0386    
                                                                                                      IOPC0387    
      00351  0774 00 4 00012         AXT     10,4          RELOAD FMS FROM A1                         IOPC0388    
      00352  0772 00 0 01201  EXIT1  REWA    1             ..                                         IOPC0389    
      00353  0762 00 0 01221         RTBA    1             ..                                         IOPC0390    
      00354  0540 00 0 01315         RCHA    LDFIOP        ..                                         IOPC0391    
      00355  0060 00 0 00355         TCOA    *             ..                                         IOPC0392    
      00356  0022 00 0 00363         TRCA    A1BAD         ..                                         IOPC0393    
      00357  0030 00 0 00363         TEFA    A1BAD         ..                                         IOPC0394    
      00360  0762 00 0 01221         RTBA    1             .. SKIP CARD TO TAPE RECORD                IOPC0395    
      00361  0762 00 0 01221         RTBA    1             .. SKIP DUMP RECORD                        IOPC0396    
      00362  0020 00 0 00001         TRA     1             EXIT TO FIOP TO LOAD SIGN-ON RECORD        IOPC0397    
                                                                                                      IOPC0398    
      00363  2 00001 4 00352  A1BAD  TIX     EXIT1,4,1     COUNT ERRORS                               IOPC0399    
      00364  0000 00 0 00352         HTR     EXIT1         STOP ON TOO MANY ERRORS                    IOPC0400    
                                                                                                      IOPC0401    
      00365                          WHEN    B,T,,OVLEND,,,,,                                         IOPC0402    
                                                                                                      IOPC0403    
      00365                          WHEN    B,T,,HTR,*,,,,                                           IOPC0404    
                                                                                                      IOPC0405    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.3 PAGE 11    
                  
                                                                                                      IOPC0407    
                                             .. PRINT/PUNCH/EPRINT .. ON LINE PRINT AND PUNCH ROUTINESIOPC0408    
                                                                                                      IOPC0409    
                       00365  WRFLX  SYN     *             SIMULATED TYPEWRITER                       IOPC0410    
      00365  0564 00 0 02066  PRINT  ENB     =0            DISABLE ALL TRAPS                          IOPC0411    
      00366 -0625 00 0 00631         STL     PRSW          ROUTINE TO PRINT ON LINE                   IOPC0412    
      00367  0020 00 0 00372         TRA     PUNCH+2       ..                                         IOPC0413    
                                                                                                      IOPC0414    
      00370  0564 00 0 02066  PUNCH  ENB     =0            DISABLE ALL TRAPS                          IOPC0415    
      00371  0600 00 0 00631         STZ     PRSW          ROUTINE TO PUNCH CARD ON LINE              IOPC0416    
      00372  0634 00 4 00401         SXA     PRPUX4,4      SAVE IR4 FROM CALL TO 'PRINT' OR 'PUNCH'   IOPC0417    
      00373  0560 00 4 00001         LDQ     1,4           PICK UP USER CALLING SEQUENCE              IOPC0418    
      00374 -0600 00 0 00376         STQ     *+2           SET IN CALL                                IOPC0419    
      00375  0074 00 4 00405         TSX     WPRPU,4       CALL PRINT/PUNCH ROUTINE                   IOPC0420    
      00376  0 00000 0 00000                 **,,**        ..                                         IOPC0421    
      00377  0074 00 4 01104         TSX     CHKCHA,4      CHECK FOR LOST TRAP ON CHANNEL 'A'         IOPC0422    
      00400  0564 00 0 01122         ENB     ENABLE        RE-ENABLE                                  IOPC0423    
      00401  0774 00 4 00000  PRPUX4 AXT     **,4          RESTORE USER'S IR4                         IOPC0424    
      00402  0020 00 4 00002         TRA     2,4           AND RETURN                                 IOPC0425    
                                                                                                      IOPC0426    
                       00403  WRTOPR SYN     *             USED BY DDIOA IN LIEU OF EPRINT            IOPC0427    
      00403  0564 00 0 02066  EPRINT ENB     =0            DISABLE ALL TRAPS                          IOPC0428    
      00404 -0625 00 0 00631         STL     PRSW          ROUTINE TO PRINT DURING ANY TRAP           IOPC0429    
                                                                                                      IOPC0430    
      00405  0634 00 1 00531  WPRPU  SXA     PRX1,1        SAVE XRS.                                  IOPC0431    
      00406  0634 00 2 00532         SXA     PRX2,2        ..                                         IOPC0432    
      00407  0634 00 4 00533         SXA     PRX4,4        ..                                         IOPC0433    
      00410  0074 00 4 01032         TSX     SAVCHA,4      DISABLE AND SAVE CHANNEL 'A'               IOPC0434    
      00411  0534 00 4 00533         LXA     PRX4,4        RELOAD CALLER'S XR4.                       IOPC0435    
      00412 -0500 00 4 00001         CAL     1,4           PZE FIRST,,N                               IOPC0436    
      00413 -0734 00 2 00000         PDX     ,2            GET WORD COUNT                             IOPC0437    
      00414  0754 00 2 00000         PXA     ,2            ..                                         IOPC0438    
      00415  0361 00 4 00001         ACL     1,4           BES LOCATION OF USER DATA                  IOPC0439    
      00416  0621 00 0 00440         STA     PRPU.2        FOR WORD PICKUP.                           IOPC0440    
      00417 -0520 00 0 00631         NZT     PRSW          IF CALL IS FOR PUNCH,                      IOPC0441    
      00420  0020 00 0 00426         TRA     PRPU.1        SKIP SENSE INSTRUCTION SETUP               IOPC0442    
      00421  0771 00 0 00017         ARS     15            ELSE, PREFIX TO X7                         IOPC0443    
      00422 -0737 00 7 00000         PDC     ,7            ..                                         IOPC0444    
      00423 -0500 00 7 00634         CAL     SPRTBL,7      PICK UP USER REQUESTED SPRA                IOPC0445    
      00424  0602 00 0 00520         SLW     SPRA          SAVE                                       IOPC0446    
      00425  0602 00 0 00514         SLW     SPRX          THERE ALSO IN CASE BLANK LINE              IOPC0447    
                                                                                                      IOPC0448    
      00426  0774 00 7 00060  PRPU.1 AXT     48,7          CLEAR CARD IMAGE BUFFER                    IOPC0449    
      00427  0600 00 7 00631         STZ     CBUF2+48,7    ..                                         IOPC0450    
      00430  2 00001 7 00427         TIX     *-1,7,1       ..                                         IOPC0451    
      00431 -0500 00 0 02077         CAL     =-0           INITIALIZE COLUMN MARKER TO FIRST COLUMN   IOPC0452    
      00432  0602 00 0 01164         SLW     PRCOL         ..                                         IOPC0453    
      00433  0774 00 4 00001         AXT     1,4           INITIALIZE CHARACTER COUNT                 IOPC0454    
      00434  0774 00 5 00001         AXT     1,5           START ON RIGHT HALF                        IOPC0455    
      00435  0774 00 6 00001         AXT     1,6           OF FIRST BUFFER                            IOPC0456    
      00436 -3 00000 2 00500         TXL     DONE,2,0      SKIP FOR ZERO WORD COUNT.                  IOPC0457    
      00437  0600 00 0 00632         STZ     DONESW        INDICATE THERE IS MORE PRINTING TO DO      IOPC0458    
                                                                                                      IOPC0459    
      00440  0560 00 2 00000  PRPU.2 LDQ     -,2           LOAD FIRST OR NEXT USER DATA WORD          IOPC0460    
      00441  0774 00 1 00006         AXT     6,1           SIX CHARACTERS PER WORD                    IOPC0461    
      00442 -0754 00 0 00000  PRPU.3 ZAC                                                              IOPC0462    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.3 PAGE 12    
                  
      00443 -0763 00 0 00006         LGL     6             CHARACTER TO AC                            IOPC0463    
      00444 -0600 00 0 00633         STQ     MQ.T          SAVE PARTIAL MQ CONTENTS                   IOPC0464    
      00445 -0765 00 0 00001         LGR     1             DIVIDE BY 2, SAVE REMAINDER                IOPC0465    
      00446  0737 00 7 00000         PAC     ,7            TABLE POSITION FOR CHARACTER               IOPC0466    
      00447 -0500 00 7 00644         CAL     CHRTB,7       GET PUNCH CONFIGURATION FOR THIS           IOPC0467    
      00450  0162 00 0 00452         TQP     *+2           CHARACTER                                  IOPC0468    
      00451  0771 00 0 00022         ARS     18            TO ADDRESS                                 IOPC0469    
      00452  0044 00 0 00000         PAI                   ..                                         IOPC0470    
      00453  0737 00 7 00000         PAC     ,7            TRANSFER ADDRESS IF CONTROL CHAR.          IOPC0471    
      00454  0054 00  100000         RFT     100000        TEST FOR SPECIAL CHARACTER                 IOPC0472    
      00455  0020 00 7 00000         TRA     0,7           YES, GO PROCESS SPECIAL CHARACTER          IOPC0473    
      00456 -0765 00 0 00014         LGR     12            ORDINARY CHARACTER, PUNCHES TO MQ          IOPC0474    
      00457 -0500 00 0 01164         CAL     PRCOL         PICKUP COLUMN MARKER                       IOPC0475    
      00460  0774 00 7 00030         AXT     24,7          24 WORD CARD IMAGE BUFFER, EVERY           IOPC0476    
      00461  0162 00 0 00463         TQP     *+2           IF BIT IS OFF, IGNORE.                     IOPC0477    
      00462  0522 00 5 00545         XEC     ORINBT,5      ELSE, ADD PUNCH TO PROPER BUFFER.          IOPC0478    
      00463 -0773 00 0 00001         RQL     1             ONWARD TO NEXT ROW OF CARD THIS COLUMN     IOPC0479    
      00464  2 00002 7 00461         TIX     *-3,7,2       ..                                         IOPC0480    
      00465  0771 00 0 00001         ARS     1             MOVE COLUMN MARKER TO NEXT COLUMN          IOPC0481    
      00466  1 00001 4 00467         TXI     *+1,4,1       INCREMENT WORD COUNT                       IOPC0482    
      00467  3 00170 4 00500         TXH     DONE,4,120    SEE IF OUT OF BOUNDS                       IOPC0483    
      00470 -0100 00 0 00474         TNZ     PRPU.4        IF DONE WITH HALF OF CARD,                 IOPC0484    
      00471 -0500 00 0 02077         CAL     =-0           REINITIALIZE COLUMN MARKER                 IOPC0485    
      00472  1 00001 5 00473         TXI     *+1,5,1       INDICATE ON NEXT HALF OF CARD              IOPC0486    
      00473  2 00002 5 00501         TIX     PRPU.5,5,2    IF TWO HALVES DONE, GO PRINT BUFFER OUT    IOPC0487    
      00474  0602 00 0 01164  PRPU.4 SLW     PRCOL         SAVE COLUMN MARKER FOR NEXT CHARACTER      IOPC0488    
      00475  0560 00 0 00633  SKP    LDQ     MQ.T          RESTORE PARTIAL MQ. ENTER HERE TO IGNORE   IOPC0489    
      00476  2 00001 1 00442         TIX     PRPU.3,1,1    GO GET NEXT CHARACTER                      IOPC0490    
      00477  2 00001 2 00440         TIX     PRPU.2,2,1    WORD EXHAUSTED, GO GET NEXT WORD           IOPC0491    
      00500 -0625 00 0 00632  DONE   STL     DONESW        FINISHED, INDICATE LAST BUFFER TO PRINT.   IOPC0492    
      00501  0520 00 0 00631  PRPU.5 ZET     PRSW          ARE WE PRINTING OR PUNCHING. Q             IOPC0493    
      00502  0020 00 0 00506         TRA     PRNT.1        WE ARE PRINTING, GO TO PRINT ROUTINE       IOPC0494    
      00503  0766 00 0 01341         WPUA                  HERE TO PUNCH CARD.                        IOPC0495    
      00504  0540 00 0 00537         RCHA    PUCOM         START CHANNEL                              IOPC0496    
      00505  0020 00 0 00530         TRA     PEND          AND SKIP TO EXIT AFTER ONE CARD.           IOPC0497    
      00506  0774 00 7 00030  PRNT.1 AXT     24,7          HERE TO PRINT PARTIAL LINE.                IOPC0498    
      00507  0520 60 6 00547         ZET*    CARD,6        SEE IF BUFFER ALL BLANK                    IOPC0499    
      00510  0020 00 0 00517         TRA     PNOW          NON-ZERO WORD FOUND, GO PRINT.             IOPC0500    
      00511  2 00001 7 00507         TIX     *-2,7,1       ..                                         IOPC0501    
      00512  3 00001 6 00530         TXH     PEND,6,1      HAVE WE PRINTED ANYTHING ON THIS LINE      IOPC0502    
      00513  0766 00 0 01361         WPRA                  NO, SELECT PRINTER                         IOPC0503    
      00514  0760 00 0 01360  SPRX   SPRA    **            USER REQUESTED SPRA                        IOPC0504    
      00515  0540 00 0 00540         RCHA    IOCD          AND DISCONNECT CHANNEL                     IOPC0505    
      00516  0020 00 0 00522         TRA     PRT2.2        SKIP                                       IOPC0506    
      00517  0766 00 0 01361  PNOW   WPRA                  SELECT PRINTER ON CHANNEL 'A'              IOPC0507    
      00520  0760 00 0 01360  SPRA   SPRA    **            USER REQUESTED SPRA OR SPRA 9.             IOPC0508    
      00521  0540 60 6 00537         RCHA*   PRCOM,6       START UP CHANNEL ON RIGHT BUFFER           IOPC0509    
      00522  0520 00 0 00632  PRT2.2 ZET     DONESW        IS THERE MORE TO DO. Q                     IOPC0510    
      00523  0020 00 0 00530         TRA     PEND          NO, SKIP TO END                            IOPC0511    
      00524 -0500 00 0 00637         CAL     SPRA9         YES, SET UP TO PRINT RIGHT HALF LINE       IOPC0512    
      00525  0602 00 0 00520         SLW     SPRA          ..                                         IOPC0513    
      00526 -0500 00 0 02077         CAL     =-0           RESET COLUMN MARKER                        IOPC0514    
      00527  1 00001 6 00474         TXI     PRPU.4,6,1    AND RE-ENTER ROUTINE                       IOPC0515    
                                                                                                      IOPC0516    
      00530  0074 00 4 01055  PEND   TSX     RSTCHA,4      HERE WHEN DONE, RESTORE CHANNEL 'A'        IOPC0517    
      00531  0774 00 1 00000  PRX1   AXT     -,1           RESTORE XRS                                IOPC0518    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.3 PAGE 13    
                  
      00532  0774 00 2 00000  PRX2   AXT     -,2           ..                                         IOPC0519    
      00533  0774 00 4 00000  PRX4   AXT     -,4           ..                                         IOPC0520    
      00534  0020 00 4 00002         TRA     2,4           RETURN TO CALLER.                          IOPC0521    
                                                                                                      IOPC0522    
                                                                                                      IOPC0523    
      00535  0 00000 0 00541         PZE     PRCM2         CHANNEL COMMANDS FOR SECOND BUFFER         IOPC0524    
      00536  0 00000 0 00537         PZE     PRCM1         .. FOR FIRST BUFFER                        IOPC0525    
                       00537  PRCOM  SYN     *             ..                                         IOPC0526    
                                                                                                      IOPC0527    
      00537 -2 00030 0 00601  PRCM1  IOSP    CBUF1,B,24    WHEN PRINTING, THIS SEQUENCE DISCONNECTS   IOPC0528    
      00540  0 00000 0 00000  IOCD   IOCD    0,,0          13 MS. FASTER THAN IOCD                    IOPC0529    
      00541 -2 00030 0 00551  PRCM2  IOSP    CBUF2,B,24    ..                                         IOPC0530    
      00542  0 00000 0 00000         IOCD    0,,0          ..                                         IOPC0531    
                                                                                                      IOPC0532    
                       00537  PUCOM  SYN     PRCM1         DISCONNECTS 25 MS FASTER THAN IOCD         IOPC0533    
                                                                                                      IOPC0534    
      00543 -0602 60 6 00551         ORS*    CARD+2,6      TO ADD PUNCH INTO RIGHT HALF CARD          IOPC0535    
      00544 -0602 60 6 00547         ORS*    CARD,6        .. LEFT HALF CARD                          IOPC0536    
                       00545  ORINBT SYN     *             ' XEC ORINBT,5 '                           IOPC0537    
                                                                                                      IOPC0538    
      00545  0 00000 7 00601         PZE     CBUF2+24,7    RIGHT HALF LINE                            IOPC0539    
      00546  0 00000 7 00631         PZE     CBUF1+24,7    LEFT HALF LINE                             IOPC0540    
                       00547  CARD   SYN     *             .. 'ORS* CARD,6'                           IOPC0541    
      00547  0 00000 7 00602         PZE     CBUF2+25,7    FOR RIGHT HALF CARD COL 37-72              IOPC0542    
      00550  0 00000 7 00632         PZE     CBUF1+25,7    ..                                         IOPC0543    
                                                                                                      IOPC0544    
      00551                   CBUF2  BSS     24            PRINT BUFFER 2                             IOPC0545    
      00601                   CBUF1  BSS     24            PRINT BUFFER 1, PUNCH BUFFER               IOPC0546    
                                                                                                      IOPC0547    
      00631  0 00000 0 77777  PRSW   PZE     -1            PRINT/PUNCH SWITCH                         IOPC0548    
      00632  0 00000 0 00000  DONESW PZE                   NON-ZERO IF CONTENTS OF BUFFER IS LAST     IOPC0549    
      00633  0 00000 0 00000  MQ.T   PZE                   STORAGE FOR PARTIAL MQ DURING CONVERSION   IOPC0550    
                                                                                                      IOPC0551    
                       00634  SPRTBL SYN     *             TABLE OF VALID SPR'S                       IOPC0552    
      00634  0761 00 0 00000  NOP    NOP                   (PZE)  SINGLE SPACE                        IOPC0553    
      00635  0760 00 0 01361         SPRA    1             (PON)  NEW PAGE                            IOPC0554    
      00636  0760 00 0 01362         SPRA    2             (PTW)  HALF-PAGE SKIP                      IOPC0555    
      00637  0760 00 0 01371  SPRA9  SPRA    9             (PTH)  PRINT RIGHT-HALF LINE               IOPC0556    
      00640  0761 00 0 00000         NOP                   (MZE)  SINGLE SPACE                        IOPC0557    
      00641  0761 00 0 00000         NOP                   (MON)  SINGLE SPACE                        IOPC0558    
      00642  0760 00 0 01364         SPRA    4             (MTW)  DOUBLE SPACE                        IOPC0559    
      00643  0761 00 0 00000         NOP                   (MTH)  SINGLE SPACE                        IOPC0560    
                                                                                                      IOPC0561    
                      000001  P12    BOOL    1             BIT FOR 12-PUNCH                           IOPC0562    
                      000002  P11    BOOL    2                     11-PUNCH                           IOPC0563    
                      000004  P0     BOOL    4                      0-PUNCH                           IOPC0564    
                      000010  P1     BOOL    10                     1-PUNCH                           IOPC0565    
                      000020  P2     BOOL    20                     2-PUNCH                           IOPC0566    
                      000040  P3     BOOL    40                     3-PUNCH                           IOPC0567    
                      000100  P4     BOOL    100                    4-PUNCH                           IOPC0568    
                      000200  P5     BOOL    200                    5-PUNCH                           IOPC0569    
                      000400  P6     BOOL    400                    6-PUNCH                           IOPC0570    
                      001000  P7     BOOL    1000                   7-PUNCH                           IOPC0571    
                      002000  P8     BOOL    2000                   8-PUNCH                           IOPC0572    
                      004000  P9     BOOL    4000                   9-PUNCH                           IOPC0573    
                                                                                                      IOPC0574    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.3 PAGE 14    
                  
                       00644  CHRTB  SYN     *             CONVERSION TABLE FOR CHARACTERS            IOPC0575    
      00644  0 00010 0 00004         PZE     P0,,P1        DIGITS 0, 1                                IOPC0576    
      00645  0 00040 0 00020         PZE     P2,,P3        2, 3                                       IOPC0577    
      00646  0 00200 0 00100         PZE     P4,,P5        4, 5                                       IOPC0578    
      00647  0 01000 0 00400         PZE     P6,,P7        6, 7                                       IOPC0579    
      00650  0 04000 0 02000         PZE     P8,,P9        8, 9                                       IOPC0580    
      00651  0 02040 1 00475         PZE     SKP,1,P8+P3   ILL., =                                    IOPC0581    
      00652  1 00475 0 02100         PON     P8+P4,,SKP    ', ILL.                                    IOPC0582    
      00653  1 00475 1 00475         PON     SKP,1,SKP     ILL, ILL.                                  IOPC0583    
      00654  0 00011 0 00001         PZE     P12,,P12+P1   +, A                                       IOPC0584    
      00655  0 00041 0 00021         PZE     P12+P2,,P12+P3 B, C                                      IOPC0585    
      00656  0 00201 0 00101         PZE     P12+P4,,P12+P5 D, E                                      IOPC0586    
      00657  0 01001 0 00401         PZE     P12+P6,,P12+P7 F, G                                      IOPC0587    
      00660  0 04001 0 02001         PZE     P12+P8,,P12+P9 H, I                                      IOPC0588    
      00661  0 02041 1 00475         PZE     SKP,1,P12+P8+P3 ILL., '.'                                IOPC0589    
      00662  0 02041 0 02101         PZE     P12+P8+P4,,P12+P8+P3 ), COLON (USE .)                    IOPC0590    
      00663  1 00475 1 00475         PON     SKP,1,SKP     ILL., ILL.                                 IOPC0591    
      00664  0 00012 0 00002         PZE     P11,,P11+P1   -, J                                       IOPC0592    
      00665  0 00042 0 00022         PZE     P11+P2,,P11+P3 K, L                                      IOPC0593    
      00666  0 00202 0 00102         PZE     P11+P4,,P11+P5 M, N                                      IOPC0594    
      00667  0 01002 0 00402         PZE     P11+P6,,P11+P7 O, P                                      IOPC0595    
      00670  0 04002 0 02002         PZE     P11+P8,,P11+P9 Q, R                                      IOPC0596    
      00671  0 02042 1 00475         PZE     SKP,1,P11+P8+P3 ILL., $                                  IOPC0597    
      00672  1 00475 0 02102         PON     P11+P8+P4,,SKP *, ILL.                                   IOPC0598    
      00673  1 00475 1 00475         PON     SKP,1,SKP     ILL., NULL                                 IOPC0599    
      00674  0 00014 0 00000         PZE     0,,P0+P1      BLANK, /                                   IOPC0600    
      00675  0 00044 0 00024         PZE     P0+P2,,P0+P3  S, T                                       IOPC0601    
      00676  0 00204 0 00104         PZE     P0+P4,,P0+P5  U, V                                       IOPC0602    
      00677  0 01004 0 00404         PZE     P0+P6,,P0+P7  W, X                                       IOPC0603    
      00700  0 04004 0 02004         PZE     P0+P8,,P0+P9  Y, Z                                       IOPC0604    
      00701  0 02044 1 00475         PZE     SKP,1,P0+P8+P3 TAB, ','                                  IOPC0605    
      00702  1 00475 0 02104         PON     P0+P8+P4,,SKP (, ILL.                                    IOPC0606    
      00703  1 00475 1 00475         PON     SKP,1,SKP     ILL., ILL.                                 IOPC0607    
                                                                                                      IOPC0608    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.3 PAGE 15    
                  
                                                                                                      IOPC0610    
                                             ... CMEXIT ... COMMON EXIT ROUTINE FROM ALL TRAPS .......IOPC0611    
                                                                                                      IOPC0612    
      00704  0564 00 0 02066  CMEXIT ENB     =0            INSURE ALL TRAPS DISABLED                  IOPC0613    
      00705  0604 00 0 01154         STI     CMXSI         SAVE INDICATORS                            IOPC0614    
      00706  0441 60 4 00002         LDI*    2,4           PICK UP RETURN FLAGS                       IOPC0615    
      00707  0057 00  700000         RIR     700000        INSURE TAG ZERO                            IOPC0616    
      00710  0604 00 0 01153         STI     CMXRTN        SAVE RETURN LOCATION                       IOPC0617    
      00711  0522 00 4 00001         XEC     1,4           RESTORE USER'S IR4 FROM 1,4                IOPC0618    
      00712  0520 00 0 01152         ZET     ATLOST        WAS A TRAP ON CHANNEL 'A' LOST             IOPC0619    
      00713  0020 00 0 00726         TRA     SIMTRP        YES, GO TO SIMULATE LOST TRAP              IOPC0620    
      00714 -0054 00  020000         LFT     20000         NO, WAS ECC SET FOR MEMORY 'A'             IOPC0621    
      00715  0020 00 0 00721         TRA     CMRTNB        NO, SET ECC TO MEMORY 'B'                  IOPC0622    
      00716  0441 00 0 01154         LDI     CMXSI         YES, RELOAD INDICATORS                     IOPC0623    
      00717  0564 00 0 01122         ENB     ENABLE        AND RETURN TO INTERRUPTED PROGRAM          IOPC0624    
      00720                          WHEN    B,T,,LRI,=0,,,,  ..                                      IOPC0625    
      00720                          WHEN    B,T,,SEA,,,,, ..                                         IOPC0626    
      00720  0020 60 0 01153         TRA*    CMXRTN        ..                                         IOPC0627    
                                                                                                      IOPC0628    
      00721  0441 00 0 01154  CMRTNB LDI     CMXSI         HERE TO RETURN WITH ECC SET FOR MEMORY 'B' IOPC0629    
      00722  0564 00 0 01122         ENB     ENABLE        RETURN TO INTERRUPTED PROGRAM              IOPC0630    
      00723                          WHEN    B,F,,LRI,=0,,,,  ..                                      IOPC0631    
      00723  0562 00 0 02066         LRI     =0,,                                                     IOPC0631.003
      00724                          WHEN    B,F,,SEB,,,,, ..                                         IOPC0632    
      00724 -0761 00 0 00042         SEB     ,,                                                       IOPC0632.003
      00725  0020 60 0 01153         TRA*    CMXRTN        ..                                         IOPC0633    
                                                                                                      IOPC0634    
      00726 -0057 00  717777  SIMTRP RIL     717777        HERE TO SIMULATE LOST TRAP ON CHANNEL 'A'  IOPC0635    
      00727  0604 00 0 01166         STI     RTNLOC        SET UP RETURN LOC. WITH ECC AND ICC FLAGS  IOPC0636    
      00730  0441 00 0 01154         LDI     CMXSI         RELOAD USER'S SENSE INDICATORS             IOPC0637    
      00731  0634 00 4 01155         SXA     TRPIR4,4      AND INSURE USER'S MACHINE CONDITIONS SAVED IOPC0638    
      00732  0074 00 4 00745         TSX     ALLSAV,4      ..                                         IOPC0639    
      00733 -0500 00 0 01152         CAL     ATLOST        PICK UP FLAGS FROM LOST TRAP               IOPC0640    
      00734 -0320 00 0 02074         ANA     =O7000000     SAVE BITS 15-17                            IOPC0641    
      00735 -0602 00 0 01166         ORS     RTNLOC        COMPLETE TRAP FLAGS IN 'RTNLOC'            IOPC0642    
      00736  0600 00 0 01152  STZ.A) STZ     ATLOST        RESET LOST TRAP CONDITION                  IOPC0643    
      00737  0020 00 0 00220         TRA     ATRAP1        AND SIMULATE TRAP ON CHANNEL 'A'           IOPC0644    
                                                                                                      IOPC0645    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPC0646    
                                                                                                      IOPC0647    
                                             ... FILXIT ... EXIT TO USER FROM FILE SYSTEM .....       IOPC0648    
                                                                                                      IOPC0649    
      00740 -0500 60 4 00002  FILXIT CAL*    2,4           PICK UP RETURN ADDRESS                     IOPC0650    
      00741  0737 00 5 00000         PAC     0,5           .. -RETURN ADDRESS TO IR5                  IOPC0651    
      00742  0522 00 4 00001         XEC     1,4           RELOAD USER'S IR4                          IOPC0652    
      00743  0564 00 0 01122         ENB     ENABLE        RE-ENABLE ALL TRAPS                        IOPC0653    
      00744  0020 00 5 00000         TRA     0,5           AND RETURN TO USER                         IOPC0654    
                                                                                                      IOPC0655    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.3 PAGE 16    
                  
                                                                                                      IOPC0657    
                                             ... ALLSAV ... SAVE BASIC MACHINE CONDITIONS ............IOPC0658    
                                                                                                      IOPC0659    
      00745  0564 00 0 02066  ALLSAV ENB     =0            INSURE NO TRAPS COME NOW.                  IOPC0660    
      00746 -0520 00 0 01031         NZT     ENBSW         HAVE WE TAKEN A PREVIOUS TRAP.             IOPC0661    
      00747  0000 00 0 00747         HTR     *             YES, STOP AND TAKE A DUMP.                 IOPC0662    
      00750  0600 00 0 01031         STZ     ENBSW         NO, INDICATE WE ARE IN TRAP TIME.          IOPC0663    
      00751  0634 00 4 01000         SXA     ALLXR4,4      SAVE NAME OF THIS CALLER                   IOPC0664    
      00752  0634 00 1 01007         SXA     TRPIR1,1      SAVE BASIC MACHINE CONDITIONS.             IOPC0665    
      00753  0634 00 2 01010         SXA     TRPIR2,2      ..                                         IOPC0666    
      00754  0634 00 3 01011         SXA     TRPIR3,3      ..                                         IOPC0667    
      00755  0774 00 3 00000         AXT     0,3           .. SAVE TAG MODE                           IOPC0668    
      00756  0774 00 1 00001         AXT     1,1           ..                                         IOPC0669    
      00757  0600 00 0 01156         STZ     TRPMTM        ..                                         IOPC0670    
      00760 -3 00000 3 00764         TXL     7TAG,3,0      .. SKIP IF IN 7-TAG (7094) MODE            IOPC0671    
      00761 -0625 00 0 01156         STL     TRPMTM        .. OTHERWISE SET 3-TAG (7090) MODE         IOPC0672    
      00762  0760 00 0 00016         LMTM                  ..                                         IOPC0673    
      00763  0634 00 3 01011         SXA     TRPIR3,3      .. RESAVE IR3                              IOPC0674    
      00764  0634 00 5 01012  7TAG   SXA     TRPIR5,5      ..                                         IOPC0675    
      00765  0634 00 6 01013         SXA     TRPIR6,6      ..                                         IOPC0676    
      00766  0634 00 7 01014         SXA     TRPIR7,7      ..                                         IOPC0677    
      00767  0604 00 0 01157         STI     TRPSI         .. SAVE SENSE INDICATORS                   IOPC0678    
      00770 -0600 00 0 01160         STQ     TRPMQ         .. MQ                                      IOPC0679    
      00771  0602 00 0 01161         SLW     TRPLAC        .. LOGICAL AC                              IOPC0680    
      00772  0771 00 0 00002         ARS     2             ..                                         IOPC0681    
      00773  0601 00 0 01162         STO     TRPSQ         .. S AND Q BITS                            IOPC0682    
      00774  0600 00 0 01163         STZ     TRPOV         .. AC OVERFLOW CONDITION                   IOPC0683    
      00775 -0140 00 0 00777         TNO     *+2           ..                                         IOPC0684    
      00776 -0625 00 0 01163         STL     TRPOV         ..                                         IOPC0685    
      00777  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPC0686    
                                                                                                      IOPC0687    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPC0688    
                                                                                                      IOPC0689    
      01000  0 00000 0 00000  ALLXR4 PZE     **,,**        X4(ALLSAV,,ALLRST)                         IOPC0690    
                                                                                                      IOPC0691    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPC0692    
                                                                                                      IOPC0693    
                                             ... ALLRST ... RESTORE BASIC MACHINE CONDITIONS .........IOPC0694    
                                                                                                      IOPC0695    
      01001  0564 00 0 02066  ALLRST ENB     =0            INSURE NO TRAPS ON TOP OF STOP.            IOPC0696    
      01002  0520 00 0 01031         ZET     ENBSW         ARE WE CALLED AT TRAP TIME.                IOPC0697    
      01003  0000 00 0 01003         HTR     *             NO, STOP AND TAKE DUMP.                    IOPC0698    
      01004 -0625 00 0 01031         STL     ENBSW         YES, INDICATE WE ARE LEAVING TRAP TIME.    IOPC0699    
      01005  0760 00 0 00016         LMTM                  INSURE 7-TAG (7094) MODE                   IOPC0700    
      01006 -0634 00 4 01000         SXD     ALLXR4,4      SAVE X4 OF CALLER FOR DEBUGGING            IOPC0701    
      01007  0774 00 1 00000  TRPIR1 AXT     **,1          ..                                         IOPC0702    
      01010  0774 00 2 00000  TRPIR2 AXT     **,2          ..                                         IOPC0703    
      01011  0774 00 3 00000  TRPIR3 AXT     **,3          ..                                         IOPC0704    
      01012  0774 00 5 00000  TRPIR5 AXT     **,5          ..                                         IOPC0705    
      01013  0774 00 6 00000  TRPIR6 AXT     **,6          ..                                         IOPC0706    
      01014  0774 00 7 00000  TRPIR7 AXT     **,7          ..                                         IOPC0707    
      01015  0520 00 0 01156         ZET     TRPMTM        .. RESTORE TAG MODE                        IOPC0708    
      01016 -0760 00 0 00016         EMTM                  ..                                         IOPC0709    
      01017  0560 00 0 01162         LDQ     TRPSQ         .. RESTORE S AND Q BITS                    IOPC0710    
      01020  0500 00 0 01020         CLA     *             .. AND INSURE OVERFLOW LIGHT IS ON         IOPC0711    
      01021  0763 00 0 00001         LLS     1             ..                                         IOPC0712    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.3 PAGE 17    
                  
      01022  0767 00 0 00044         ALS     36            ..                                         IOPC0713    
      01023 -0501 00 0 01161         ORA     TRPLAC        .. RESTORE LOGICAL AC                      IOPC0714    
      01024  0560 00 0 01160         LDQ     TRPMQ         .. RESTORE MQ                              IOPC0715    
      01025  0441 00 0 01157         LDI     TRPSI         .. RESTORE SI                              IOPC0716    
      01026 -0520 00 0 01163         NZT     TRPOV         .. RESTORE CORRECT OVERFLOW STATUS         IOPC0717    
      01027  0140 00 0 01030         TOV     *+1           ..                                         IOPC0718    
      01030  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPC0719    
                                                                                                      IOPC0720    
      01031  0 00000 0 00000  ENBSW  PZE     **            SWITCH ON DURING ENABLE TIME.              IOPC0721    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.3 PAGE 18    
                  
                                             ... SAVCHA/RSTCHA/CHKCHA ... SAVE RESTORE AND CHECK 'A'  IOPC0723    
                                                                                                      IOPC0724    
      01032  0564 00 0 02066  SAVCHA ENB     =0            SAVE STATUS OF CHANNEL 'A'                 IOPC0725    
      01033  0520 00 0 01152         ZET     ATLOST        HAVE WE LOST A TRAP ALREADY                IOPC0726    
      01034  0020 00 0 01050         TRA     SVCHA2        YES, SKIP                                  IOPC0727    
      01035 -0500 00 0 01043         CAL     TSTRAP        NO, SET UP TO CHECK FOR TRAP ON CHANNEL 'A'IOPC0728    
      01036                          WHEN    B,T,,SEA,,,,, SAVE CHANNEL 'A' TRAP INSTRUCTION          IOPC0729    
      01036  0441 00 0 00013         LDI     ADCTRP        ..                                         IOPC0730    
      01037  0602 00 0 00013         SLW     ADCTRP        .. AND SUBSTITUTE NEW TRAP INSTRUCTION     IOPC0731    
      01040                          WHEN    B,T,,SEB,,,,, ..                                         IOPC0732    
      01040  0564 00 0 01175         ENB     ENBIFA        ENABLE IF ENABLE CONTAINS CHANNEL 'A' BITS IOPC0733    
      01041  0060 00 0 01041         TCOA    *             AND WAIT                                   IOPC0734    
      01042  0020 00 0 01046         TRA     SVCHA1        GO RESTORE TRAP INSTRUCTION IF NO TRAP     IOPC0735    
                                                                                                      IOPC0736    
      01043                          WHEN    B,F,TSTRAP,TTR,*+1,,,,                                   IOPC0737    
      01043  0021 00 0 01044  TSTRAP TTR     *+1,,                                                    IOPC0737.003
      01044                          WHEN    B,T,TSTRAP,TIB,*+1,,,,                                   IOPC0738    
                                                                                                      IOPC0739    
      01044 -0500 00 0 00012         CAL     ATRLOC        PICK UP FLAGS FROM TRAP ON CHANNEL 'A'     IOPC0740    
      01045                          WHEN    B,T,,SEB,,,,, ..                                         IOPC0741    
      01045  0602 00 0 01152         SLW     ATLOST        SET FLAGS FOR LOST TRAP                    IOPC0742    
      01046  0564 00 0 02066  SVCHA1 ENB     =0            DISABLE ALL TRAPS                          IOPC0743    
      01047                          WHEN    B,T,,SEA,,,,, RESTORE PREVIOUS TRAP INSTRUCTION          IOPC0744    
      01047  0604 00 0 00013         STI     ADCTRP        ..                                         IOPC0745    
      01050                          WHEN    B,T,,SEB,,,,, ..                                         IOPC0746    
                                                                                                      IOPC0747    
      01050  0640 00 0 01173  SVCHA2 SCHA    SVCHAN        SAVE CHANNEL 'A' REGISTERS                 IOPC0748    
      01051  0600 00 0 01174         STZ     SVIOCK        AND I/O CHECK CONDITION                    IOPC0749    
      01052  0760 00 0 00005         IOT                   ..                                         IOPC0750    
      01053 -0625 00 0 01174         STL     SVIOCK        ..                                         IOPC0751    
      01054  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPC0752    
                                                                                                      IOPC0753    
      01055  0634 00 4 01102  RSTCHA SXA     RSTCX4,4      RESTORE CHANNEL STATUS                     IOPC0754    
      01056  0060 00 0 01056         TCOA    *             WAIT UNTIL CHANNEL IS FREE                 IOPC0755    
      01057 -0500 00 0 01173         CAL     SVCHAN        PICK UP PREVIOUS CHANNEL STATUS            IOPC0756    
      01060 -0737 00 4 00000         PDC     0,4           -LOCATION COUNTER TO IR4                   IOPC0757    
      01061 -0320 00 0 02100         ANA     =O700000377777  RESTORE CHANNEL 'A' REGISTERS            IOPC0758    
      01062  0560 00 4 77777         LDQ     -1,4          ..                                         IOPC0759    
      01063  0602 00 4 77777         SLW     -1,4          ..                                         IOPC0760    
      01064  0540 00 4 77777         RCHA    -1,4          ..                                         IOPC0761    
      01065 -0600 00 4 77777         STQ     -1,4          ..                                         IOPC0762    
      01066 -0520 00 0 01174         NZT     SVIOCK        RESTORE PREVIOUS CONDITIONS OF I/O CHECK   IOPC0763    
      01067  0760 00 0 00005         IOT                   ..                                         IOPC0764    
      01070  0761 00 0 00000         NOP                   .. FOR SAFETY ONLY (IOT SHOULD BE ON)      IOPC0765    
      01071 -0500 00 0 01077         CAL     FORGET        SET UP TO LOOSE ANY TRAP ON CHANNEL 'A'    IOPC0766    
      01072                          WHEN    B,T,,SEA,,,,, SAVE CHANNEL 'A' TRAP INSTRUCTION          IOPC0767    
      01072  0441 00 0 00013         LDI     ADCTRP        ..                                         IOPC0768    
      01073  0602 00 0 00013         SLW     ADCTRP        .. SUBSTITUTE NEW TRAP INSTRUCTION         IOPC0769    
      01074                          WHEN    B,T,,SEB,,,,, ..                                         IOPC0770    
      01074  0564 00 0 01175         ENB     ENBIFA        ENABLE IF ENABLE CONTAINS CHAN. 'A' BITS   IOPC0771    
      01075  0060 00 0 01075         TCOA    *             AND WAIT                                   IOPC0772    
      01076  0020 00 0 01100         TRA     RSCHA1        GO RESTORE TRAP INSTRUCTION IF NO TRAP     IOPC0773    
                                                                                                      IOPC0774    
      01077                          WHEN    B,F,FORGET,TTR,*+1,,,,                                   IOPC0775    
      01077  0021 00 0 01100  FORGET TTR     *+1,,                                                    IOPC0775.003
      01100                          WHEN    B,T,FORGET,TIB,*+1,,,,                                   IOPC0776    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.3 PAGE 19    
                  
                                                                                                      IOPC0777    
      01100                          WHEN    B,T,,SEB,,,,,                                            IOPC0778    
                                                                                                      IOPC0779    
      01100  0564 00 0 02066  RSCHA1 ENB     =0            DISABLE ALL TRAPS                          IOPC0780    
      01101                          WHEN    B,T,,SEA,,,,, RESTORE PREVIOUS TRAP INSTRUCTION          IOPC0781    
      01101  0604 00 0 00013         STI     ADCTRP        ..                                         IOPC0782    
      01102                          WHEN    B,T,,SEB,,,,, ..                                         IOPC0783    
      01102  0774 00 4 00000  RSTCX4 AXT     **,4          RESTORE IR4                                IOPC0784    
      01103  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPC0785    
                                                                                                      IOPC0786    
      01104  0564 00 0 02066  CHKCHA ENB     =0            SIMULATE LOST TRAP ON CHANNEL 'A'          IOPC0787    
      01105 -0520 00 0 01152         NZT     ATLOST        DID WE LOOSE A TRAP ON CHANNEL 'A'         IOPC0788    
      01106  0020 00 4 00001         TRA     1,4           NO, RETURN                                 IOPC0789    
      01107  0634 00 4 01120         SXA     CKXIR4,4      YES, SIMULATE TRAP SEQUENCE                IOPC0790    
      01110  0074 00 4 00745         TSX     ALLSAV,4      SAVE REGISTERS, SET 7-TAG MODE             IOPC0791    
      01111  0074 00 4 00012         TSX     $TRAPA,4      GIVE TRAP TO TAPE STRATEGY MODULE          IOPC0792    
      01112  3 00000 0 01152         PTH     ATLOST        ..                                         IOPC0793    
      01113  0020 00 0 01116         TRA     *+3           TRAP ACCEPTED, DON'T SAVE FLAGS            IOPC0794    
      01114 -0500 00 0 01152         CAL     ATLOST        RECORD THIS TRAP FOR FUTURE REFERENCE      IOPC0795    
      01115 -0602 00 0 01176         ORS     TPFLAG+1      ..                                         IOPC0796    
      01116  0600 00 0 01152         STZ     ATLOST        RESET LOST TRAP CONDITION                  IOPC0797    
      01117  0074 00 4 01001         TSX     ALLRST,4      RESTORE REGISTERS, TAG MODE                IOPC0798    
      01120  0774 00 4 00000  CKXIR4 AXT     **,4          AND RETURN                                 IOPC0799    
      01121  0020 00 4 00001         TRA     1,4           ..                                         IOPC0800    
                                                                                                      IOPC0801    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPC0802    
                                                                                                      IOPC0803    
      01122 +000000400000     ENABLE OCT     400000        COMMON ENABLE WORD                         IOPC0804    
                                                                                                      IOPC0805    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPC0806    
                                                                                                      IOPC0807    
                                             ... ADDTIM ... COMPUTE TIME TO NEAREST 60TH OF A SECOND  IOPC0808    
                                                                                                      IOPC0809    
      01123  0564 00 0 02066  ADDTIM ENB     =0            INSURE ALL TRAPS DISABLED (USED BY CLKINT) IOPC0810    
      01124                          WHEN    B,T,,SEA,,,,,                                            IOPC0811    
      01124 -0500 00 0 00005         CAL     CLOCK         COMPUTE TOTAL TIME SYSTEM HAS RUN          IOPC0812    
      01125                          WHEN    B,T,,SEB,,,,, ..                                         IOPC0813    
      01125  0361 00 0 01200         ACL     CLKTIM        .. CLOCK TRAP INTERVAL                     IOPC0814    
      01126 -0320 00 0 02071         ANA     =O777777      ..                                         IOPC0815    
      01127  0361 00 0 01147         ACL     TOTTIM        ..                                         IOPC0816    
      01130  0402 00 0 01150         SUB     SAVTOT        SUBTRACT TIME OF LAST CALL TO 'ADDTIM'     IOPC0817    
      01131  0100 00 4 00001         TZE     1,4           IGNORE IF NO TIME HAS ELAPSED SINCE        IOPC0818    
      01132  0602 00 0 01151         SLW     DELTA         OTHERWISE, SAVE TIME INCREMENT             IOPC0819    
      01133  0400 00 0 01150         ADD     SAVTOT        SAVE CURRENT TIME                          IOPC0820    
      01134  0602 00 0 01150         SLW     SAVTOT        .. FOR NEXT CALL TO 'ADDTIM'               IOPC0821    
      01135 -0500 00 0 01145         CAL     TIMNOW        UPDATE TIME OF DAY                         IOPC0822    
      01136  0400 00 0 01151         ADD     DELTA         ..                                         IOPC0823    
      01137  0602 00 0 01145         SLW     TIMNOW        ..                                         IOPC0824    
      01140 -0500 00 0 01146         CAL     ELAPSE        UPDATE ELAPSE TIME SINCE LAST CALL         IOPC0825    
      01141  0400 00 0 01151         ADD     DELTA         .. TO 'GETELT'                             IOPC0826    
      01142  0602 00 0 01146         SLW     ELAPSE        ..                                         IOPC0827    
      01143  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPC0828    
                                                                                                      IOPC0829    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.3 PAGE 20    
                  
                                                                                                      IOPC0831    
                                             ..... CONSTANT AND VARIABLE STORAGE FOR 'IOPAC' ........ IOPC0832    
                                                                                                      IOPC0833    
                                                                                                      IOPC0835    
      01144  0 00000 0 00000  DATEYR PZE     0             TODAY'S DATE  BCI 1,MMDDYY                 IOPC0836    
      01145  0 00000 0 00000  TIMNOW PZE     0             TIME OF DAY IN 60THS OF A SECOND           IOPC0837    
      01146  0 00000 0 00000  ELAPSE PZE     0             TIME SINCE LAST CALL TO 'GETELT'           IOPC0838    
      01147  0 00000 0 00000  TOTTIM PZE     0             TOTAL TIME SYSTEM HAS RUN                  IOPC0839    
      01150  0 00000 0 00000  SAVTOT PZE     0             TOTTIM AT TIME OF LAST CALL TO 'ADDTIM'    IOPC0840    
      01151  0 00000 0 00000  DELTA  PZE     0             TEMP FOR 'ADDTIM'                          IOPC0841    
      01152  0 00000 0 00000  ATLOST PZE     0             LOST TRAP ON CHANNEL 'A' SAVED HERE        IOPC0842    
      01153  0 00000 0 00000  CMXRTN PZE     0             TEMP FOR RETURN FROM 'CMEXIT'              IOPC0843    
      01154  0 00000 0 00000  CMXSI  PZE     0             SENSE INDICATORS SAVED BY 'CMEXIT'         IOPC0844    
                                                                                                      IOPC0845    
      01155  0 00000 0 00000  TRPIR4 PZE     0             MACHINE CONDITIONS SAVED ON TRAP           IOPC0846    
      01156  0 00000 0 00000  TRPMTM PZE     **            ..                                         IOPC0847    
      01157  0 00000 0 00000  TRPSI  PZE     0             ..                                         IOPC0848    
      01160  0 00000 0 00000  TRPMQ  PZE     0             ..                                         IOPC0849    
      01161  0 00000 0 00000  TRPLAC PZE     0             ..                                         IOPC0850    
      01162  0 00000 0 00000  TRPSQ  PZE     0             ..                                         IOPC0851    
      01163  0 00000 0 00000  TRPOV  PZE     0             ..                                         IOPC0852    
                                                                                                      IOPC0853    
      01164  0 00000 0 00000  PRCOL  PZE     0             TEMPS FOR WPRPU                            IOPC0854    
      01165  0 00000 0 00000  AUTHOR PZE     0             TEMP FOR 'SETIO'                           IOPC0855    
      01166  0 00000 0 00000  RTNLOC PZE     0             TRAP FLAGS SAVED HERE ON ALL TRAPS         IOPC0856    
      01167  0 00000 0 00000  CLKEYS PZE     0             CONSOLE KEYS, SAVED BY 'CLKINT'            IOPC0857    
      01170  0 00000 0 00000  KEYSW  PZE     0             SWITCH USED BY 'CLKINT'                    IOPC0858    
      01171  0 00000 0 00000  FERTN  PZE     **            RETURN LOCATION SET BY 'FERRTN'            IOPC0859    
      01172  0 00000 0 00000  UILOCK PZE     **            RETURN LOCATION SET BY 'TILOCK'            IOPC0860    
      01173  0 00000 0 00000  SVCHAN PZE     0             TEMP USED BY SAVCHA/RSTCHA                 IOPC0861    
      01174  0 00000 0 00000  SVIOCK PZE     0             TEMP USED BY SAVCHA/RSTCHA                 IOPC0862    
      01175  0 00000 0 00000  ENBIFA PZE     -             ENABLE BITS IF CHANNEL A ENABLED           IOPC0863    
                                                                                                      IOPC0864    
                       01175  TPFLAG SYN     *-1           CHANNEL FLAGS SAVED HERE                   IOPC0865    
      01176  0 00000 0 00000         PZE     0             .. FOR CHANNEL 'A'                         IOPC0866    
      01177  0 00000 0 00000         PZE     0             .. AND CHANNEL 'B'                         IOPC0867    
                                                                                                      IOPC0868    
      01200 +000000000074     CLKTIM DEC     60            CLOCK TRAP INTERVAL                        IOPC0869    
                                                                                                      IOPC0870    
      01201  0 00000 0 00001  HOME   PZE     B+1           FLAG FOR 'HOME' MEMORY                     IOPC0871    
                                                                                                      IOPC0872    
      01202  604546602551     NOERTN BCI     5, NO ERROR RETURN SPECIFIED.                            IOPC0873    
      01207  545454545454     PP21UP BCI     6,****** PLEASE PUT KEY 21 UP. ******                    IOPC0874    
      01215  545454545454     KEYSNG BCI     8,****** ILLEGAL KEY SETTING, TRY AGAIN. ******          IOPC0875    
      01225  604225706260     KREAD  BCI     4, KEYS READ. ************                               IOPC0876    
      01231  602567316360     EXITMS BCI     2, EXIT CALLED                                           IOPC0877    
                                                                                                      IOPC0878    
      01315                   SAVFMS BES     HITRAP+1      FMS LOWER CORE SAVED HERE                  IOPC0879    
                                                                                                      IOPC0880    
      01315 -0 00003 0 00000  LDFIOP IOCP    0,,3          LOAD FIOP INTO MEMORY 'A'                  IOPC0881    
      01316  1 00000 0 00000         TCH     0             ..                                         IOPC0882    
                                                                                                      IOPC0883    
                       01316  TCOAB  SYN     *-1           CHANNEL WAIT INSTRUCTIONS                  IOPC0884    
      01317  0060 00 0 00000         TCOA    **            .. FOR CHANNEL 'A'                         IOPC0885    
      01320  0061 00 0 00000         TCOB    **            .. AND CHANNEL 'B'                         IOPC0886    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.3 PAGE 21    
                  
                                                                                                      IOPC0888    
                                             ... RCLOCK ... READ CHRONOLOG, SET TIMNOW AND DATEYR ... IOPC0889    
                                                                                                      IOPC0890    
      01321  0634 00 4 01406  RDCLOC SXA     RCLKX4,4      SAVE XRS                                   IOPC0891    
      01322  0634 00 2 01405         SXA     RCLKX2,2      ..                                         IOPC0892    
      01323  0634 00 1 01404         SXA     RCLKX1,1      ..                                         IOPC0893    
                                                                                                      IOPC0894    
      01324  0774 00 1 00002         AXT     2,1           TRY TWICE IN CASE OF BAD DATE              IOPC0895    
      01325  0600 00 0 01506  RCLOC1 STZ     MMDDHH        RESET                                      IOPC0896    
      01326  0600 00 0 01507         STZ     MMSS66        ..                                         IOPC0897    
      01327  0762 00 0 01207         RTDZ                  SELECT CHRONOLOG AS TAPE 'A7'              IOPC0898    
      01330  0540 00 0 01443         RCHZ    RCLOCK        START UP CHANNEL TO READ CLOCK             IOPC0899    
      01331  0774 00 2 00002         AXT     2,2           COUNT TRIES                                IOPC0900    
      01332  0774 00 4 10624  RCLOC2 AXT     DELAY,4       9 MS DELAY WITH TIX *                      IOPC0901    
      01333  2 00001 4 01333         TIX     *,4,1         ..                                         IOPC0902    
      01334  0520 00 0 01506         ZET     MMDDHH        HAS FIRST WORD BEEN READ                   IOPC0903    
      01335  0020 00 0 01341         TRA     RCLOC3        YES, SKIP TO WAIT ON CHANNEL               IOPC0904    
      01336  2 00001 2 01332         TIX     RCLOC2,2,1    NO, COUNT TRIES                            IOPC0905    
      01337  0760 00 0 01352         RDCZ                  AFTER 18 MS GIVE UP, RESET CHANNEL         IOPC0906    
      01340  0020 00 0 01411         TRA     BADCLK        SKIP TO INFORM OPERATOR                    IOPC0907    
      01341  0060 00 0 01341  RCLOC3 TCOZ    *             WAIT UNTIL BOTH WORDS ARE READ             IOPC0908    
      01342  0022 00 0 01343         TRCZ    *+1           INSURE RTT TRIGGER RESET                   IOPC0909    
                                                                                                      IOPC0910    
      01343  0774 00 2 00002  RCLOC4 AXT     2,2           INSURE ALL CHARACTERS READ ARE LEGAL       IOPC0911    
      01344  0560 00 2 01510  RCLK4A LDQ     MMDDHH+2,2    PICK UP WORD READ                          IOPC0912    
      01345  0774 00 4 00006         AXT     6,4           6 DIGITS PER WORD                          IOPC0913    
      01346 -0754 00 0 00000  RCLOC5 ZAC                   ..                                         IOPC0914    
      01347 -0763 00 0 00006         LGL     6             SHIFT CHAR                                 IOPC0915    
      01350  0734 00 7 00000         PAX     ,7            TO X7                                      IOPC0916    
      01351  3 00011 7 01410         TXH     RCLOC8,7,9    ERROR IF .G. 9                             IOPC0917    
      01352  2 00001 4 01346         TIX     RCLOC5,4,1    DO FOR ALL CHARS                           IOPC0918    
      01353  2 00001 2 01344         TIX     RCLK4A,2,1    .. OF EACH WORD                            IOPC0919    
                                                                                                      IOPC0920    
      01354  0560 00 0 01506         LDQ     MMDDHH        PICK UP HOUR                               IOPC0921    
      01355 -0773 00 0 00030         RQL     24            ..                                         IOPC0922    
      01356  0074 00 7 01431         TSX     DTB,7         CONVERT TO BINARY                          IOPC0923    
      01357  0734 00 7 00000         PAX     ,7            ..                                         IOPC0924    
      01360  3 00027 7 01410         TXH     RCLOC8,7,23   INSURE LEGAL VALUE                         IOPC0925    
      01361  0560 00 0 01507         LDQ     MMSS66        NOW GET REST OF TIME                       IOPC0926    
      01362  0774 00 4 00003         AXT     3,4           MINUTES, SECONDS, 60THS                    IOPC0927    
      01363  0767 00 0 00002  RCLOC6 ALS     2             MULTIPLY PREVIOUS VALUE BY 60              IOPC0928    
      01364  0602 00 0 01446         SLW     TMP           .. N * 4                                   IOPC0929    
      01365  0774 00 7 00003         AXT     3,7           ..                                         IOPC0930    
      01366  0767 00 0 00001         ALS     1             .. 8, 16, 32                               IOPC0931    
      01367  0400 00 0 01446         ADD     TMP           ..                                         IOPC0932    
      01370  2 00001 7 01366         TIX     *-2,7,1       ..                                         IOPC0933    
      01371  0602 00 0 01445         SLW     60THS         .. = 60                                    IOPC0934    
      01372  0074 00 7 01431         TSX     DTB,7         NOW CONVERT NEXT FIELD FROM MQ             IOPC0935    
      01373  0734 00 7 00000         PAX     ,7            ..                                         IOPC0936    
      01374  3 00073 7 01410         TXH     RCLOC8,7,59   MUST BE LESS THAN 60                       IOPC0937    
      01375  0400 00 0 01445         ADD     60THS         ADD PREVIOUS RESULT                        IOPC0938    
      01376  2 00001 4 01363         TIX     RCLOC6,4,1    GO BACK TO MULTIPLY AGAIN                  IOPC0939    
      01377  0602 00 0 01145         SLW     TIMNOW        ..                                         IOPC0940    
      01400 -0500 00 0 01506         CAL     MMDDHH        ..                                         IOPC0941    
      01401 -0320 00 0 02101         ANA     =O777777770000 MASK OUT HOUR                             IOPC0942    
      01402 -0501 00 0 01444         ORA     YEAR          ADD IN YEAR TO FORM                        IOPC0943    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.3 PAGE 22    
                  
      01403  0602 00 0 01144         SLW     DATEYR        .. MMDDYY                                  IOPC0944    
      01404  0774 00 1 00000  RCLKX1 AXT     -,1           RESTORE XRS                                IOPC0945    
      01405  0774 00 2 00000  RCLKX2 AXT     -,2           ..                                         IOPC0946    
      01406  0774 00 4 00000  RCLKX4 AXT     -,4           ..                                         IOPC0947    
      01407  0020 00 4 00001         TRA     1,4           RETURN                                     IOPC0948    
                                                                                                      IOPC0949    
      01410  2 00001 1 01325  RCLOC8 TIX     RCLOC1,1,1    HERE FOR BAD DATE FROM CHRONOLOG, RETRY    IOPC0950    
                                                                                                      IOPC0951    
      01411  0560 00 0 01145  BADCLK LDQ     TIMNOW        HERE IF CHRONOLOG WILL NOT READ PROPERLY   IOPC0952    
      01412  0074 00 4 00001         TSX     CTIME,4       CONVERT TIME FOR PRINTING                  IOPC0953    
      01413  0602 00 0 01511         SLW     MMSS66+2      ..                                         IOPC0954    
      01414  0074 00 4 00403         TSX     EPRINT,4      TELL OPERATOR ABOUT IT                     IOPC0955    
      01415  0 00014 0 01476         PZE     CLKBAD,,12    .. THOUGH IT PROBABLY IS A WASTED EFFORT   IOPC0956    
      01416  0074 00 4 00403         TSX     EPRINT,4      YES, MUST HAVE A DATE AND TIME             IOPC0957    
      01417  0 00014 0 01447         PZE     SETMDH,,12    PRETEND OPERATOR IS CHRONOLOG              IOPC0958    
      01420  0000 00 0 01421         HTR     *+1           WAIT FOR OPERATOR                          IOPC0959    
      01421  0760 00 0 00004         ENK                   GET KEYS (MMDDHH)                          IOPC0960    
      01422 -0600 00 0 01506         STQ     MMDDHH        PRETEND THE CHRONOLOG DID IT               IOPC0961    
      01423  0074 00 4 00403         TSX     EPRINT,4      NOW ASK FOR THE REST OF IT                 IOPC0962    
      01424  0 00013 0 01463         PZE     SETMS6,,11    ..                                         IOPC0963    
      01425  0000 00 0 01426         HTR     *+1           .. WAIT AGAIN                              IOPC0964    
      01426  0760 00 0 00004         ENK                   MMSS66                                     IOPC0965    
      01427 -0600 00 0 01507         STQ     MMSS66        ..                                         IOPC0966    
      01430  0020 00 0 01343         TRA     RCLOC4        PROCESS NORMALLY                           IOPC0967    
                                                                                                      IOPC0968    
      01431 -0754 00 0 00000  DTB    ZAC                   ROUTINE TO CONVERT TWO BCD DIGITS TO BINARYIOPC0969    
      01432 -0763 00 0 00006         LGL     6             ..                                         IOPC0970    
      01433  0601 00 0 01446         STO     TMP           ..                                         IOPC0971    
      01434 -0754 00 0 00000         ZAC                   ..                                         IOPC0972    
      01435 -0763 00 0 00003         LGL     3             ..                                         IOPC0973    
      01436  0400 00 0 01446         ADD     TMP           ..                                         IOPC0974    
      01437 -0763 00 0 00002         LGL     2             ..                                         IOPC0975    
      01440  0400 00 0 01446         ADD     TMP           ..                                         IOPC0976    
      01441 -0763 00 0 00001         LGL     1             ..                                         IOPC0977    
      01442  0020 00 7 00001         TRA     1,7           ..                                         IOPC0978    
                                                                                                      IOPC0979    
                                                                                                      IOPC0980    
      01443  3 00002 0 01506  RCLOCK IORT    MMDDHH,B,2    CHANNEL COMMAND TO READ CHRONOLOG CLOCK    IOPC0981    
      01444  000000000701     YEAR   BCI     1,000071      MUST BE CHANGED EVERY YEAR **************  IOPC0982    
      01445  0 00000 0 00000  60THS  PZE                                                              IOPC0983    
      01446  0 00000 0 00000  TMP    PZE                                                              IOPC0984    
                                                                                                      IOPC0985    
      01447  464725512163     SETMDH BCI     9,OPERATOR ENTER BCD MONTH, DAY, HOUR IN KEYS, FORMAT MM IOPC0986    
      01460  242430303360            BCI     3,DDHH. PRESS START.                                     IOPC0987    
      01463  254563255160     SETMS6 BCI     9,ENTER BCD MINUTE, SECOND, 60TH IN KEYS, FORMAT MMSS66. IOPC0988    
      01474  604751256262            BCI     2, PRESS START.                                          IOPC0989    
      01476  233051464546     CLKBAD BCI     /CHRONOLOG CLOCK MALFUNCTIONING. CLOCK READ '/           IOPC0990    
      01506  444424243030     MMDDHH BCI     1,MMDDHH                                                 IOPC0991    
      01507  444462620606     MMSS66 BCI     1,MMSS66                                                 IOPC0992    
      01510  146021636057            BCI     /' AT /                                                  IOPC0993    
      01511  303044443344            BCI     1,HHMM.M                                                 IOPC0994    
                                                                                                      IOPC0995    
                       01321         ORG     RDCLOC        CLOCK READ ROUTINE IS OVERLAPPED           IOPC0996    
                                                                                                      IOPC0997    
      01321                   STATBL BSS     STBL          STORAGE FOR ACTIVE FILE STATUS TABLE       IOPC0998    
      01702                   QUEUE1 BSS     1QL           STORAGE FOR DRUM STRATEGY MODULE           IOPC0999    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.3 PAGE 23    
                  
      02035                   QUEUE2 BSS     2QL           STORAGE FOR DISK STRATEGY MODULE           IOPC1000    
      02035                   QUEUE3 BSS     3QL           STORAGE FOR TAPE STRATEGY MODULE           IOPC1001    
                                                                                                      IOPC1002    
                                     END                                                              IOPC1004    
                  
        LITERALS  
      02066  000000000000     
      02067  000000000001     
      02070  000000007777     
      02071  000000777777     
      02072  000001000001     
      02073  000003000003     
      02074  000007000000     
      02075  007010777777     
      02076  077777000000     
      02077  400000000000     
      02100  700000377777     
      02101  777777770000     
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.3 PAGE 1     
                        POST PROCESSOR ASSEMBLY DATA  
                  
       2102 IS THE FIRST LOCATION NOT USED BY THIS PROGRAM  
                  
0REFERENCES TO DEFINED SYMBOLS      
          0      B    17,  537,  541, 1201, 1443
       1207      Z    17, 1327, 1330, 1337, 1341, 1342
          4     P0   644,  674,  675,  676,  677,  700,  701,  702
         10     P1   644,  654,  664,  674
         20     P2   644,  645,  655,  665,  675
         40     P3   644,  645,  651,  655,  661,  662,  665,  671,  675,  701
        100     P4   644,  646,  652,  656,  662,  666,  672,  676,  702
        200     P5   644,  646,  656,  666,  676
        400     P6   644,  647,  657,  667,  677
       1000     P7   644,  647,  657,  667,  677
       2000     P8   644,  650,  651,  652,  660,  661,  662,  670,  671,  672,  700,  701,  702
       4000     P9   644,  650,  660,  670,  700
        133    1QL    17,   71, 1702
          0    2QL    17,   72, 2035
         31    3QL    17,   73, 2035
       1431    DTB  1356, 1372
        634    NOP      
          2    P11   644,  664,  665,  666,  667,  670,  671,  672
          1    P12   644,  654,  655,  656,  657,  660,  661,  662
        475    SKP   651,  652,  653,  661,  663,  671,  672,  673,  701,  702,  703
       1446    TMP  1364, 1367, 1433, 1436, 1440
        764   7TAG   760
          0   BTOC   145,  147
        547   CARD   507,  543,  544,  547
        173   DKEY     0,  161
        500   DONE   436,  467
        334   EXIT     0,  312
       1201   HOME   106,  107,  110
        540   IOCD   515
        633   MQ.T   444,  475
        530   PEND   505,  512,  523
        517   PNOW   510
        631   PRSW   366,  371,  404,  417,  501
        531   PRX1   405
        532   PRX2   406
        533   PRX4   407,  411
        520   SPRA   424,  525
        514   SPRX   425
        361   STBL    17,   70, 1321
       1444   YEAR  1402
       1445  60THS  1371, 1375
        363  A1BAD   356,  357
        212  ATRAP    53
        225  BTRAP    54
        601  CBUF1   537,  546,  550
        551  CBUF2   427,  541,  545,  547
        644  CHRTB   447,  644
          5  CLOCK    17,  112,  125,  203, 1124
       1154  CMXSI   705,  716,  721,  730
          1  CTIME  1412
      10624  DELAY    17, 1332
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.3 PAGE 2     
                        POST PROCESSOR ASSEMBLY DATA  
                  
       1151  DELTA  1132, 1136, 1141
       1031  ENBSW    20,  746,  750, 1002, 1004
        352  EXIT1   363,  364
       1171  FERTN   303,  305,  306
         36  FIRST    30,   40
       1170  KEYSW   142,  144,  177
       1225  KREAD   146,  150,  152
        537  PRCM1   536,  543
        541  PRCM2   535
       1164  PRCOL   432,  457,  474
        537  PRCOM   521,  537
        365  PRINT     0,  310,  336
        537  PUCOM   504,  543
        370  PUNCH     0,  367
         10  SETAB   105
         17  SETIO     0
        115  SETX1    22
        116  SETX2    23
        117  SETX4    24
        637  SPRA9   524
       1316  TCOAB   267,  270, 1317
         12  TRAPA   220, 1111
         13  TRAPB   233
       1160  TRPMQ   770, 1024
       1163  TRPOV   774,  776, 1026
       1157  TRPSI   767, 1025
       1162  TRPSQ   773, 1017
          5  USTAT    67
        405  WPRPU   375
        365  WRFLX     0,  365
         13 ADCTRP    17,   56, 1036, 1037, 1047, 1072, 1073, 1101
       1123 ADDTIM   200,  246,  255
       1001 ALLRST     0,  206,  241, 1117
        745 ALLSAV     0,  132,  215,  230,  732, 1110
       1000 ALLXR4   751, 1006
       1152 ATLOST   712,  733,  736, 1033, 1045, 1105, 1112, 1114, 1116
        220 ATRAP1   737
         12 ATRLOC    17,  216, 1044
       1165 AUTHOR    26,  101
       1411 BADCLK  1340
        162 BADKEY   156,  160
         15 BDCTRP    17,   57
         14 BTRLOC    17,  231
       1104 CHKCHA   377
          4 CHNGUS    65
       1120 CKXIR4  1107
       1476 CLKBAD  1415
       1167 CLKEYS   136,  137,  153,  165,  171
        127 CLKINT    52
          6 CLKLOC    17,  133
       1200 CLKTIM   122,  202, 1125
          7 CLKTRP    17,   55
        704 CMEXIT     0,  207,  242
        721 CMRTNB   715
       1153 CMXRTN   710,  720,  725
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.3 PAGE 3     
                        POST PROCESSOR ASSEMBLY DATA  
                  
       1144 DATEYR    62,  251, 1403
      75045 DEMKEY    17,  173
        632 DONESW   437,  500,  522
       1146 ELAPSE   257,  260, 1140, 1142
       1122 ENABLE     0,   32,   33,   64,  120,  252,  261,  266,  331,  400,  717,  722,  743
       1175 ENBIFA    35, 1040, 1074
        403 EPRINT     0,  151,  162,  166,  174, 1414, 1416, 1423
       1231 EXITMS   337
        302 FERRTN     0
        326 FILOCK   324
        740 FILXIT     0
       1077 FORGET  1071
        254 GETELT     0
        245 GETIME     0
         61 HITRAP    17,   43,   44,   47,   50,  345,  347, 1233
        333 IGNINT   323,  325,  327
        241 IGNTRP   222,  235
        305 IOERTN    61
         14 IOFINI   334
          3 IOINIT    60
       1215 KEYSNG   163
        165 KEYSOK   157
        177 KEYSUP   141
       1315 LDFIOP   354
       1506 MMDDHH  1325, 1334, 1344, 1354, 1400, 1422, 1443
       1507 MMSS66  1326, 1361, 1413, 1427
       1202 NOERTN   311
        545 ORINBT   462,  545
       1207 PP21UP   167,  175
          2 PRNTER   307
        506 PRNT.1   502
        426 PRPU.1   420
        440 PRPU.2   416,  477
        442 PRPU.3   476
        474 PRPU.4   470,  527
        501 PRPU.5   473
        401 PRPUX4   372
        522 PRT2.2   516
       1702 QUEUE1    71
       2035 QUEUE2    72
       2035 QUEUE3    73
       1344 RCLK4A  1353
       1404 RCLKX1  1323
       1405 RCLKX2  1322
       1406 RCLKX4  1321
       1325 RCLOC1  1410
       1332 RCLOC2  1336
       1341 RCLOC3  1335
       1343 RCLOC4  1430
       1346 RCLOC5  1352
       1363 RCLOC6  1376
       1410 RCLOC8  1351, 1360, 1374
       1443 RCLOCK  1330
       1321 RDCLOC    37, 1321
        237 RECTRP   224
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.3 PAGE 4     
                        POST PROCESSOR ASSEMBLY DATA  
                  
       1100 RSCHA1  1076
       1055 RSTCHA   530
       1102 RSTCX4  1055
       1166 RTNLOC   134,  211,  217,  221,  232,  234,  237,  244,  727,  735
       1032 SAVCHA   410
       1315 SAVFMS    45,  346
       1150 SAVTOT  1130, 1133, 1134
       1447 SETMDH  1417
       1463 SETMS6  1424
          6 SETRAP    74
          7 SETUSR    76
        726 SIMTRP   713
        200 SKPKEY   143,  164,  172,  176
        634 SPRTBL   423,  634
        330 SSTIR4   320
        316 SSTRAP    75
       1321 STATBL    70
        122 STCLOC   114,  205
        736 STZ.A)     0
       1046 SVCHA1  1042
       1050 SVCHA2  1034
       1173 SVCHAN  1050, 1057
       1174 SVIOCK  1051, 1053, 1066
         11 TAPKEY   170
        313 TILOCK     0
       1145 TIMNOW    63,  111,  113,  250, 1135, 1137, 1377, 1411
       1147 TOTTIM   201,  204, 1127
       1175 TPFLAG   240,  272,  273, 1115, 1176
        263 TPWAIT     0
       1007 TRPIR1   752
       1010 TRPIR2   753
       1011 TRPIR3   754,  763
       1155 TRPIR4   131,  210,  214,  227,  243,  731
       1012 TRPIR5   764
       1013 TRPIR6   765
       1014 TRPIR7   766
       1161 TRPLAC   771, 1023
       1156 TRPMTM   757,  761, 1015
       1043 TSTRAP  1035
        274 TWATX4   263
       1172 UILOCK   314,  326,  332
        403 WRTOPR     0,  403
                  
0 NO ERROR IN ABOVE ASSEMBLY. 




IOPD2C   BCD 03/18/71 2011.8   21951         00000    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.8 PAGE 1     
                  
                                                                                                      IOPD0003    
                       00017         ENTRY   SETIO         TO INITIALIZE IOPAC AND FILE SYSTEM        IOPD0004    
                       00237         ENTRY   GETIME        TO GET DATE AND TIME OF DAY                IOPD0005    
                       00246         ENTRY   GETELT        TO GET ELAPSE TIME SINCE LAST CALL         IOPD0006    
                       00255         ENTRY   TPWAIT        TO WAIT AND CHECK CHANNEL FLAGS            IOPD0007    
                       00274         ENTRY   FERRTN        TO SET RETURN FOR UNDEFINED ERRORS         IOPD0008    
                       00305         ENTRY   TILOCK        TO SET RETURN ON INTERLOCKED FILES         IOPD0009    
                       00326         ENTRY   EXIT          TO UPDATE FILE SYSTEM AND TERMINATE        IOPD0010    
                       00357         ENTRY   PRINT         TO PRINT ON ON-LINE PRINTER                IOPD0011    
                       00362         ENTRY   PUNCH         TO PUNCH A CARD ON LINE                    IOPD0012    
                       00375         ENTRY   EPRINT        TO PRINT A LINE DURING A TRAP              IOPD0013    
                       00357         ENTRY   WRFLX         SYNONOMOUS WITH 'PRINT'                    IOPD0014    
                       00375         ENTRY   WRTOPR        SYNONYMOUS WITH 'EPRINT'                   IOPD0015    
                       00676         ENTRY   CMEXIT        TO RETURN TO INTERRUPTED PROGRAM           IOPD0016    
                       00730         ENTRY   STZ.A)        SPECIAL REFERENCE FROM TAPE ADAPTER        IOPD0017    
                       00732         ENTRY   FILXIT        TO RETURN TO CALLER OF FILE SYSTEM         IOPD0018    
                       00737         ENTRY   ALLSAV        TO SAVE MACHINE CONDITIONS ON TRAP         IOPD0019    
                       00773         ENTRY   ALLRST        TO RESTORE MACHINE CONDITIONS              IOPD0020    
                       01114         ENTRY   ENABLE        POINTER ENTRY TO COMMON ENABLE WORD        IOPD0021    
                                                                                                      IOPD0022    
                                     EXTERN  BTOC,CTIME,PRNTER                                        IOPD0023    
                                                                                                      IOPD0024    
                  
        TRANSFER VECTOR 
      00000  226346236060     BTOC  
      00001  236331442560     CTIME 
      00002  475145632551     PRNTER
      00003  314631453163     IOINIT
      00004  233045276462     CHNGUS
      00005  646263216360     USTAT 
      00006  622563512147     SETRAP
      00007  622563646251     SETUSR
      00010  622563212260     SETAB 
      00011  632147422570     TAPKEY
      00012  635121472160     TRAPA 
      00013  635121472260     TRAPB 
      00014  314626314531     IOFINI
                  
        LINKAGE DIRECTOR
      00015  000000000000     
      00016  622563314660     
                  
                      000061  HITRAP BOOL    61            HIGHEST CHANNEL INTERRUPT LOCATION         IOPD0025    
                       01207  Z      TAPENO  A7            CHRONOLOG CLOCK SET AS TAPE A7             IOPD0026    
                       10624  DELAY  EQU     4500          9 MILLESECOND DELAY AFTER READING CHRONOLOGIOPD0027    
                       00005  CLOCK  EQU     5             INTERVAL TIMER AND INTERRUPT CLOCK         IOPD0028    
                       00006  CLKLOC EQU     6             ILC SVAED HERE ON CLOCK TRAP               IOPD0029    
                       00007  CLKTRP EQU     7             TRANSFER FROM HERE ON CLOCK TRAP           IOPD0030    
                       00012  ATRLOC EQU     10            ILC SAVED HERE ON CHANNEL 'A' TRAP         IOPD0031    
                       00013  ADCTRP EQU     11            TRANSFER FROM HERE ON CHANNEL 'A' TRAP     IOPD0032    
                       00014  BTRLOC EQU     12            ILC SAVED HERE ON CHANNEL 'B' TRAP         IOPD0033    
                       00015  BDCTRP EQU     13            TRANSFER FROM HERE ON CHANNEL 'B' TRAP     IOPD0034    
                       00000  B      EQU     0             MEMORY B SWITCH, ('0' FOR A, '1' FOR B)    IOPD0035    
                       00361  STBL   EQU     21+10*22      A.F.S.T. LENGTH, SPACE FOR 10 FILES        IOPD0036    
                       00133  1QL    EQU     1+9*10        DISK/DRUM QUEUE LENGTH                     IOPD0037    
                       00000  2QL    EQU     0             NULL QUEUE (DISK USES DRUM QUEUE)          IOPD0038    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.8 PAGE 2     
                  
                       00031  3QL    EQU     25            TAPE QUEUE LENGTH                          IOPD0039    
                                                                                                      IOPD0040    
                              OVLBGN MACRO                 MACRO USED AT BEGINNING OF SECTION         IOPD0041    
                                     UNLIST                .. TO BE OVER WRITTEN                      IOPD0042    
                              OVLORG SET     *             SAVE CURRENT LOCATION COUNTER              IOPD0043    
                              OVLBGN END                                                              IOPD0044    
                                                                                                      IOPD0045    
                              OVLEND MACRO                 MACRO USED AT END OF SECTION               IOPD0046    
                                     ORG     OVLORG        .. TO BE OVER WRITTEN                      IOPD0047    
                                     LIST                  ..                                         IOPD0048    
                              OVLEND END                                                              IOPD0049    
                                                                                                      IOPD0050    
                              WHEN   MACRO   A,TFIND,LOC,OP,ADDR,TAG,DECR    WHENEVER MACRO           IOPD0051    
                                     IFF     1,TFIND,T                                                IOPD0052    
                                     GENIF   A,0,0,LOC,OP,ADDR,TAG,DECR,                              IOPD0053    
                                     IFF     1,TFIND,F                                                IOPD0054    
                                     GENIF   A,0,1,LOC,OP,ADDR,TAG,DECR,                              IOPD0055    
                              WHEN   END                                                              IOPD0056    
                                                                                                      IOPD0057    
                              GENIF  MACRO   IF1,IF2,IF3,LOC,OP,ADDR,TAG,DECR                         IOPD0058    
                                     IFF     IF1,IF2,IF3                                              IOPD0059    
                                     GENOP   LOC,OP,ADDR,TAG,DECR,                                    IOPD0060    
                              GENIF  END                                                              IOPD0061    
                                                                                                      IOPD0062    
                              GENOP  MACRO   LOC,OP,ADDR,TAG,DECR    GENERATE OPERATION               IOPD0063    
                                     PMC     ON                                                       IOPD0064    
                              LOC    OP      ADDR,TAG,DECR                                            IOPD0065    
                                     PMC     OFF                                                      IOPD0066    
                              GENOP  END                                                              IOPD0067    
                                                                                                      IOPD0068    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.8 PAGE 3     
                  
                                                                                                      IOPD0070    
                                             SETIO ..... INITIALIZE FILE SYSTEM AND I/O PACKAGE       IOPD0071    
                                                                                                      IOPD0072    
      00017  0564 00 0 02060  SETIO  ENB     =0            ENTRY TO INITIALIZE IOPAC AND FILE SYSTEM  IOPD0073    
      00020 -0625 00 0 01023         STL     ENBSW         INDICATE TO ALLSAV THAT TRAPS ARE LEGAL    IOPD0074    
      00021  0760 00 0 00016         LMTM                  INSURE 7-TAG (7094) MODE                   IOPD0075    
      00022  0634 00 1 00115         SXA     SETX1,1                                                  IOPD0076    
      00023  0634 00 2 00116         SXA     SETX2,2                                                  IOPD0077    
      00024  0634 00 4 00117         SXA     SETX4,4                                                  IOPD0078    
      00025 -0500 60 4 00001         CAL*    1,4           PICK UP AUTHOR FROM CALLER                 IOPD0079    
      00026  0602 00 0 01157         SLW     AUTHOR        ..                                         IOPD0080    
      00027  0500 00 4 00001         CLA     1,4           CHECK IF TAPE STRATEGY NEEDED              IOPD0081    
      00030 -0120 00 0 00036         TMI     FIRST         SKIP IF TAPE STRATEGY NOT NEEDED           IOPD0082    
      00031 -0500 00 0 02065         CAL     =O3000003     OTHERWISE SET UP TRAPS FOR TAPE STRATEGY   IOPD0083    
      00032 -0602 00 0 01114         ORS     ENABLE        ..                                         IOPD0084    
      00033 -0500 00 0 01114         CAL     ENABLE        SET UP ENABLE FOR CHANNEL 'A' ONLY         IOPD0085    
      00034 -0320 00 0 02064         ANA     =O1000001     ..                                         IOPD0086    
      00035  0602 00 0 01167         SLW     ENBIFA        .. ONLY IF CHANNEL 'A' ENABLED ALREADY     IOPD0087    
                                                                                                      IOPD0088    
      00036  0020 00 0 00037  FIRST  TRA     *+1           FIRST PASS SWITCH                          IOPD0089    
      00037  0074 00 4 01313         TSX     RDCLOC,4      READ CHRONOLOG CLOCK FIRST TIME ONLY       IOPD0090    
      00040 -0625 00 0 00036         STL     FIRST         AND CLOSE THIS PATH                        IOPD0091    
      00041  0760 00 0 01352         RDCA                  RESET DATA CHANNEL 'A'                     IOPD0092    
      00042  0760 00 0 02352         RDCB                  RESET DATA CHANNEL 'B'                     IOPD0093    
                                                                                                      IOPD0094    
      00043                          WHEN    B,T,,OVLBGN,,,,,                                         IOPD0095    
                                                                                                      IOPD0096    
      00043  0774 00 4 00062         AXT     HITRAP+1,4    SAVE FMS CONTROL LOCATIONS AND FMS CLOCK   IOPD0097    
      00044 -0500 00 4 00062         CAL     HITRAP+1,4    ..                                         IOPD0098    
      00045  0602 00 4 01307         SLW     SAVFMS,4      ..                                         IOPD0099    
      00046  2 00001 4 00044         TIX     *-2,4,1       ..                                         IOPD0100    
                                                                                                      IOPD0101    
      00047                          WHEN    B,T,,OVLEND,,,,,                                         IOPD0102    
                                                                                                      IOPD0103    
      00047  0774 00 4 00062         AXT     HITRAP+1,4    CLEAR OUT TRAP AND INTERRUPT LOCATIONS     IOPD0104    
      00050                          WHEN    B,T,,SEA,,,,,                                            IOPD0105    
      00050  0600 00 4 00062         STZ     HITRAP+1,4    ..                                         IOPD0106    
      00051  2 00001 4 00050         TIX     *-1,4,1       ..                                         IOPD0107    
      00052                          WHEN    B,T,,SEB,,,,,                                            IOPD0108    
      00052 -0500 00 0 00127         CAL     CLKINT        SET FOR FOR INTERVAL TIMER CLOCK TRAP      IOPD0109    
      00053  0560 00 0 00204         LDQ     ATRAP         .. CHANNEL 'A' TRAP                        IOPD0110    
      00054  0441 00 0 00217         LDI     BTRAP         .. AND CHANNEL 'B' TRAP                    IOPD0111    
      00055                          WHEN    B,T,,SEA,,,,,                                            IOPD0112    
      00055  0602 00 0 00007         SLW     CLKTRP        .. CLOCK TRAP                              IOPD0113    
      00056 -0600 00 0 00013         STQ     ADCTRP        .. CHANNEL 'A' TRAP                        IOPD0114    
      00057  0604 00 0 00015         STI     BDCTRP        .. CHANNEL 'B' TRAP                        IOPD0115    
      00060                          WHEN    B,T,,SEB,,,,,                                            IOPD0116    
                                                                                                      IOPD0117    
                                             ..... INITIALIZE FILE I/O SYSTEM ........................IOPD0118    
                                                                                                      IOPD0119    
      00060  0074 00 4 00003         TSX     $IOINIT,4     FILE SYSTEM INITIALIZATION ENTRY           IOPD0120    
      00061  3 00000 0 00277         PTH     IOERTN        .. ERROR RETURN                            IOPD0121    
      00062  3 00000 0 01136         PTH     DATEYR        .. TODAY'S DATE IN BCD                     IOPD0122    
      00063  3 00000 0 01137         PTH     TIMNOW        .. TIME OF DAY IN 60THS OF A SECOND        IOPD0123    
      00064  3 00000 0 01114         PTH     ENABLE        .. COMMON ENABLE WORD                      IOPD0124    
      00065  0074 00 4 00004         TSX     $CHNGUS,4     SET USER NO. 1 AS USER OF FILE SYSTEM      IOPD0125    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.8 PAGE 4     
                  
      00066  3 00000 0 02061         PTH     =1            ..                                         IOPD0126    
      00067  0074 00 4 00005         TSX     $USTAT,4      SET UP STORAGE FOR FILE SYSTEM             IOPD0127    
      00070  3 00361 0 01313         PTH     STATBL,,STBL  ..                                         IOPD0128    
      00071  3 00133 0 01674         PTH     QUEUE1,,1QL   ..                                         IOPD0129    
      00072  3 00000 0 02027         PTH     QUEUE2,,2QL   ..                                         IOPD0130    
      00073  3 00031 0 02027         PTH     QUEUE3,,3QL   ..                                         IOPD0131    
      00074  0074 00 4 00006         TSX     $SETRAP,4     SET UP SUPERVISOR INTERRUPT LOCATION       IOPD0132    
      00075  3 00000 0 00310         PTH     SSTRAP        ..                                         IOPD0133    
      00076  0074 00 4 00007         TSX     $SETUSR,4     SET UP USER OPTIONS                        IOPD0134    
      00077  3 00000 0 02061         PTH     =1            .. FOR USER NO. 1                          IOPD0135    
      00100  3 00000 0 02067         PTH     =O007010777777 .. UNRESTRICTED USER (DAEMON)             IOPD0136    
      00101  3 00000 0 01157         PTH     AUTHOR        .. AUTHOR FROM CALL TO SETIO               IOPD0137    
      00102  3 00000 0 02070         PTH     =O77777000000 .. PROTECTION LIMITS IF NEEDED             IOPD0138    
      00103  3 00000 0 02060         PTH     =0            .. ZERO RELOCATION                         IOPD0139    
      00104  3 00000 0 02061         PTH     =1            .. GIVE USER HIGHEST PRIORITY              IOPD0140    
      00105  0074 00 4 00010         TSX     $SETAB,4      SET ALL ENTRIES TO COME FROM 'HOME' MEMORY IOPD0141    
      00106  3 00000 0 01173         PTH     HOME          ..                                         IOPD0142    
      00107  3 00000 0 01173         PTH     HOME          ..                                         IOPD0143    
      00110  3 00000 0 01173         PTH     HOME          ..                                         IOPD0144    
                                                                                                      IOPD0145    
      00111 -0500 00 0 01137         CAL     TIMNOW        COMPUTE ANY TIME WASTED IN INITIALIZATION  IOPD0146    
      00112                          WHEN    B,T,,SEA,,,,,                                            IOPD0147    
      00112  0401 00 0 00005         ADM     CLOCK         ..                                         IOPD0148    
      00113                          WHEN    B,T,,SEB,,,,,                                            IOPD0149    
      00113  0602 00 0 01137         SLW     TIMNOW        ..                                         IOPD0150    
                                                                                                      IOPD0151    
      00114  0074 00 4 00122         TSX     STCLOC,4      START UP INTERVAL TIMER CLOCK NOW          IOPD0152    
      00115  0774 00 1 00000  SETX1  AXT     **,1                                                     IOPD0153    
      00116  0774 00 2 00000  SETX2  AXT     **,2                                                     IOPD0154    
      00117  0774 00 4 00000  SETX4  AXT     **,4                                                     IOPD0155    
      00120  0564 00 0 01114         ENB     ENABLE        INSURE ALL TRAPS ENABLED                   IOPD0156    
      00121  0020 00 4 00002         TRA     2,4           AND RETURN                                 IOPD0157    
                                                                                                      IOPD0158    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.8 PAGE 5     
                  
                                                                                                      IOPD0160    
                                             STCLOC/CLKINT ....... BASIC CLOCK SECTION ...............IOPD0161    
                                                                                                      IOPD0162    
      00122 -0500 00 0 01172  STCLOC CAL     CLKTIM        RESTART CLOCK TO RUN FOR CLKTIM            IOPD0163    
      00123  0760 00 0 00006         COM                   ..                                         IOPD0164    
      00124  0400 00 0 02061         ADD     =1            ..                                         IOPD0165    
      00125                          WHEN    B,T,,SEA,,,,,                                            IOPD0166    
      00125  0601 00 0 00005         STO     CLOCK         .. NOTE 'P' BIT NOT STORED                 IOPD0167    
      00126                          WHEN    B,T,,SEB,,,,,                                            IOPD0168    
      00126  0020 00 4 00001         TRA     1,4           ..                                         IOPD0169    
                                                                                                      IOPD0170    
      00127                          WHEN    B,F,CLKINT,TTR,*+1,,,,                                   IOPD0171    
      00127  0021 00 0 00130  CLKINT TTR     *+1,,                                                    IOPD0171.003
      00130                          WHEN    B,T,CLKINT,TIB,*+1,,,,                                   IOPD0172    
                                                                                                      IOPD0173    
      00130                          WHEN    B,T,,SEB,,,,,                                            IOPD0174    
                                                                                                      IOPD0175    
      00130  0564 00 0 02060         ENB     =0            HERE ON ALL INTERVAL TIMER 'CLOCK' TRAPS   IOPD0176    
      00131  0634 00 4 01147         SXA     TRPIR4,4      SAVE IR4                                   IOPD0177    
      00132  0074 00 4 00737         TSX     ALLSAV,4      AND REST OF MACHINE CONDITIONS             IOPD0178    
      00133                          WHEN    B,T,,SEA,,,,, PICK UP TRAP FLAGS                         IOPD0179    
      00133 -0500 00 0 00006         CAL     CLKLOC        ..                                         IOPD0180    
      00134                          WHEN    B,T,,SEB,,,,, ..                                         IOPD0181    
      00134  0602 00 0 01160         SLW     RTNLOC        ..                                         IOPD0182    
      00135  0760 00 0 00004         ENK                   PICK UP CONSOLE KEYS                       IOPD0183    
      00136 -0600 00 0 01161         STQ     CLKEYS        SAVE KEYS                                  IOPD0184    
      00137  0441 00 0 01161         LDI     CLKEYS        KEYS TO SI                                 IOPD0185    
      00140  0056 00  040000         RNT     40000         IS KEY '21' DOWN                           IOPD0186    
      00141  0020 00 0 00171         TRA     KEYSUP        NO, SKIP                                   IOPD0187    
      00142  0520 00 0 01162         ZET     KEYSW         YES, IS THIS A PREVIOUS REQUEST            IOPD0188    
      00143  0020 00 0 00172         TRA     SKPKEY        YES, IGNORE REDUNDANT REQUEST              IOPD0189    
      00144 -0625 00 0 01162         STL     KEYSW         NO, SERVICE NEW KEY REQUEST                IOPD0190    
      00145  0074 00 4 00000         TSX     BTOC,4        CONVERT LEFT-HALF MQ TO BCD                IOPD0191    
      00146  0602 00 0 01221         SLW     KREAD+2       ..                                         IOPD0192    
      00147  0074 00 4 00000         TSX     BTOC,4        RIGHT-HALF                                 IOPD0193    
      00150  0602 00 0 01222         SLW     KREAD+3       ..                                         IOPD0194    
      00151  0074 00 4 00375         TSX     EPRINT,4      PRINT MESSAGE                              IOPD0195    
      00152  1 00004 0 01217         PON     KREAD,,4      (DOUBLE SPACE)                             IOPD0196    
      00153 -0500 00 0 01161         CAL     CLKEYS        KEYS TO AC                                 IOPD0197    
      00154 -0320 00 0 02062         ANA     =O7777        IGNORE ALL BUT KEYS 24-35                  IOPD0198    
      00155  0734 00 4 00000         PAX     0,4           23-35 TO IR4                               IOPD0199    
      00156 -2 00006 4 00160         TNX     BADKEY,4,6    IGNORE FMS KEY SETTINGS (0-6)              IOPD0200    
      00157 -2 00004 4 00163         TNX     KEYSOK,4,4    SKIP IF KEYS SET FOR TAPE STRATEGY MODULE  IOPD0201    
      00160  0074 00 4 00375  BADKEY TSX     EPRINT,4      PRINT 'ILLEGAL KEY SETTING, TRY AGAIN.'    IOPD0202    
      00161  0 00010 0 01207                 KEYSNG,,8     ..                                         IOPD0203    
      00162  0020 00 0 00172         TRA     SKPKEY                                                   IOPD0204    
                                                                                                      IOPD0205    
      00163  0634 00 4 01161  KEYSOK SXA     CLKEYS,4      SAVE KEY SETTING FOR TAPE STRATEGY MODULE  IOPD0206    
      00164  0074 00 4 00375         TSX     EPRINT,4      PRINT '****** PLEASE PUT KEY 21 UP ******' IOPD0207    
      00165  0 00006 0 01201                 PP21UP,,6     ..                                         IOPD0208    
      00166  0074 00 4 00011         TSX     $TAPKEY,4     CALL TAPE STRATEGY MODULE                  IOPD0209    
      00167  3 00000 0 01161         PTH     CLKEYS        .. WITH KEY SETTING                        IOPD0210    
      00170  0020 00 0 00172         TRA     SKPKEY                                                   IOPD0211    
                                                                                                      IOPD0212    
      00171  0600 00 0 01162  KEYSUP STZ     KEYSW         HERE IF KEY 21 UP, RESET SWITCH            IOPD0213    
                                                                                                      IOPD0214    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.8 PAGE 6     
                  
      00172  0074 00 4 01115  SKPKEY TSX     ADDTIM,4      UPDATE TIME COUNTERS                       IOPD0215    
      00173 -0500 00 0 01141         CAL     TOTTIM        UPDATE TOTAL TIME SYSTEM HAS RUN           IOPD0216    
      00174  0400 00 0 01172         ADD     CLKTIM        ..                                         IOPD0217    
      00175                          WHEN    B,T,,SEA,,,,,                                            IOPD0218    
      00175  0401 00 0 00005         ADM     CLOCK         ..                                         IOPD0219    
      00176                          WHEN    B,T,,SEB,,,,,                                            IOPD0220    
      00176  0602 00 0 01141         SLW     TOTTIM        ..                                         IOPD0221    
      00177  0074 00 4 00122         TSX     STCLOC,4      RESTART INTERVAL TIMER FOR 'CLKTIM'        IOPD0222    
      00200  0074 00 4 00773         TSX     ALLRST,4      RESTORE USER'S MACHINE CONDITIONS          IOPD0223    
      00201  0074 00 4 00676         TSX     CMEXIT,4      AND RETURN TO INTERRUPTED PROGRAM          IOPD0224    
      00202  0534 00 4 01147         LXA     TRPIR4,4      ..                                         IOPD0225    
      00203  0 00000 0 01160                 RTNLOC        ..                                         IOPD0226    
                                                                                                      IOPD0227    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPD0228    
                                                                                                      IOPD0229    
                                             ... ATRAP/BTRAP ... RECORD TRAPS FROM CHANNELS A AND B ..IOPD0230    
                                                                                                      IOPD0231    
      00204                          WHEN    B,F,ATRAP,TTR,*+1,,,,                                    IOPD0232    
      00204  0021 00 0 00205  ATRAP  TTR     *+1,,                                                    IOPD0232.003
      00205                          WHEN    B,T,ATRAP,TIB,*+1,,,,                                    IOPD0233    
                                                                                                      IOPD0234    
      00205                          WHEN    B,T,,SEB,,,,,                                            IOPD0235    
                                                                                                      IOPD0236    
      00205  0564 00 0 02060         ENB     =0            HERE FOR TRAP FROM CHANNEL 'A'             IOPD0237    
      00206  0634 00 4 01147         SXA     TRPIR4,4      SAVE IR4                                   IOPD0238    
      00207  0074 00 4 00737         TSX     ALLSAV,4      AND REST OF MACHINE CONDITIONS             IOPD0239    
      00210                          WHEN    B,T,,SEA,,,,, PICK UP TRAP FLAGS                         IOPD0240    
      00210 -0500 00 0 00012         CAL     ATRLOC        ..                                         IOPD0241    
      00211                          WHEN    B,T,,SEB,,,,, ..                                         IOPD0242    
      00211  0602 00 0 01160         SLW     RTNLOC        ..                                         IOPD0243    
      00212  0074 00 4 00012  ATRAP1 TSX     $TRAPA,4      GIVE TRAP TO TAPE I/O ADAPTER              IOPD0244    
      00213  3 00000 0 01160         PTH     RTNLOC        ..                                         IOPD0245    
      00214  0020 00 0 00233         TRA     IGNTRP        SKIP IF TRAP TAKEN BY ADAPTER              IOPD0246    
      00215 -0774 00 1 00001         AXC     1,1           POINTER TO TRAP FLAGS FOR CHANNEL A        IOPD0247    
      00216  0020 00 0 00231         TRA     RECTRP        AND RECORD THIS TRAP                       IOPD0248    
                                                                                                      IOPD0249    
      00217                          WHEN    B,F,BTRAP,TTR,*+1,,,,                                    IOPD0250    
      00217  0021 00 0 00220  BTRAP  TTR     *+1,,                                                    IOPD0250.003
      00220                          WHEN    B,T,BTRAP,TIB,*+1,,,,                                    IOPD0251    
                                                                                                      IOPD0252    
      00220                          WHEN    B,T,,SEB,,,,,                                            IOPD0253    
                                                                                                      IOPD0254    
      00220  0564 00 0 02060         ENB     =0            HERE FOR TRAP FROM CHANNEL 'B'             IOPD0255    
      00221  0634 00 4 01147         SXA     TRPIR4,4      SAVE IR4                                   IOPD0256    
      00222  0074 00 4 00737         TSX     ALLSAV,4      AND REST OF MACHINE CONDITIONS             IOPD0257    
      00223                          WHEN    B,T,,SEA,,,,, PICK UP TRAP FLAGS                         IOPD0258    
      00223 -0500 00 0 00014         CAL     BTRLOC        ..                                         IOPD0259    
      00224                          WHEN    B,T,,SEB,,,,, ..                                         IOPD0260    
      00224  0602 00 0 01160         SLW     RTNLOC        ..                                         IOPD0261    
      00225  0074 00 4 00013         TSX     $TRAPB,4      GIVE TRAP TO TAPE I/O ADAPTER              IOPD0262    
      00226  3 00000 0 01160         PTH     RTNLOC        ..                                         IOPD0263    
      00227  0020 00 0 00233         TRA     IGNTRP        SKIP IF TRAP TAKEN BY ADAPTER              IOPD0264    
      00230 -0774 00 1 00002         AXC     2,1           POINTER TO TRAP FLAGS FOR CHANNEL B        IOPD0265    
                                                                                                      IOPD0266    
      00231 -0500 00 0 01160  RECTRP CAL     RTNLOC        RECORD TRAP FLAGS FOR 'TPWAIT'             IOPD0267    
      00232 -0602 00 1 01167         ORS     TPFLAG,1      ..                                         IOPD0268    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.8 PAGE 7     
                  
      00233  0074 00 4 00773  IGNTRP TSX     ALLRST,4      RESTORE USER'S MACHINE CONDITIONS          IOPD0269    
      00234  0074 00 4 00676         TSX     CMEXIT,4      RETURN TO INTERRUPTED PROGRAM              IOPD0270    
      00235  0534 00 4 01147         LXA     TRPIR4,4      ..                                         IOPD0271    
      00236  0 00000 0 01160                 RTNLOC        ..                                         IOPD0272    
                                                                                                      IOPD0273    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.8 PAGE 8     
                  
                                                                                                      IOPD0275    
                                             ... GETIME ... RETURN TIME OF DAY IN LAC AND DATE IN MQ .IOPD0276    
                                                                                                      IOPD0277    
      00237  0634 00 4 00241  GETIME SXA     *+2,4                                                    IOPD0278    
      00240  0074 00 4 01115         TSX     ADDTIM,4      COMPUTE TIME TO NEAREST 60TH OF A SECOND   IOPD0279    
      00241  0774 00 4 00000         AXT     **,4                                                     IOPD0280    
      00242 -0500 00 0 01137         CAL     TIMNOW        RETURN TIME OF DAY IN LOGICAL AC           IOPD0281    
      00243  0560 00 0 01136         LDQ     DATEYR        AND DATE IN MQ                             IOPD0282    
      00244  0564 00 0 01114         ENB     ENABLE        REENABLE                                   IOPD0283    
      00245  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPD0284    
                                                                                                      IOPD0285    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPD0286    
                                                                                                      IOPD0287    
                                             ... GETELT ... RETURN ELAPSE TIME IN LOGICAL AC ........ IOPD0288    
                                                                                                      IOPD0289    
      00246  0634 00 4 00250  GETELT SXA     *+2,4                                                    IOPD0290    
      00247  0074 00 4 01115         TSX     ADDTIM,4      COMPUTE TIME TO NEAREST 60TH OF A SECOND   IOPD0291    
      00250  0774 00 4 00000         AXT     **,4                                                     IOPD0292    
      00251 -0500 00 0 01140         CAL     ELAPSE        RETURN ELAPSE TIME IN LOGICAL AC           IOPD0293    
      00252  0600 00 0 01140         STZ     ELAPSE        AND RESET ELAPSE TIME                      IOPD0294    
      00253  0564 00 0 01114         ENB     ENABLE        REENABLE                                   IOPD0295    
      00254  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPD0296    
                                                                                                      IOPD0297    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPD0298    
                                                                                                      IOPD0299    
                                             ... TPWAIT ... WAIT ON CHANNEL AND CHECK FLAGS ..........IOPD0300    
                                                                                                      IOPD0301    
      00255  0634 00 4 00266  TPWAIT SXA     TWATX4,4                                                 IOPD0302    
      00256 -0500 00 4 00001         CAL     1,4           PZE CHANNO                                 IOPD0303    
      00257  0737 00 4 00000         PAC     0,4           -CHANNEL NO. TO IR4                        IOPD0304    
      00260  0564 00 0 01114         ENB     ENABLE        INSURE ALL CHANNELS ENABLED                IOPD0305    
      00261 -0625 00 4 01310         STL     TCOAB,4       WAIT ON CHANNEL                            IOPD0306    
      00262  0522 00 4 01310         XEC     TCOAB,4       ..                                         IOPD0307    
      00263  0761 00 0 00000         NOP                   INSURE ALL TRAPS TAKEN                     IOPD0308    
      00264  0441 00 4 01167         LDI     TPFLAG,4      PICK UP CHANNEL STATUS FLAGS               IOPD0309    
      00265  0600 00 4 01167         STZ     TPFLAG,4      .. AND RESET THEM                          IOPD0310    
      00266  0774 00 4 00000  TWATX4 AXT     **,4          RESTORE CALLER'S IR4                       IOPD0311    
      00267 -0054 00  000002         LFT     2             WAS REDUNDANCY CHECK FLAG ON               IOPD0312    
      00270  0020 00 4 00002         TRA     2,4           YES, TAKE TAPE CHECK EXIT (2,4)            IOPD0313    
      00271 -0054 00  000004         LFT     4             NO, WAS EOF FLAG ON                        IOPD0314    
      00272  0020 00 4 00003         TRA     3,4           YES, TAKE EOF EXIT (3,4)                   IOPD0315    
      00273  0020 00 4 00004         TRA     4,4           NO, TAKE NORMAL EXIT (4,4)                 IOPD0316    
                                                                                                      IOPD0317    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.8 PAGE 9     
                  
                                                                                                      IOPD0319    
                                             ... FERRTN ... SET RETURN FOR UNDEFINED ERRORS           IOPD0320    
                                                                                                      IOPD0321    
      00274 -0500 00 4 00001  FERRTN CAL     1,4           ERROR RETURN LOCATION (PZE RTNLOC)         IOPD0322    
      00275  0621 00 0 01163         STA     FERTN         SAVE IT                                    IOPD0323    
      00276  0020 00 4 00002         TRA     2,4           AND RETURN                                 IOPD0324    
                                                                                                      IOPD0325    
      00277  0520 00 0 01163  IOERTN ZET     FERTN         HERE FOR ERROR RETURN FROM FILE SYSTEM     IOPD0326    
      00300  0020 60 0 01163         TRA*    FERTN         TAKE USER EXIT IF SPECIFIED                IOPD0327    
      00301  0074 00 4 00002         TSX     PRNTER,4      OTHERWISE, PRINT FILE SYSTEM ERROR MESSAGE IOPD0328    
      00302  0074 00 4 00357         TSX     PRINT,4       PRINT 'NO ERROR RETURN SPECIFIED'          IOPD0329    
      00303  0 00005 0 01174                 NOERTN,,5     ..                                         IOPD0330    
      00304  0020 00 0 00326         TRA     EXIT          AND EXIT                                   IOPD0331    
                                                                                                      IOPD0332    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPD0333    
                                                                                                      IOPD0334    
                                             ... TILOCK ... SET RETURN ON INTERLOCKED FILES           IOPD0335    
                                                                                                      IOPD0336    
      00305 -0500 00 4 00001  TILOCK CAL     1,4           INTERLOCK RETURN LOCATION (PZE RTNLOC)     IOPD0337    
      00306  0621 00 0 01164         STA     UILOCK        SAVE IT                                    IOPD0338    
      00307  0020 00 4 00002         TRA     2,4           AND RETURN                                 IOPD0339    
                                                                                                      IOPD0340    
      00310  0564 00 0 02060  SSTRAP ENB     =0            HERE ON INTERRUPT FROM FILE SYSTEM         IOPD0341    
      00311 -0500 60 4 00003         CAL*    3,4           PICK UP USER'S IR4 FROM CALL               IOPD0342    
      00312  0621 00 0 00322         STA     SSTIR4        SAVE USER'S IR4                            IOPD0343    
      00313 -0500 60 4 00002         CAL*    2,4           PICK UP INTERRUPT CODE (1-6)               IOPD0344    
      00314  0734 00 5 00000         PAX     0,5           INTO IR5                                   IOPD0345    
      00315 -3 00003 5 00325         TXL     IGNINT,5,3    IGNORE CODES 1-3                           IOPD0346    
      00316 -3 00004 5 00320         TXL     FILOCK,5,4    SKIP ON FILE INTERLOCKED (CODE 4)          IOPD0347    
      00317  0020 00 0 00325         TRA     IGNINT        IGNORE ALL OTHER INTERRUPT CODES           IOPD0348    
                                                                                                      IOPD0349    
      00320 -0520 00 0 01164  FILOCK NZT     UILOCK        HAS USER SPECIFIED INTERLOCKED RETURN      IOPD0350    
      00321  0020 00 0 00325         TRA     IGNINT        NO, IGNORE INTERRUPT                       IOPD0351    
      00322  0774 00 4 00000  SSTIR4 AXT     **,4          YES, RESTORE USER'S IR4                    IOPD0352    
      00323  0564 00 0 01114         ENB     ENABLE        RE-ENABLE ALL TRAPS                        IOPD0353    
      00324  0020 60 0 01164         TRA*    UILOCK        AND TAKE USER INTERLOCKED RETURN           IOPD0354    
                                                                                                      IOPD0355    
      00325  0020 00 4 00006  IGNINT TRA     6,4           HERE TO IGNORE INTERRUPT FROM FILE SYS.    IOPD0356    
                                                                                                      IOPD0357    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.8 PAGE 10    
                  
                                                                                                      IOPD0359    
                                             ... EXIT ... TERMINATION ROUTINE, EXIT TO FMS OR STOP ...IOPD0360    
                                                                                                      IOPD0361    
      00326  0074 00 4 00014  EXIT   TSX     $IOFINI,4     INSURE FILE SYSTEM UPDATED                 IOPD0362    
      00327  3 00000 0 00330         PTH     *+1           .. IGNORE ERROR RETURN                     IOPD0363    
      00330  0074 00 4 00357         TSX     PRINT,4       PRINT MESSAGE                              IOPD0364    
      00331  1 00002 0 01223         PON     EXITMS,,2     ..                                         IOPD0365    
      00332  0564 00 0 02060         ENB     =0            DISABLE ALL TRAPS                          IOPD0366    
      00333  0060 00 0 00333         TCOA    *             WAIT UNTIL ALL CHANNEL ACTIVITY CEASES     IOPD0367    
      00334  0061 00 0 00334         TCOB    *             ..                                         IOPD0368    
      00335  0760 00 0 01352         RDCA                  AND RESET CHANNELS A,                      IOPD0369    
      00336  0760 00 0 02352         RDCB                  .. AND B                                   IOPD0370    
                                                                                                      IOPD0371    
      00337                          WHEN    B,T,,OVLBGN,,,,,                                         IOPD0372    
                                                                                                      IOPD0373    
      00337  0774 00 4 00062         AXT     HITRAP+1,4    RESTORE FMS LOWER CORE                     IOPD0374    
      00340 -0500 00 4 01307         CAL     SAVFMS,4      ..                                         IOPD0375    
      00341  0602 00 4 00062         SLW     HITRAP+1,4    ..                                         IOPD0376    
      00342  2 00001 4 00340         TIX     *-2,4,1       ..                                         IOPD0377    
                                                                                                      IOPD0378    
      00343  0774 00 4 00012         AXT     10,4          RELOAD FMS FROM A1                         IOPD0379    
      00344  0772 00 0 01201  EXIT1  REWA    1             ..                                         IOPD0380    
      00345  0762 00 0 01221         RTBA    1             ..                                         IOPD0381    
      00346  0540 00 0 01307         RCHA    LDFIOP        ..                                         IOPD0382    
      00347  0060 00 0 00347         TCOA    *             ..                                         IOPD0383    
      00350  0022 00 0 00355         TRCA    A1BAD         ..                                         IOPD0384    
      00351  0030 00 0 00355         TEFA    A1BAD         ..                                         IOPD0385    
      00352  0762 00 0 01221         RTBA    1             .. SKIP CARD TO TAPE RECORD                IOPD0386    
      00353  0762 00 0 01221         RTBA    1             .. SKIP DUMP RECORD                        IOPD0387    
      00354  0020 00 0 00001         TRA     1             EXIT TO FIOP TO LOAD SIGN-ON RECORD        IOPD0388    
                                                                                                      IOPD0389    
      00355  2 00001 4 00344  A1BAD  TIX     EXIT1,4,1     COUNT ERRORS                               IOPD0390    
      00356  0000 00 0 00344         HTR     EXIT1         STOP ON TOO MANY ERRORS                    IOPD0391    
                                                                                                      IOPD0392    
      00357                          WHEN    B,T,,OVLEND,,,,,                                         IOPD0393    
                                                                                                      IOPD0394    
      00357                          WHEN    B,T,,HTR,*,,,,                                           IOPD0395    
                                                                                                      IOPD0396    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.8 PAGE 11    
                  
                                                                                                      IOPD0398    
                                             .. PRINT/PUNCH/EPRINT .. ON LINE PRINT AND PUNCH ROUTINESIOPD0399    
                                                                                                      IOPD0400    
                       00357  WRFLX  SYN     *             SIMULATED TYPEWRITER                       IOPD0401    
      00357  0564 00 0 02060  PRINT  ENB     =0            DISABLE ALL TRAPS                          IOPD0402    
      00360 -0625 00 0 00623         STL     PRSW          ROUTINE TO PRINT ON LINE                   IOPD0403    
      00361  0020 00 0 00364         TRA     PUNCH+2       ..                                         IOPD0404    
                                                                                                      IOPD0405    
      00362  0564 00 0 02060  PUNCH  ENB     =0            DISABLE ALL TRAPS                          IOPD0406    
      00363  0600 00 0 00623         STZ     PRSW          ROUTINE TO PUNCH CARD ON LINE              IOPD0407    
      00364  0634 00 4 00373         SXA     PRPUX4,4      SAVE IR4 FROM CALL TO 'PRINT' OR 'PUNCH'   IOPD0408    
      00365  0560 00 4 00001         LDQ     1,4           PICK UP USER CALLING SEQUENCE              IOPD0409    
      00366 -0600 00 0 00370         STQ     *+2           SET IN CALL                                IOPD0410    
      00367  0074 00 4 00377         TSX     WPRPU,4       CALL PRINT/PUNCH ROUTINE                   IOPD0411    
      00370  0 00000 0 00000                 **,,**        ..                                         IOPD0412    
      00371  0074 00 4 01076         TSX     CHKCHA,4      CHECK FOR LOST TRAP ON CHANNEL 'A'         IOPD0413    
      00372  0564 00 0 01114         ENB     ENABLE        RE-ENABLE                                  IOPD0414    
      00373  0774 00 4 00000  PRPUX4 AXT     **,4          RESTORE USER'S IR4                         IOPD0415    
      00374  0020 00 4 00002         TRA     2,4           AND RETURN                                 IOPD0416    
                                                                                                      IOPD0417    
                       00375  WRTOPR SYN     *             USED BY DDIOA IN LIEU OF EPRINT            IOPD0418    
      00375  0564 00 0 02060  EPRINT ENB     =0            DISABLE ALL TRAPS                          IOPD0419    
      00376 -0625 00 0 00623         STL     PRSW          ROUTINE TO PRINT DURING ANY TRAP           IOPD0420    
                                                                                                      IOPD0421    
      00377  0634 00 1 00523  WPRPU  SXA     PRX1,1        SAVE XRS.                                  IOPD0422    
      00400  0634 00 2 00524         SXA     PRX2,2        ..                                         IOPD0423    
      00401  0634 00 4 00525         SXA     PRX4,4        ..                                         IOPD0424    
      00402  0074 00 4 01024         TSX     SAVCHA,4      DISABLE AND SAVE CHANNEL 'A'               IOPD0425    
      00403  0534 00 4 00525         LXA     PRX4,4        RELOAD CALLER'S XR4.                       IOPD0426    
      00404 -0500 00 4 00001         CAL     1,4           PZE FIRST,,N                               IOPD0427    
      00405 -0734 00 2 00000         PDX     ,2            GET WORD COUNT                             IOPD0428    
      00406  0754 00 2 00000         PXA     ,2            ..                                         IOPD0429    
      00407  0361 00 4 00001         ACL     1,4           BES LOCATION OF USER DATA                  IOPD0430    
      00410  0621 00 0 00432         STA     PRPU.2        FOR WORD PICKUP.                           IOPD0431    
      00411 -0520 00 0 00623         NZT     PRSW          IF CALL IS FOR PUNCH,                      IOPD0432    
      00412  0020 00 0 00420         TRA     PRPU.1        SKIP SENSE INSTRUCTION SETUP               IOPD0433    
      00413  0771 00 0 00017         ARS     15            ELSE, PREFIX TO X7                         IOPD0434    
      00414 -0737 00 7 00000         PDC     ,7            ..                                         IOPD0435    
      00415 -0500 00 7 00626         CAL     SPRTBL,7      PICK UP USER REQUESTED SPRA                IOPD0436    
      00416  0602 00 0 00512         SLW     SPRA          SAVE                                       IOPD0437    
      00417  0602 00 0 00506         SLW     SPRX          THERE ALSO IN CASE BLANK LINE              IOPD0438    
                                                                                                      IOPD0439    
      00420  0774 00 7 00060  PRPU.1 AXT     48,7          CLEAR CARD IMAGE BUFFER                    IOPD0440    
      00421  0600 00 7 00623         STZ     CBUF2+48,7    ..                                         IOPD0441    
      00422  2 00001 7 00421         TIX     *-1,7,1       ..                                         IOPD0442    
      00423 -0500 00 0 02071         CAL     =-0           INITIALIZE COLUMN MARKER TO FIRST COLUMN   IOPD0443    
      00424  0602 00 0 01156         SLW     PRCOL         ..                                         IOPD0444    
      00425  0774 00 4 00001         AXT     1,4           INITIALIZE CHARACTER COUNT                 IOPD0445    
      00426  0774 00 5 00001         AXT     1,5           START ON RIGHT HALF                        IOPD0446    
      00427  0774 00 6 00001         AXT     1,6           OF FIRST BUFFER                            IOPD0447    
      00430 -3 00000 2 00472         TXL     DONE,2,0      SKIP FOR ZERO WORD COUNT.                  IOPD0448    
      00431  0600 00 0 00624         STZ     DONESW        INDICATE THERE IS MORE PRINTING TO DO      IOPD0449    
                                                                                                      IOPD0450    
      00432  0560 00 2 00000  PRPU.2 LDQ     -,2           LOAD FIRST OR NEXT USER DATA WORD          IOPD0451    
      00433  0774 00 1 00006         AXT     6,1           SIX CHARACTERS PER WORD                    IOPD0452    
      00434 -0754 00 0 00000  PRPU.3 ZAC                                                              IOPD0453    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.8 PAGE 12    
                  
      00435 -0763 00 0 00006         LGL     6             CHARACTER TO AC                            IOPD0454    
      00436 -0600 00 0 00625         STQ     MQ.T          SAVE PARTIAL MQ CONTENTS                   IOPD0455    
      00437 -0765 00 0 00001         LGR     1             DIVIDE BY 2, SAVE REMAINDER                IOPD0456    
      00440  0737 00 7 00000         PAC     ,7            TABLE POSITION FOR CHARACTER               IOPD0457    
      00441 -0500 00 7 00636         CAL     CHRTB,7       GET PUNCH CONFIGURATION FOR THIS           IOPD0458    
      00442  0162 00 0 00444         TQP     *+2           CHARACTER                                  IOPD0459    
      00443  0771 00 0 00022         ARS     18            TO ADDRESS                                 IOPD0460    
      00444  0044 00 0 00000         PAI                   ..                                         IOPD0461    
      00445  0737 00 7 00000         PAC     ,7            TRANSFER ADDRESS IF CONTROL CHAR.          IOPD0462    
      00446  0054 00  100000         RFT     100000        TEST FOR SPECIAL CHARACTER                 IOPD0463    
      00447  0020 00 7 00000         TRA     0,7           YES, GO PROCESS SPECIAL CHARACTER          IOPD0464    
      00450 -0765 00 0 00014         LGR     12            ORDINARY CHARACTER, PUNCHES TO MQ          IOPD0465    
      00451 -0500 00 0 01156         CAL     PRCOL         PICKUP COLUMN MARKER                       IOPD0466    
      00452  0774 00 7 00030         AXT     24,7          24 WORD CARD IMAGE BUFFER, EVERY           IOPD0467    
      00453  0162 00 0 00455         TQP     *+2           IF BIT IS OFF, IGNORE.                     IOPD0468    
      00454  0522 00 5 00537         XEC     ORINBT,5      ELSE, ADD PUNCH TO PROPER BUFFER.          IOPD0469    
      00455 -0773 00 0 00001         RQL     1             ONWARD TO NEXT ROW OF CARD THIS COLUMN     IOPD0470    
      00456  2 00002 7 00453         TIX     *-3,7,2       ..                                         IOPD0471    
      00457  0771 00 0 00001         ARS     1             MOVE COLUMN MARKER TO NEXT COLUMN          IOPD0472    
      00460  1 00001 4 00461         TXI     *+1,4,1       INCREMENT WORD COUNT                       IOPD0473    
      00461  3 00170 4 00472         TXH     DONE,4,120    SEE IF OUT OF BOUNDS                       IOPD0474    
      00462 -0100 00 0 00466         TNZ     PRPU.4        IF DONE WITH HALF OF CARD,                 IOPD0475    
      00463 -0500 00 0 02071         CAL     =-0           REINITIALIZE COLUMN MARKER                 IOPD0476    
      00464  1 00001 5 00465         TXI     *+1,5,1       INDICATE ON NEXT HALF OF CARD              IOPD0477    
      00465  2 00002 5 00473         TIX     PRPU.5,5,2    IF TWO HALVES DONE, GO PRINT BUFFER OUT    IOPD0478    
      00466  0602 00 0 01156  PRPU.4 SLW     PRCOL         SAVE COLUMN MARKER FOR NEXT CHARACTER      IOPD0479    
      00467  0560 00 0 00625  SKP    LDQ     MQ.T          RESTORE PARTIAL MQ. ENTER HERE TO IGNORE   IOPD0480    
      00470  2 00001 1 00434         TIX     PRPU.3,1,1    GO GET NEXT CHARACTER                      IOPD0481    
      00471  2 00001 2 00432         TIX     PRPU.2,2,1    WORD EXHAUSTED, GO GET NEXT WORD           IOPD0482    
      00472 -0625 00 0 00624  DONE   STL     DONESW        FINISHED, INDICATE LAST BUFFER TO PRINT.   IOPD0483    
      00473  0520 00 0 00623  PRPU.5 ZET     PRSW          ARE WE PRINTING OR PUNCHING. Q             IOPD0484    
      00474  0020 00 0 00500         TRA     PRNT.1        WE ARE PRINTING, GO TO PRINT ROUTINE       IOPD0485    
      00475  0766 00 0 01341         WPUA                  HERE TO PUNCH CARD.                        IOPD0486    
      00476  0540 00 0 00531         RCHA    PUCOM         START CHANNEL                              IOPD0487    
      00477  0020 00 0 00522         TRA     PEND          AND SKIP TO EXIT AFTER ONE CARD.           IOPD0488    
      00500  0774 00 7 00030  PRNT.1 AXT     24,7          HERE TO PRINT PARTIAL LINE.                IOPD0489    
      00501  0520 60 6 00541         ZET*    CARD,6        SEE IF BUFFER ALL BLANK                    IOPD0490    
      00502  0020 00 0 00511         TRA     PNOW          NON-ZERO WORD FOUND, GO PRINT.             IOPD0491    
      00503  2 00001 7 00501         TIX     *-2,7,1       ..                                         IOPD0492    
      00504  3 00001 6 00522         TXH     PEND,6,1      HAVE WE PRINTED ANYTHING ON THIS LINE      IOPD0493    
      00505  0766 00 0 01361         WPRA                  NO, SELECT PRINTER                         IOPD0494    
      00506  0760 00 0 01360  SPRX   SPRA    **            USER REQUESTED SPRA                        IOPD0495    
      00507  0540 00 0 00532         RCHA    IOCD          AND DISCONNECT CHANNEL                     IOPD0496    
      00510  0020 00 0 00514         TRA     PRT2.2        SKIP                                       IOPD0497    
      00511  0766 00 0 01361  PNOW   WPRA                  SELECT PRINTER ON CHANNEL 'A'              IOPD0498    
      00512  0760 00 0 01360  SPRA   SPRA    **            USER REQUESTED SPRA OR SPRA 9.             IOPD0499    
      00513  0540 60 6 00531         RCHA*   PRCOM,6       START UP CHANNEL ON RIGHT BUFFER           IOPD0500    
      00514  0520 00 0 00624  PRT2.2 ZET     DONESW        IS THERE MORE TO DO. Q                     IOPD0501    
      00515  0020 00 0 00522         TRA     PEND          NO, SKIP TO END                            IOPD0502    
      00516 -0500 00 0 00631         CAL     SPRA9         YES, SET UP TO PRINT RIGHT HALF LINE       IOPD0503    
      00517  0602 00 0 00512         SLW     SPRA          ..                                         IOPD0504    
      00520 -0500 00 0 02071         CAL     =-0           RESET COLUMN MARKER                        IOPD0505    
      00521  1 00001 6 00466         TXI     PRPU.4,6,1    AND RE-ENTER ROUTINE                       IOPD0506    
                                                                                                      IOPD0507    
      00522  0074 00 4 01047  PEND   TSX     RSTCHA,4      HERE WHEN DONE, RESTORE CHANNEL 'A'        IOPD0508    
      00523  0774 00 1 00000  PRX1   AXT     -,1           RESTORE XRS                                IOPD0509    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.8 PAGE 13    
                  
      00524  0774 00 2 00000  PRX2   AXT     -,2           ..                                         IOPD0510    
      00525  0774 00 4 00000  PRX4   AXT     -,4           ..                                         IOPD0511    
      00526  0020 00 4 00002         TRA     2,4           RETURN TO CALLER.                          IOPD0512    
                                                                                                      IOPD0513    
                                                                                                      IOPD0514    
      00527  0 00000 0 00533         PZE     PRCM2         CHANNEL COMMANDS FOR SECOND BUFFER         IOPD0515    
      00530  0 00000 0 00531         PZE     PRCM1         .. FOR FIRST BUFFER                        IOPD0516    
                       00531  PRCOM  SYN     *             ..                                         IOPD0517    
                                                                                                      IOPD0518    
      00531 -2 00030 0 00573  PRCM1  IOSP    CBUF1,B,24    WHEN PRINTING, THIS SEQUENCE DISCONNECTS   IOPD0519    
      00532  0 00000 0 00000  IOCD   IOCD    0,,0          13 MS. FASTER THAN IOCD                    IOPD0520    
      00533 -2 00030 0 00543  PRCM2  IOSP    CBUF2,B,24    ..                                         IOPD0521    
      00534  0 00000 0 00000         IOCD    0,,0          ..                                         IOPD0522    
                                                                                                      IOPD0523    
                       00531  PUCOM  SYN     PRCM1         DISCONNECTS 25 MS FASTER THAN IOCD         IOPD0524    
                                                                                                      IOPD0525    
      00535 -0602 60 6 00543         ORS*    CARD+2,6      TO ADD PUNCH INTO RIGHT HALF CARD          IOPD0526    
      00536 -0602 60 6 00541         ORS*    CARD,6        .. LEFT HALF CARD                          IOPD0527    
                       00537  ORINBT SYN     *             ' XEC ORINBT,5 '                           IOPD0528    
                                                                                                      IOPD0529    
      00537  0 00000 7 00573         PZE     CBUF2+24,7    RIGHT HALF LINE                            IOPD0530    
      00540  0 00000 7 00623         PZE     CBUF1+24,7    LEFT HALF LINE                             IOPD0531    
                       00541  CARD   SYN     *             .. 'ORS* CARD,6'                           IOPD0532    
      00541  0 00000 7 00574         PZE     CBUF2+25,7    FOR RIGHT HALF CARD COL 37-72              IOPD0533    
      00542  0 00000 7 00624         PZE     CBUF1+25,7    ..                                         IOPD0534    
                                                                                                      IOPD0535    
      00543                   CBUF2  BSS     24            PRINT BUFFER 2                             IOPD0536    
      00573                   CBUF1  BSS     24            PRINT BUFFER 1, PUNCH BUFFER               IOPD0537    
                                                                                                      IOPD0538    
      00623  0 00000 0 77777  PRSW   PZE     -1            PRINT/PUNCH SWITCH                         IOPD0539    
      00624  0 00000 0 00000  DONESW PZE                   NON-ZERO IF CONTENTS OF BUFFER IS LAST     IOPD0540    
      00625  0 00000 0 00000  MQ.T   PZE                   STORAGE FOR PARTIAL MQ DURING CONVERSION   IOPD0541    
                                                                                                      IOPD0542    
                       00626  SPRTBL SYN     *             TABLE OF VALID SPR'S                       IOPD0543    
      00626  0761 00 0 00000  NOP    NOP                   (PZE)  SINGLE SPACE                        IOPD0544    
      00627  0760 00 0 01361         SPRA    1             (PON)  NEW PAGE                            IOPD0545    
      00630  0760 00 0 01362         SPRA    2             (PTW)  HALF-PAGE SKIP                      IOPD0546    
      00631  0760 00 0 01371  SPRA9  SPRA    9             (PTH)  PRINT RIGHT-HALF LINE               IOPD0547    
      00632  0761 00 0 00000         NOP                   (MZE)  SINGLE SPACE                        IOPD0548    
      00633  0761 00 0 00000         NOP                   (MON)  SINGLE SPACE                        IOPD0549    
      00634  0760 00 0 01364         SPRA    4             (MTW)  DOUBLE SPACE                        IOPD0550    
      00635  0761 00 0 00000         NOP                   (MTH)  SINGLE SPACE                        IOPD0551    
                                                                                                      IOPD0552    
                      000001  P12    BOOL    1             BIT FOR 12-PUNCH                           IOPD0553    
                      000002  P11    BOOL    2                     11-PUNCH                           IOPD0554    
                      000004  P0     BOOL    4                      0-PUNCH                           IOPD0555    
                      000010  P1     BOOL    10                     1-PUNCH                           IOPD0556    
                      000020  P2     BOOL    20                     2-PUNCH                           IOPD0557    
                      000040  P3     BOOL    40                     3-PUNCH                           IOPD0558    
                      000100  P4     BOOL    100                    4-PUNCH                           IOPD0559    
                      000200  P5     BOOL    200                    5-PUNCH                           IOPD0560    
                      000400  P6     BOOL    400                    6-PUNCH                           IOPD0561    
                      001000  P7     BOOL    1000                   7-PUNCH                           IOPD0562    
                      002000  P8     BOOL    2000                   8-PUNCH                           IOPD0563    
                      004000  P9     BOOL    4000                   9-PUNCH                           IOPD0564    
                                                                                                      IOPD0565    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.8 PAGE 14    
                  
                       00636  CHRTB  SYN     *             CONVERSION TABLE FOR CHARACTERS            IOPD0566    
      00636  0 00010 0 00004         PZE     P0,,P1        DIGITS 0, 1                                IOPD0567    
      00637  0 00040 0 00020         PZE     P2,,P3        2, 3                                       IOPD0568    
      00640  0 00200 0 00100         PZE     P4,,P5        4, 5                                       IOPD0569    
      00641  0 01000 0 00400         PZE     P6,,P7        6, 7                                       IOPD0570    
      00642  0 04000 0 02000         PZE     P8,,P9        8, 9                                       IOPD0571    
      00643  0 02040 1 00467         PZE     SKP,1,P8+P3   ILL., =                                    IOPD0572    
      00644  1 00467 0 02100         PON     P8+P4,,SKP    ', ILL.                                    IOPD0573    
      00645  1 00467 1 00467         PON     SKP,1,SKP     ILL, ILL.                                  IOPD0574    
      00646  0 00011 0 00001         PZE     P12,,P12+P1   +, A                                       IOPD0575    
      00647  0 00041 0 00021         PZE     P12+P2,,P12+P3 B, C                                      IOPD0576    
      00650  0 00201 0 00101         PZE     P12+P4,,P12+P5 D, E                                      IOPD0577    
      00651  0 01001 0 00401         PZE     P12+P6,,P12+P7 F, G                                      IOPD0578    
      00652  0 04001 0 02001         PZE     P12+P8,,P12+P9 H, I                                      IOPD0579    
      00653  0 02041 1 00467         PZE     SKP,1,P12+P8+P3 ILL., '.'                                IOPD0580    
      00654  0 02041 0 02101         PZE     P12+P8+P4,,P12+P8+P3 ), COLON (USE .)                    IOPD0581    
      00655  1 00467 1 00467         PON     SKP,1,SKP     ILL., ILL.                                 IOPD0582    
      00656  0 00012 0 00002         PZE     P11,,P11+P1   -, J                                       IOPD0583    
      00657  0 00042 0 00022         PZE     P11+P2,,P11+P3 K, L                                      IOPD0584    
      00660  0 00202 0 00102         PZE     P11+P4,,P11+P5 M, N                                      IOPD0585    
      00661  0 01002 0 00402         PZE     P11+P6,,P11+P7 O, P                                      IOPD0586    
      00662  0 04002 0 02002         PZE     P11+P8,,P11+P9 Q, R                                      IOPD0587    
      00663  0 02042 1 00467         PZE     SKP,1,P11+P8+P3 ILL., $                                  IOPD0588    
      00664  1 00467 0 02102         PON     P11+P8+P4,,SKP *, ILL.                                   IOPD0589    
      00665  1 00467 1 00467         PON     SKP,1,SKP     ILL., NULL                                 IOPD0590    
      00666  0 00014 0 00000         PZE     0,,P0+P1      BLANK, /                                   IOPD0591    
      00667  0 00044 0 00024         PZE     P0+P2,,P0+P3  S, T                                       IOPD0592    
      00670  0 00204 0 00104         PZE     P0+P4,,P0+P5  U, V                                       IOPD0593    
      00671  0 01004 0 00404         PZE     P0+P6,,P0+P7  W, X                                       IOPD0594    
      00672  0 04004 0 02004         PZE     P0+P8,,P0+P9  Y, Z                                       IOPD0595    
      00673  0 02044 1 00467         PZE     SKP,1,P0+P8+P3 TAB, ','                                  IOPD0596    
      00674  1 00467 0 02104         PON     P0+P8+P4,,SKP (, ILL.                                    IOPD0597    
      00675  1 00467 1 00467         PON     SKP,1,SKP     ILL., ILL.                                 IOPD0598    
                                                                                                      IOPD0599    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.8 PAGE 15    
                  
                                                                                                      IOPD0601    
                                             ... CMEXIT ... COMMON EXIT ROUTINE FROM ALL TRAPS .......IOPD0602    
                                                                                                      IOPD0603    
      00676  0564 00 0 02060  CMEXIT ENB     =0            INSURE ALL TRAPS DISABLED                  IOPD0604    
      00677  0604 00 0 01146         STI     CMXSI         SAVE INDICATORS                            IOPD0605    
      00700  0441 60 4 00002         LDI*    2,4           PICK UP RETURN FLAGS                       IOPD0606    
      00701  0057 00  700000         RIR     700000        INSURE TAG ZERO                            IOPD0607    
      00702  0604 00 0 01145         STI     CMXRTN        SAVE RETURN LOCATION                       IOPD0608    
      00703  0522 00 4 00001         XEC     1,4           RESTORE USER'S IR4 FROM 1,4                IOPD0609    
      00704  0520 00 0 01144         ZET     ATLOST        WAS A TRAP ON CHANNEL 'A' LOST             IOPD0610    
      00705  0020 00 0 00720         TRA     SIMTRP        YES, GO TO SIMULATE LOST TRAP              IOPD0611    
      00706 -0054 00  020000         LFT     20000         NO, WAS ECC SET FOR MEMORY 'A'             IOPD0612    
      00707  0020 00 0 00713         TRA     CMRTNB        NO, SET ECC TO MEMORY 'B'                  IOPD0613    
      00710  0441 00 0 01146         LDI     CMXSI         YES, RELOAD INDICATORS                     IOPD0614    
      00711  0564 00 0 01114         ENB     ENABLE        AND RETURN TO INTERRUPTED PROGRAM          IOPD0615    
      00712                          WHEN    B,T,,LRI,=0,,,,  ..                                      IOPD0616    
      00712                          WHEN    B,T,,SEA,,,,, ..                                         IOPD0617    
      00712  0020 60 0 01145         TRA*    CMXRTN        ..                                         IOPD0618    
                                                                                                      IOPD0619    
      00713  0441 00 0 01146  CMRTNB LDI     CMXSI         HERE TO RETURN WITH ECC SET FOR MEMORY 'B' IOPD0620    
      00714  0564 00 0 01114         ENB     ENABLE        RETURN TO INTERRUPTED PROGRAM              IOPD0621    
      00715                          WHEN    B,F,,LRI,=0,,,,  ..                                      IOPD0622    
      00715  0562 00 0 02060         LRI     =0,,                                                     IOPD0622.003
      00716                          WHEN    B,F,,SEB,,,,, ..                                         IOPD0623    
      00716 -0761 00 0 00042         SEB     ,,                                                       IOPD0623.003
      00717  0020 60 0 01145         TRA*    CMXRTN        ..                                         IOPD0624    
                                                                                                      IOPD0625    
      00720 -0057 00  717777  SIMTRP RIL     717777        HERE TO SIMULATE LOST TRAP ON CHANNEL 'A'  IOPD0626    
      00721  0604 00 0 01160         STI     RTNLOC        SET UP RETURN LOC. WITH ECC AND ICC FLAGS  IOPD0627    
      00722  0441 00 0 01146         LDI     CMXSI         RELOAD USER'S SENSE INDICATORS             IOPD0628    
      00723  0634 00 4 01147         SXA     TRPIR4,4      AND INSURE USER'S MACHINE CONDITIONS SAVED IOPD0629    
      00724  0074 00 4 00737         TSX     ALLSAV,4      ..                                         IOPD0630    
      00725 -0500 00 0 01144         CAL     ATLOST        PICK UP FLAGS FROM LOST TRAP               IOPD0631    
      00726 -0320 00 0 02066         ANA     =O7000000     SAVE BITS 15-17                            IOPD0632    
      00727 -0602 00 0 01160         ORS     RTNLOC        COMPLETE TRAP FLAGS IN 'RTNLOC'            IOPD0633    
      00730  0600 00 0 01144  STZ.A) STZ     ATLOST        RESET LOST TRAP CONDITION                  IOPD0634    
      00731  0020 00 0 00212         TRA     ATRAP1        AND SIMULATE TRAP ON CHANNEL 'A'           IOPD0635    
                                                                                                      IOPD0636    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPD0637    
                                                                                                      IOPD0638    
                                             ... FILXIT ... EXIT TO USER FROM FILE SYSTEM .....       IOPD0639    
                                                                                                      IOPD0640    
      00732 -0500 60 4 00002  FILXIT CAL*    2,4           PICK UP RETURN ADDRESS                     IOPD0641    
      00733  0737 00 5 00000         PAC     0,5           .. -RETURN ADDRESS TO IR5                  IOPD0642    
      00734  0522 00 4 00001         XEC     1,4           RELOAD USER'S IR4                          IOPD0643    
      00735  0564 00 0 01114         ENB     ENABLE        RE-ENABLE ALL TRAPS                        IOPD0644    
      00736  0020 00 5 00000         TRA     0,5           AND RETURN TO USER                         IOPD0645    
                                                                                                      IOPD0646    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.8 PAGE 16    
                  
                                                                                                      IOPD0648    
                                             ... ALLSAV ... SAVE BASIC MACHINE CONDITIONS ............IOPD0649    
                                                                                                      IOPD0650    
      00737  0564 00 0 02060  ALLSAV ENB     =0            INSURE NO TRAPS COME NOW.                  IOPD0651    
      00740 -0520 00 0 01023         NZT     ENBSW         HAVE WE TAKEN A PREVIOUS TRAP.             IOPD0652    
      00741  0000 00 0 00741         HTR     *             YES, STOP AND TAKE A DUMP.                 IOPD0653    
      00742  0600 00 0 01023         STZ     ENBSW         NO, INDICATE WE ARE IN TRAP TIME.          IOPD0654    
      00743  0634 00 4 00772         SXA     ALLXR4,4      SAVE NAME OF THIS CALLER                   IOPD0655    
      00744  0634 00 1 01001         SXA     TRPIR1,1      SAVE BASIC MACHINE CONDITIONS.             IOPD0656    
      00745  0634 00 2 01002         SXA     TRPIR2,2      ..                                         IOPD0657    
      00746  0634 00 3 01003         SXA     TRPIR3,3      ..                                         IOPD0658    
      00747  0774 00 3 00000         AXT     0,3           .. SAVE TAG MODE                           IOPD0659    
      00750  0774 00 1 00001         AXT     1,1           ..                                         IOPD0660    
      00751  0600 00 0 01150         STZ     TRPMTM        ..                                         IOPD0661    
      00752 -3 00000 3 00756         TXL     7TAG,3,0      .. SKIP IF IN 7-TAG (7094) MODE            IOPD0662    
      00753 -0625 00 0 01150         STL     TRPMTM        .. OTHERWISE SET 3-TAG (7090) MODE         IOPD0663    
      00754  0760 00 0 00016         LMTM                  ..                                         IOPD0664    
      00755  0634 00 3 01003         SXA     TRPIR3,3      .. RESAVE IR3                              IOPD0665    
      00756  0634 00 5 01004  7TAG   SXA     TRPIR5,5      ..                                         IOPD0666    
      00757  0634 00 6 01005         SXA     TRPIR6,6      ..                                         IOPD0667    
      00760  0634 00 7 01006         SXA     TRPIR7,7      ..                                         IOPD0668    
      00761  0604 00 0 01151         STI     TRPSI         .. SAVE SENSE INDICATORS                   IOPD0669    
      00762 -0600 00 0 01152         STQ     TRPMQ         .. MQ                                      IOPD0670    
      00763  0602 00 0 01153         SLW     TRPLAC        .. LOGICAL AC                              IOPD0671    
      00764  0771 00 0 00002         ARS     2             ..                                         IOPD0672    
      00765  0601 00 0 01154         STO     TRPSQ         .. S AND Q BITS                            IOPD0673    
      00766  0600 00 0 01155         STZ     TRPOV         .. AC OVERFLOW CONDITION                   IOPD0674    
      00767 -0140 00 0 00771         TNO     *+2           ..                                         IOPD0675    
      00770 -0625 00 0 01155         STL     TRPOV         ..                                         IOPD0676    
      00771  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPD0677    
                                                                                                      IOPD0678    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPD0679    
                                                                                                      IOPD0680    
      00772  0 00000 0 00000  ALLXR4 PZE     **,,**        X4(ALLSAV,,ALLRST)                         IOPD0681    
                                                                                                      IOPD0682    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPD0683    
                                                                                                      IOPD0684    
                                             ... ALLRST ... RESTORE BASIC MACHINE CONDITIONS .........IOPD0685    
                                                                                                      IOPD0686    
      00773  0564 00 0 02060  ALLRST ENB     =0            INSURE NO TRAPS ON TOP OF STOP.            IOPD0687    
      00774  0520 00 0 01023         ZET     ENBSW         ARE WE CALLED AT TRAP TIME.                IOPD0688    
      00775  0000 00 0 00775         HTR     *             NO, STOP AND TAKE DUMP.                    IOPD0689    
      00776 -0625 00 0 01023         STL     ENBSW         YES, INDICATE WE ARE LEAVING TRAP TIME.    IOPD0690    
      00777  0760 00 0 00016         LMTM                  INSURE 7-TAG (7094) MODE                   IOPD0691    
      01000 -0634 00 4 00772         SXD     ALLXR4,4      SAVE X4 OF CALLER FOR DEBUGGING            IOPD0692    
      01001  0774 00 1 00000  TRPIR1 AXT     **,1          ..                                         IOPD0693    
      01002  0774 00 2 00000  TRPIR2 AXT     **,2          ..                                         IOPD0694    
      01003  0774 00 3 00000  TRPIR3 AXT     **,3          ..                                         IOPD0695    
      01004  0774 00 5 00000  TRPIR5 AXT     **,5          ..                                         IOPD0696    
      01005  0774 00 6 00000  TRPIR6 AXT     **,6          ..                                         IOPD0697    
      01006  0774 00 7 00000  TRPIR7 AXT     **,7          ..                                         IOPD0698    
      01007  0520 00 0 01150         ZET     TRPMTM        .. RESTORE TAG MODE                        IOPD0699    
      01010 -0760 00 0 00016         EMTM                  ..                                         IOPD0700    
      01011  0560 00 0 01154         LDQ     TRPSQ         .. RESTORE S AND Q BITS                    IOPD0701    
      01012  0500 00 0 01012         CLA     *             .. AND INSURE OVERFLOW LIGHT IS ON         IOPD0702    
      01013  0763 00 0 00001         LLS     1             ..                                         IOPD0703    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.8 PAGE 17    
                  
      01014  0767 00 0 00044         ALS     36            ..                                         IOPD0704    
      01015 -0501 00 0 01153         ORA     TRPLAC        .. RESTORE LOGICAL AC                      IOPD0705    
      01016  0560 00 0 01152         LDQ     TRPMQ         .. RESTORE MQ                              IOPD0706    
      01017  0441 00 0 01151         LDI     TRPSI         .. RESTORE SI                              IOPD0707    
      01020 -0520 00 0 01155         NZT     TRPOV         .. RESTORE CORRECT OVERFLOW STATUS         IOPD0708    
      01021  0140 00 0 01022         TOV     *+1           ..                                         IOPD0709    
      01022  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPD0710    
                                                                                                      IOPD0711    
      01023  0 00000 0 00000  ENBSW  PZE     **            SWITCH ON DURING ENABLE TIME.              IOPD0712    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.8 PAGE 18    
                  
                                             ... SAVCHA/RSTCHA/CHKCHA ... SAVE RESTORE AND CHECK 'A'  IOPD0714    
                                                                                                      IOPD0715    
      01024  0564 00 0 02060  SAVCHA ENB     =0            SAVE STATUS OF CHANNEL 'A'                 IOPD0716    
      01025  0520 00 0 01144         ZET     ATLOST        HAVE WE LOST A TRAP ALREADY                IOPD0717    
      01026  0020 00 0 01042         TRA     SVCHA2        YES, SKIP                                  IOPD0718    
      01027 -0500 00 0 01035         CAL     TSTRAP        NO, SET UP TO CHECK FOR TRAP ON CHANNEL 'A'IOPD0719    
      01030                          WHEN    B,T,,SEA,,,,, SAVE CHANNEL 'A' TRAP INSTRUCTION          IOPD0720    
      01030  0441 00 0 00013         LDI     ADCTRP        ..                                         IOPD0721    
      01031  0602 00 0 00013         SLW     ADCTRP        .. AND SUBSTITUTE NEW TRAP INSTRUCTION     IOPD0722    
      01032                          WHEN    B,T,,SEB,,,,, ..                                         IOPD0723    
      01032  0564 00 0 01167         ENB     ENBIFA        ENABLE IF ENABLE CONTAINS CHANNEL 'A' BITS IOPD0724    
      01033  0060 00 0 01033         TCOA    *             AND WAIT                                   IOPD0725    
      01034  0020 00 0 01040         TRA     SVCHA1        GO RESTORE TRAP INSTRUCTION IF NO TRAP     IOPD0726    
                                                                                                      IOPD0727    
      01035                          WHEN    B,F,TSTRAP,TTR,*+1,,,,                                   IOPD0728    
      01035  0021 00 0 01036  TSTRAP TTR     *+1,,                                                    IOPD0728.003
      01036                          WHEN    B,T,TSTRAP,TIB,*+1,,,,                                   IOPD0729    
                                                                                                      IOPD0730    
      01036 -0500 00 0 00012         CAL     ATRLOC        PICK UP FLAGS FROM TRAP ON CHANNEL 'A'     IOPD0731    
      01037                          WHEN    B,T,,SEB,,,,, ..                                         IOPD0732    
      01037  0602 00 0 01144         SLW     ATLOST        SET FLAGS FOR LOST TRAP                    IOPD0733    
      01040  0564 00 0 02060  SVCHA1 ENB     =0            DISABLE ALL TRAPS                          IOPD0734    
      01041                          WHEN    B,T,,SEA,,,,, RESTORE PREVIOUS TRAP INSTRUCTION          IOPD0735    
      01041  0604 00 0 00013         STI     ADCTRP        ..                                         IOPD0736    
      01042                          WHEN    B,T,,SEB,,,,, ..                                         IOPD0737    
                                                                                                      IOPD0738    
      01042  0640 00 0 01165  SVCHA2 SCHA    SVCHAN        SAVE CHANNEL 'A' REGISTERS                 IOPD0739    
      01043  0600 00 0 01166         STZ     SVIOCK        AND I/O CHECK CONDITION                    IOPD0740    
      01044  0760 00 0 00005         IOT                   ..                                         IOPD0741    
      01045 -0625 00 0 01166         STL     SVIOCK        ..                                         IOPD0742    
      01046  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPD0743    
                                                                                                      IOPD0744    
      01047  0634 00 4 01074  RSTCHA SXA     RSTCX4,4      RESTORE CHANNEL STATUS                     IOPD0745    
      01050  0060 00 0 01050         TCOA    *             WAIT UNTIL CHANNEL IS FREE                 IOPD0746    
      01051 -0500 00 0 01165         CAL     SVCHAN        PICK UP PREVIOUS CHANNEL STATUS            IOPD0747    
      01052 -0737 00 4 00000         PDC     0,4           -LOCATION COUNTER TO IR4                   IOPD0748    
      01053 -0320 00 0 02072         ANA     =O700000377777  RESTORE CHANNEL 'A' REGISTERS            IOPD0749    
      01054  0560 00 4 77777         LDQ     -1,4          ..                                         IOPD0750    
      01055  0602 00 4 77777         SLW     -1,4          ..                                         IOPD0751    
      01056  0540 00 4 77777         RCHA    -1,4          ..                                         IOPD0752    
      01057 -0600 00 4 77777         STQ     -1,4          ..                                         IOPD0753    
      01060 -0520 00 0 01166         NZT     SVIOCK        RESTORE PREVIOUS CONDITIONS OF I/O CHECK   IOPD0754    
      01061  0760 00 0 00005         IOT                   ..                                         IOPD0755    
      01062  0761 00 0 00000         NOP                   .. FOR SAFETY ONLY (IOT SHOULD BE ON)      IOPD0756    
      01063 -0500 00 0 01071         CAL     FORGET        SET UP TO LOOSE ANY TRAP ON CHANNEL 'A'    IOPD0757    
      01064                          WHEN    B,T,,SEA,,,,, SAVE CHANNEL 'A' TRAP INSTRUCTION          IOPD0758    
      01064  0441 00 0 00013         LDI     ADCTRP        ..                                         IOPD0759    
      01065  0602 00 0 00013         SLW     ADCTRP        .. SUBSTITUTE NEW TRAP INSTRUCTION         IOPD0760    
      01066                          WHEN    B,T,,SEB,,,,, ..                                         IOPD0761    
      01066  0564 00 0 01167         ENB     ENBIFA        ENABLE IF ENABLE CONTAINS CHAN. 'A' BITS   IOPD0762    
      01067  0060 00 0 01067         TCOA    *             AND WAIT                                   IOPD0763    
      01070  0020 00 0 01072         TRA     RSCHA1        GO RESTORE TRAP INSTRUCTION IF NO TRAP     IOPD0764    
                                                                                                      IOPD0765    
      01071                          WHEN    B,F,FORGET,TTR,*+1,,,,                                   IOPD0766    
      01071  0021 00 0 01072  FORGET TTR     *+1,,                                                    IOPD0766.003
      01072                          WHEN    B,T,FORGET,TIB,*+1,,,,                                   IOPD0767    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.8 PAGE 19    
                  
                                                                                                      IOPD0768    
      01072                          WHEN    B,T,,SEB,,,,,                                            IOPD0769    
                                                                                                      IOPD0770    
      01072  0564 00 0 02060  RSCHA1 ENB     =0            DISABLE ALL TRAPS                          IOPD0771    
      01073                          WHEN    B,T,,SEA,,,,, RESTORE PREVIOUS TRAP INSTRUCTION          IOPD0772    
      01073  0604 00 0 00013         STI     ADCTRP        ..                                         IOPD0773    
      01074                          WHEN    B,T,,SEB,,,,, ..                                         IOPD0774    
      01074  0774 00 4 00000  RSTCX4 AXT     **,4          RESTORE IR4                                IOPD0775    
      01075  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPD0776    
                                                                                                      IOPD0777    
      01076  0564 00 0 02060  CHKCHA ENB     =0            SIMULATE LOST TRAP ON CHANNEL 'A'          IOPD0778    
      01077 -0520 00 0 01144         NZT     ATLOST        DID WE LOOSE A TRAP ON CHANNEL 'A'         IOPD0779    
      01100  0020 00 4 00001         TRA     1,4           NO, RETURN                                 IOPD0780    
      01101  0634 00 4 01112         SXA     CKXIR4,4      YES, SIMULATE TRAP SEQUENCE                IOPD0781    
      01102  0074 00 4 00737         TSX     ALLSAV,4      SAVE REGISTERS, SET 7-TAG MODE             IOPD0782    
      01103  0074 00 4 00012         TSX     $TRAPA,4      GIVE TRAP TO TAPE STRATEGY MODULE          IOPD0783    
      01104  3 00000 0 01144         PTH     ATLOST        ..                                         IOPD0784    
      01105  0020 00 0 01110         TRA     *+3           TRAP ACCEPTED, DON'T SAVE FLAGS            IOPD0785    
      01106 -0500 00 0 01144         CAL     ATLOST        RECORD THIS TRAP FOR FUTURE REFERENCE      IOPD0786    
      01107 -0602 00 0 01170         ORS     TPFLAG+1      ..                                         IOPD0787    
      01110  0600 00 0 01144         STZ     ATLOST        RESET LOST TRAP CONDITION                  IOPD0788    
      01111  0074 00 4 00773         TSX     ALLRST,4      RESTORE REGISTERS, TAG MODE                IOPD0789    
      01112  0774 00 4 00000  CKXIR4 AXT     **,4          AND RETURN                                 IOPD0790    
      01113  0020 00 4 00001         TRA     1,4           ..                                         IOPD0791    
                                                                                                      IOPD0792    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPD0793    
                                                                                                      IOPD0794    
      01114 +000000400000     ENABLE OCT     400000        COMMON ENABLE WORD                         IOPD0795    
                                                                                                      IOPD0796    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPD0797    
                                                                                                      IOPD0798    
                                             ... ADDTIM ... COMPUTE TIME TO NEAREST 60TH OF A SECOND  IOPD0799    
                                                                                                      IOPD0800    
      01115  0564 00 0 02060  ADDTIM ENB     =0            INSURE ALL TRAPS DISABLED (USED BY CLKINT) IOPD0801    
      01116                          WHEN    B,T,,SEA,,,,,                                            IOPD0802    
      01116 -0500 00 0 00005         CAL     CLOCK         COMPUTE TOTAL TIME SYSTEM HAS RUN          IOPD0803    
      01117                          WHEN    B,T,,SEB,,,,, ..                                         IOPD0804    
      01117  0361 00 0 01172         ACL     CLKTIM        .. CLOCK TRAP INTERVAL                     IOPD0805    
      01120 -0320 00 0 02063         ANA     =O777777      ..                                         IOPD0806    
      01121  0361 00 0 01141         ACL     TOTTIM        ..                                         IOPD0807    
      01122  0402 00 0 01142         SUB     SAVTOT        SUBTRACT TIME OF LAST CALL TO 'ADDTIM'     IOPD0808    
      01123  0100 00 4 00001         TZE     1,4           IGNORE IF NO TIME HAS ELAPSED SINCE        IOPD0809    
      01124  0602 00 0 01143         SLW     DELTA         OTHERWISE, SAVE TIME INCREMENT             IOPD0810    
      01125  0400 00 0 01142         ADD     SAVTOT        SAVE CURRENT TIME                          IOPD0811    
      01126  0602 00 0 01142         SLW     SAVTOT        .. FOR NEXT CALL TO 'ADDTIM'               IOPD0812    
      01127 -0500 00 0 01137         CAL     TIMNOW        UPDATE TIME OF DAY                         IOPD0813    
      01130  0400 00 0 01143         ADD     DELTA         ..                                         IOPD0814    
      01131  0602 00 0 01137         SLW     TIMNOW        ..                                         IOPD0815    
      01132 -0500 00 0 01140         CAL     ELAPSE        UPDATE ELAPSE TIME SINCE LAST CALL         IOPD0816    
      01133  0400 00 0 01143         ADD     DELTA         .. TO 'GETELT'                             IOPD0817    
      01134  0602 00 0 01140         SLW     ELAPSE        ..                                         IOPD0818    
      01135  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPD0819    
                                                                                                      IOPD0820    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.8 PAGE 20    
                  
                                                                                                      IOPD0822    
                                             ..... CONSTANT AND VARIABLE STORAGE FOR 'IOPAC' ........ IOPD0823    
                                                                                                      IOPD0824    
                                                                                                      IOPD0826    
      01136  0 00000 0 00000  DATEYR PZE     0             TODAY'S DATE  BCI 1,MMDDYY                 IOPD0827    
      01137  0 00000 0 00000  TIMNOW PZE     0             TIME OF DAY IN 60THS OF A SECOND           IOPD0828    
      01140  0 00000 0 00000  ELAPSE PZE     0             TIME SINCE LAST CALL TO 'GETELT'           IOPD0829    
      01141  0 00000 0 00000  TOTTIM PZE     0             TOTAL TIME SYSTEM HAS RUN                  IOPD0830    
      01142  0 00000 0 00000  SAVTOT PZE     0             TOTTIM AT TIME OF LAST CALL TO 'ADDTIM'    IOPD0831    
      01143  0 00000 0 00000  DELTA  PZE     0             TEMP FOR 'ADDTIM'                          IOPD0832    
      01144  0 00000 0 00000  ATLOST PZE     0             LOST TRAP ON CHANNEL 'A' SAVED HERE        IOPD0833    
      01145  0 00000 0 00000  CMXRTN PZE     0             TEMP FOR RETURN FROM 'CMEXIT'              IOPD0834    
      01146  0 00000 0 00000  CMXSI  PZE     0             SENSE INDICATORS SAVED BY 'CMEXIT'         IOPD0835    
                                                                                                      IOPD0836    
      01147  0 00000 0 00000  TRPIR4 PZE     0             MACHINE CONDITIONS SAVED ON TRAP           IOPD0837    
      01150  0 00000 0 00000  TRPMTM PZE     **            ..                                         IOPD0838    
      01151  0 00000 0 00000  TRPSI  PZE     0             ..                                         IOPD0839    
      01152  0 00000 0 00000  TRPMQ  PZE     0             ..                                         IOPD0840    
      01153  0 00000 0 00000  TRPLAC PZE     0             ..                                         IOPD0841    
      01154  0 00000 0 00000  TRPSQ  PZE     0             ..                                         IOPD0842    
      01155  0 00000 0 00000  TRPOV  PZE     0             ..                                         IOPD0843    
                                                                                                      IOPD0844    
      01156  0 00000 0 00000  PRCOL  PZE     0             TEMPS FOR WPRPU                            IOPD0845    
      01157  0 00000 0 00000  AUTHOR PZE     0             TEMP FOR 'SETIO'                           IOPD0846    
      01160  0 00000 0 00000  RTNLOC PZE     0             TRAP FLAGS SAVED HERE ON ALL TRAPS         IOPD0847    
      01161  0 00000 0 00000  CLKEYS PZE     0             CONSOLE KEYS, SAVED BY 'CLKINT'            IOPD0848    
      01162  0 00000 0 00000  KEYSW  PZE     0             SWITCH USED BY 'CLKINT'                    IOPD0849    
      01163  0 00000 0 00000  FERTN  PZE     **            RETURN LOCATION SET BY 'FERRTN'            IOPD0850    
      01164  0 00000 0 00000  UILOCK PZE     **            RETURN LOCATION SET BY 'TILOCK'            IOPD0851    
      01165  0 00000 0 00000  SVCHAN PZE     0             TEMP USED BY SAVCHA/RSTCHA                 IOPD0852    
      01166  0 00000 0 00000  SVIOCK PZE     0             TEMP USED BY SAVCHA/RSTCHA                 IOPD0853    
      01167  0 00000 0 00000  ENBIFA PZE     -             ENABLE BITS IF CHANNEL A ENABLED           IOPD0854    
                                                                                                      IOPD0855    
                       01167  TPFLAG SYN     *-1           CHANNEL FLAGS SAVED HERE                   IOPD0856    
      01170  0 00000 0 00000         PZE     0             .. FOR CHANNEL 'A'                         IOPD0857    
      01171  0 00000 0 00000         PZE     0             .. AND CHANNEL 'B'                         IOPD0858    
                                                                                                      IOPD0859    
      01172 +000000000074     CLKTIM DEC     60            CLOCK TRAP INTERVAL                        IOPD0860    
                                                                                                      IOPD0861    
      01173  0 00000 0 00001  HOME   PZE     B+1           FLAG FOR 'HOME' MEMORY                     IOPD0862    
                                                                                                      IOPD0863    
      01174  604546602551     NOERTN BCI     5, NO ERROR RETURN SPECIFIED.                            IOPD0864    
      01201  545454545454     PP21UP BCI     6,****** PLEASE PUT KEY 21 UP. ******                    IOPD0865    
      01207  545454545454     KEYSNG BCI     8,****** ILLEGAL KEY SETTING, TRY AGAIN. ******          IOPD0866    
      01217  604225706260     KREAD  BCI     4, KEYS READ. ************                               IOPD0867    
      01223  602567316360     EXITMS BCI     2, EXIT CALLED                                           IOPD0868    
                                                                                                      IOPD0869    
      01307                   SAVFMS BES     HITRAP+1      FMS LOWER CORE SAVED HERE                  IOPD0870    
                                                                                                      IOPD0871    
      01307 -0 00003 0 00000  LDFIOP IOCP    0,,3          LOAD FIOP INTO MEMORY 'A'                  IOPD0872    
      01310  1 00000 0 00000         TCH     0             ..                                         IOPD0873    
                                                                                                      IOPD0874    
                       01310  TCOAB  SYN     *-1           CHANNEL WAIT INSTRUCTIONS                  IOPD0875    
      01311  0060 00 0 00000         TCOA    **            .. FOR CHANNEL 'A'                         IOPD0876    
      01312  0061 00 0 00000         TCOB    **            .. AND CHANNEL 'B'                         IOPD0877    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.8 PAGE 21    
                  
                                                                                                      IOPD0879    
                                             ... RCLOCK ... READ CHRONOLOG, SET TIMNOW AND DATEYR ... IOPD0880    
                                                                                                      IOPD0881    
      01313  0634 00 4 01400  RDCLOC SXA     RCLKX4,4      SAVE XRS                                   IOPD0882    
      01314  0634 00 2 01377         SXA     RCLKX2,2      ..                                         IOPD0883    
      01315  0634 00 1 01376         SXA     RCLKX1,1      ..                                         IOPD0884    
                                                                                                      IOPD0885    
      01316  0774 00 1 00002         AXT     2,1           TRY TWICE IN CASE OF BAD DATE              IOPD0886    
      01317  0600 00 0 01500  RCLOC1 STZ     MMDDHH        RESET                                      IOPD0887    
      01320  0600 00 0 01501         STZ     MMSS66        ..                                         IOPD0888    
      01321  0762 00 0 01207         RTDZ                  SELECT CHRONOLOG AS TAPE 'A7'              IOPD0889    
      01322  0540 00 0 01435         RCHZ    RCLOCK        START UP CHANNEL TO READ CLOCK             IOPD0890    
      01323  0774 00 2 00002         AXT     2,2           COUNT TRIES                                IOPD0891    
      01324  0774 00 4 10624  RCLOC2 AXT     DELAY,4       9 MS DELAY WITH TIX *                      IOPD0892    
      01325  2 00001 4 01325         TIX     *,4,1         ..                                         IOPD0893    
      01326  0520 00 0 01500         ZET     MMDDHH        HAS FIRST WORD BEEN READ                   IOPD0894    
      01327  0020 00 0 01333         TRA     RCLOC3        YES, SKIP TO WAIT ON CHANNEL               IOPD0895    
      01330  2 00001 2 01324         TIX     RCLOC2,2,1    NO, COUNT TRIES                            IOPD0896    
      01331  0760 00 0 01352         RDCZ                  AFTER 18 MS GIVE UP, RESET CHANNEL         IOPD0897    
      01332  0020 00 0 01403         TRA     BADCLK        SKIP TO INFORM OPERATOR                    IOPD0898    
      01333  0060 00 0 01333  RCLOC3 TCOZ    *             WAIT UNTIL BOTH WORDS ARE READ             IOPD0899    
      01334  0022 00 0 01335         TRCZ    *+1           INSURE RTT TRIGGER RESET                   IOPD0900    
                                                                                                      IOPD0901    
      01335  0774 00 2 00002  RCLOC4 AXT     2,2           INSURE ALL CHARACTERS READ ARE LEGAL       IOPD0902    
      01336  0560 00 2 01502  RCLK4A LDQ     MMDDHH+2,2    PICK UP WORD READ                          IOPD0903    
      01337  0774 00 4 00006         AXT     6,4           6 DIGITS PER WORD                          IOPD0904    
      01340 -0754 00 0 00000  RCLOC5 ZAC                   ..                                         IOPD0905    
      01341 -0763 00 0 00006         LGL     6             SHIFT CHAR                                 IOPD0906    
      01342  0734 00 7 00000         PAX     ,7            TO X7                                      IOPD0907    
      01343  3 00011 7 01402         TXH     RCLOC8,7,9    ERROR IF .G. 9                             IOPD0908    
      01344  2 00001 4 01340         TIX     RCLOC5,4,1    DO FOR ALL CHARS                           IOPD0909    
      01345  2 00001 2 01336         TIX     RCLK4A,2,1    .. OF EACH WORD                            IOPD0910    
                                                                                                      IOPD0911    
      01346  0560 00 0 01500         LDQ     MMDDHH        PICK UP HOUR                               IOPD0912    
      01347 -0773 00 0 00030         RQL     24            ..                                         IOPD0913    
      01350  0074 00 7 01423         TSX     DTB,7         CONVERT TO BINARY                          IOPD0914    
      01351  0734 00 7 00000         PAX     ,7            ..                                         IOPD0915    
      01352  3 00027 7 01402         TXH     RCLOC8,7,23   INSURE LEGAL VALUE                         IOPD0916    
      01353  0560 00 0 01501         LDQ     MMSS66        NOW GET REST OF TIME                       IOPD0917    
      01354  0774 00 4 00003         AXT     3,4           MINUTES, SECONDS, 60THS                    IOPD0918    
      01355  0767 00 0 00002  RCLOC6 ALS     2             MULTIPLY PREVIOUS VALUE BY 60              IOPD0919    
      01356  0602 00 0 01440         SLW     TMP           .. N * 4                                   IOPD0920    
      01357  0774 00 7 00003         AXT     3,7           ..                                         IOPD0921    
      01360  0767 00 0 00001         ALS     1             .. 8, 16, 32                               IOPD0922    
      01361  0400 00 0 01440         ADD     TMP           ..                                         IOPD0923    
      01362  2 00001 7 01360         TIX     *-2,7,1       ..                                         IOPD0924    
      01363  0602 00 0 01437         SLW     60THS         .. = 60                                    IOPD0925    
      01364  0074 00 7 01423         TSX     DTB,7         NOW CONVERT NEXT FIELD FROM MQ             IOPD0926    
      01365  0734 00 7 00000         PAX     ,7            ..                                         IOPD0927    
      01366  3 00073 7 01402         TXH     RCLOC8,7,59   MUST BE LESS THAN 60                       IOPD0928    
      01367  0400 00 0 01437         ADD     60THS         ADD PREVIOUS RESULT                        IOPD0929    
      01370  2 00001 4 01355         TIX     RCLOC6,4,1    GO BACK TO MULTIPLY AGAIN                  IOPD0930    
      01371  0602 00 0 01137         SLW     TIMNOW        ..                                         IOPD0931    
      01372 -0500 00 0 01500         CAL     MMDDHH        ..                                         IOPD0932    
      01373 -0320 00 0 02073         ANA     =O777777770000 MASK OUT HOUR                             IOPD0933    
      01374 -0501 00 0 01436         ORA     YEAR          ADD IN YEAR TO FORM                        IOPD0934    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.8 PAGE 22    
                  
      01375  0602 00 0 01136         SLW     DATEYR        .. MMDDYY                                  IOPD0935    
      01376  0774 00 1 00000  RCLKX1 AXT     -,1           RESTORE XRS                                IOPD0936    
      01377  0774 00 2 00000  RCLKX2 AXT     -,2           ..                                         IOPD0937    
      01400  0774 00 4 00000  RCLKX4 AXT     -,4           ..                                         IOPD0938    
      01401  0020 00 4 00001         TRA     1,4           RETURN                                     IOPD0939    
                                                                                                      IOPD0940    
      01402  2 00001 1 01317  RCLOC8 TIX     RCLOC1,1,1    HERE FOR BAD DATE FROM CHRONOLOG, RETRY    IOPD0941    
                                                                                                      IOPD0942    
      01403  0560 00 0 01137  BADCLK LDQ     TIMNOW        HERE IF CHRONOLOG WILL NOT READ PROPERLY   IOPD0943    
      01404  0074 00 4 00001         TSX     CTIME,4       CONVERT TIME FOR PRINTING                  IOPD0944    
      01405  0602 00 0 01503         SLW     MMSS66+2      ..                                         IOPD0945    
      01406  0074 00 4 00375         TSX     EPRINT,4      TELL OPERATOR ABOUT IT                     IOPD0946    
      01407  0 00014 0 01470         PZE     CLKBAD,,12    .. THOUGH IT PROBABLY IS A WASTED EFFORT   IOPD0947    
      01410  0074 00 4 00375         TSX     EPRINT,4      YES, MUST HAVE A DATE AND TIME             IOPD0948    
      01411  0 00014 0 01441         PZE     SETMDH,,12    PRETEND OPERATOR IS CHRONOLOG              IOPD0949    
      01412  0000 00 0 01413         HTR     *+1           WAIT FOR OPERATOR                          IOPD0950    
      01413  0760 00 0 00004         ENK                   GET KEYS (MMDDHH)                          IOPD0951    
      01414 -0600 00 0 01500         STQ     MMDDHH        PRETEND THE CHRONOLOG DID IT               IOPD0952    
      01415  0074 00 4 00375         TSX     EPRINT,4      NOW ASK FOR THE REST OF IT                 IOPD0953    
      01416  0 00013 0 01455         PZE     SETMS6,,11    ..                                         IOPD0954    
      01417  0000 00 0 01420         HTR     *+1           .. WAIT AGAIN                              IOPD0955    
      01420  0760 00 0 00004         ENK                   MMSS66                                     IOPD0956    
      01421 -0600 00 0 01501         STQ     MMSS66        ..                                         IOPD0957    
      01422  0020 00 0 01335         TRA     RCLOC4        PROCESS NORMALLY                           IOPD0958    
                                                                                                      IOPD0959    
      01423 -0754 00 0 00000  DTB    ZAC                   ROUTINE TO CONVERT TWO BCD DIGITS TO BINARYIOPD0960    
      01424 -0763 00 0 00006         LGL     6             ..                                         IOPD0961    
      01425  0601 00 0 01440         STO     TMP           ..                                         IOPD0962    
      01426 -0754 00 0 00000         ZAC                   ..                                         IOPD0963    
      01427 -0763 00 0 00003         LGL     3             ..                                         IOPD0964    
      01430  0400 00 0 01440         ADD     TMP           ..                                         IOPD0965    
      01431 -0763 00 0 00002         LGL     2             ..                                         IOPD0966    
      01432  0400 00 0 01440         ADD     TMP           ..                                         IOPD0967    
      01433 -0763 00 0 00001         LGL     1             ..                                         IOPD0968    
      01434  0020 00 7 00001         TRA     1,7           ..                                         IOPD0969    
                                                                                                      IOPD0970    
                                                                                                      IOPD0971    
      01435  3 00002 0 01500  RCLOCK IORT    MMDDHH,B,2    CHANNEL COMMAND TO READ CHRONOLOG CLOCK    IOPD0972    
      01436  000000000701     YEAR   BCI     1,000071      MUST BE CHANGED EVERY YEAR **************  IOPD0973    
      01437  0 00000 0 00000  60THS  PZE                                                              IOPD0974    
      01440  0 00000 0 00000  TMP    PZE                                                              IOPD0975    
                                                                                                      IOPD0976    
      01441  464725512163     SETMDH BCI     9,OPERATOR ENTER BCD MONTH, DAY, HOUR IN KEYS, FORMAT MM IOPD0977    
      01452  242430303360            BCI     3,DDHH. PRESS START.                                     IOPD0978    
      01455  254563255160     SETMS6 BCI     9,ENTER BCD MINUTE, SECOND, 60TH IN KEYS, FORMAT MMSS66. IOPD0979    
      01466  604751256262            BCI     2, PRESS START.                                          IOPD0980    
      01470  233051464546     CLKBAD BCI     /CHRONOLOG CLOCK MALFUNCTIONING. CLOCK READ '/           IOPD0981    
      01500  444424243030     MMDDHH BCI     1,MMDDHH                                                 IOPD0982    
      01501  444462620606     MMSS66 BCI     1,MMSS66                                                 IOPD0983    
      01502  146021636057            BCI     /' AT /                                                  IOPD0984    
      01503  303044443344            BCI     1,HHMM.M                                                 IOPD0985    
                                                                                                      IOPD0986    
                       01313         ORG     RDCLOC        CLOCK READ ROUTINE IS OVERLAPPED           IOPD0987    
                                                                                                      IOPD0988    
      01313                   STATBL BSS     STBL          STORAGE FOR ACTIVE FILE STATUS TABLE       IOPD0989    
      01674                   QUEUE1 BSS     1QL           STORAGE FOR DRUM STRATEGY MODULE           IOPD0990    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.8 PAGE 23    
                  
      02027                   QUEUE2 BSS     2QL           STORAGE FOR DISK STRATEGY MODULE           IOPD0991    
      02027                   QUEUE3 BSS     3QL           STORAGE FOR TAPE STRATEGY MODULE           IOPD0992    
                                                                                                      IOPD0993    
                                     END                                                              IOPD0995    
                  
        LITERALS  
      02060  000000000000     
      02061  000000000001     
      02062  000000007777     
      02063  000000777777     
      02064  000001000001     
      02065  000003000003     
      02066  000007000000     
      02067  007010777777     
      02070  077777000000     
      02071  400000000000     
      02072  700000377777     
      02073  777777770000     
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.8 PAGE 1     
                        POST PROCESSOR ASSEMBLY DATA  
                  
       2074 IS THE FIRST LOCATION NOT USED BY THIS PROGRAM  
                  
0REFERENCES TO DEFINED SYMBOLS      
          0      B    17,  531,  533, 1173, 1435
       1207      Z    17, 1321, 1322, 1331, 1333, 1334
          4     P0   636,  666,  667,  670,  671,  672,  673,  674
         10     P1   636,  646,  656,  666
         20     P2   636,  637,  647,  657,  667
         40     P3   636,  637,  643,  647,  653,  654,  657,  663,  667,  673
        100     P4   636,  640,  644,  650,  654,  660,  664,  670,  674
        200     P5   636,  640,  650,  660,  670
        400     P6   636,  641,  651,  661,  671
       1000     P7   636,  641,  651,  661,  671
       2000     P8   636,  642,  643,  644,  652,  653,  654,  662,  663,  664,  672,  673,  674
       4000     P9   636,  642,  652,  662,  672
        133    1QL    17,   71, 1674
          0    2QL    17,   72, 2027
         31    3QL    17,   73, 2027
       1423    DTB  1350, 1364
        626    NOP      
          2    P11   636,  656,  657,  660,  661,  662,  663,  664
          1    P12   636,  646,  647,  650,  651,  652,  653,  654
        467    SKP   643,  644,  645,  653,  655,  663,  664,  665,  673,  674,  675
       1440    TMP  1356, 1361, 1425, 1430, 1432
        756   7TAG   752
          0   BTOC   145,  147
        541   CARD   501,  535,  536,  541
        472   DONE   430,  461
        326   EXIT     0,  304
       1173   HOME   106,  107,  110
        532   IOCD   507
        625   MQ.T   436,  467
        522   PEND   477,  504,  515
        511   PNOW   502
        623   PRSW   360,  363,  376,  411,  473
        523   PRX1   377
        524   PRX2   400
        525   PRX4   401,  403
        512   SPRA   416,  517
        506   SPRX   417
        361   STBL    17,   70, 1313
       1436   YEAR  1374
       1437  60THS  1363, 1367
        355  A1BAD   350,  351
        204  ATRAP    53
        217  BTRAP    54
        573  CBUF1   531,  540,  542
        543  CBUF2   421,  533,  537,  541
        636  CHRTB   441,  636
          5  CLOCK    17,  112,  125,  175, 1116
       1146  CMXSI   677,  710,  713,  722
          1  CTIME  1404
      10624  DELAY    17, 1324
       1143  DELTA  1124, 1130, 1133
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.8 PAGE 2     
                        POST PROCESSOR ASSEMBLY DATA  
                  
       1023  ENBSW    20,  740,  742,  774,  776
        344  EXIT1   355,  356
       1163  FERTN   275,  277,  300
         36  FIRST    30,   40
       1162  KEYSW   142,  144,  171
       1217  KREAD   146,  150,  152
        531  PRCM1   530,  535
        533  PRCM2   527
       1156  PRCOL   424,  451,  466
        531  PRCOM   513,  531
        357  PRINT     0,  302,  330
        531  PUCOM   476,  535
        362  PUNCH     0,  361
         10  SETAB   105
         17  SETIO     0
        115  SETX1    22
        116  SETX2    23
        117  SETX4    24
        631  SPRA9   516
       1310  TCOAB   261,  262, 1311
         12  TRAPA   212, 1103
         13  TRAPB   225
       1152  TRPMQ   762, 1016
       1155  TRPOV   766,  770, 1020
       1151  TRPSI   761, 1017
       1154  TRPSQ   765, 1011
          5  USTAT    67
        377  WPRPU   367
        357  WRFLX     0,  357
         13 ADCTRP    17,   56, 1030, 1031, 1041, 1064, 1065, 1073
       1115 ADDTIM   172,  240,  247
        773 ALLRST     0,  200,  233, 1111
        737 ALLSAV     0,  132,  207,  222,  724, 1102
        772 ALLXR4   743, 1000
       1144 ATLOST   704,  725,  730, 1025, 1037, 1077, 1104, 1106, 1110
        212 ATRAP1   731
         12 ATRLOC    17,  210, 1036
       1157 AUTHOR    26,  101
       1403 BADCLK  1332
        160 BADKEY   156
         15 BDCTRP    17,   57
         14 BTRLOC    17,  223
       1076 CHKCHA   371
          4 CHNGUS    65
       1112 CKXIR4  1101
       1470 CLKBAD  1407
       1161 CLKEYS   136,  137,  153,  163,  167
        127 CLKINT    52
          6 CLKLOC    17,  133
       1172 CLKTIM   122,  174, 1117
          7 CLKTRP    17,   55
        676 CMEXIT     0,  201,  234
        713 CMRTNB   707
       1145 CMXRTN   702,  712,  717
       1136 DATEYR    62,  243, 1375
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.8 PAGE 3     
                        POST PROCESSOR ASSEMBLY DATA  
                  
        624 DONESW   431,  472,  514
       1140 ELAPSE   251,  252, 1132, 1134
       1114 ENABLE     0,   32,   33,   64,  120,  244,  253,  260,  323,  372,  711,  714,  735
       1167 ENBIFA    35, 1032, 1066
        375 EPRINT     0,  151,  160,  164, 1406, 1410, 1415
       1223 EXITMS   331
        274 FERRTN     0
        320 FILOCK   316
        732 FILXIT     0
       1071 FORGET  1063
        246 GETELT     0
        237 GETIME     0
         61 HITRAP    17,   43,   44,   47,   50,  337,  341, 1225
        325 IGNINT   315,  317,  321
        233 IGNTRP   214,  227
        277 IOERTN    61
         14 IOFINI   326
          3 IOINIT    60
       1207 KEYSNG   161
        163 KEYSOK   157
        171 KEYSUP   141
       1307 LDFIOP   346
       1500 MMDDHH  1317, 1326, 1336, 1346, 1372, 1414, 1435
       1501 MMSS66  1320, 1353, 1405, 1421
       1174 NOERTN   303
        537 ORINBT   454,  537
       1201 PP21UP   165
          2 PRNTER   301
        500 PRNT.1   474
        420 PRPU.1   412
        432 PRPU.2   410,  471
        434 PRPU.3   470
        466 PRPU.4   462,  521
        473 PRPU.5   465
        373 PRPUX4   364
        514 PRT2.2   510
       1674 QUEUE1    71
       2027 QUEUE2    72
       2027 QUEUE3    73
       1336 RCLK4A  1345
       1376 RCLKX1  1315
       1377 RCLKX2  1314
       1400 RCLKX4  1313
       1317 RCLOC1  1402
       1324 RCLOC2  1330
       1333 RCLOC3  1327
       1335 RCLOC4  1422
       1340 RCLOC5  1344
       1355 RCLOC6  1370
       1402 RCLOC8  1343, 1352, 1366
       1435 RCLOCK  1322
       1313 RDCLOC    37, 1313
        231 RECTRP   216
       1072 RSCHA1  1070
       1047 RSTCHA   522
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1926.8 PAGE 4     
                        POST PROCESSOR ASSEMBLY DATA  
                  
       1074 RSTCX4  1047
       1160 RTNLOC   134,  203,  211,  213,  224,  226,  231,  236,  721,  727
       1024 SAVCHA   402
       1307 SAVFMS    45,  340
       1142 SAVTOT  1122, 1125, 1126
       1441 SETMDH  1411
       1455 SETMS6  1416
          6 SETRAP    74
          7 SETUSR    76
        720 SIMTRP   705
        172 SKPKEY   143,  162,  170
        626 SPRTBL   415,  626
        322 SSTIR4   312
        310 SSTRAP    75
       1313 STATBL    70
        122 STCLOC   114,  177
        730 STZ.A)     0
       1040 SVCHA1  1034
       1042 SVCHA2  1026
       1165 SVCHAN  1042, 1051
       1166 SVIOCK  1043, 1045, 1060
         11 TAPKEY   166
        305 TILOCK     0
       1137 TIMNOW    63,  111,  113,  242, 1127, 1131, 1371, 1403
       1141 TOTTIM   173,  176, 1121
       1167 TPFLAG   232,  264,  265, 1107, 1170
        255 TPWAIT     0
       1001 TRPIR1   744
       1002 TRPIR2   745
       1003 TRPIR3   746,  755
       1147 TRPIR4   131,  202,  206,  221,  235,  723
       1004 TRPIR5   756
       1005 TRPIR6   757
       1006 TRPIR7   760
       1153 TRPLAC   763, 1015
       1150 TRPMTM   751,  753, 1007
       1035 TSTRAP  1027
        266 TWATX4   255
       1164 UILOCK   306,  320,  324
        375 WRTOPR     0,  375
                  
0 NO ERROR IN ABOVE ASSEMBLY. 




IOPE2C   BCD 03/18/71 2011.8   21951         00000    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1927.2 PAGE 1     
                  
                                                                                                      IOPE0003    
                       00017         ENTRY   SETIO         TO INITIALIZE IOPAC AND FILE SYSTEM        IOPE0004    
                       00237         ENTRY   GETIME        TO GET DATE AND TIME OF DAY                IOPE0005    
                       00246         ENTRY   GETELT        TO GET ELAPSE TIME SINCE LAST CALL         IOPE0006    
                       00255         ENTRY   TPWAIT        TO WAIT AND CHECK CHANNEL FLAGS            IOPE0007    
                       00274         ENTRY   FERRTN        TO SET RETURN FOR UNDEFINED ERRORS         IOPE0008    
                       00305         ENTRY   TILOCK        TO SET RETURN ON INTERLOCKED FILES         IOPE0009    
                       00326         ENTRY   EXIT          TO UPDATE FILE SYSTEM AND TERMINATE        IOPE0010    
                       00357         ENTRY   PRINT         TO PRINT ON ON-LINE PRINTER                IOPE0011    
                       00362         ENTRY   PUNCH         TO PUNCH A CARD ON LINE                    IOPE0012    
                       00375         ENTRY   EPRINT        TO PRINT A LINE DURING A TRAP              IOPE0013    
                       00357         ENTRY   WRFLX         SYNONOMOUS WITH 'PRINT'                    IOPE0014    
                       00375         ENTRY   WRTOPR        SYNONYMOUS WITH 'EPRINT'                   IOPE0015    
                       00676         ENTRY   CMEXIT        TO RETURN TO INTERRUPTED PROGRAM           IOPE0016    
                       00730         ENTRY   STZ.A)        SPECIAL REFERENCE FROM TAPE ADAPTER        IOPE0017    
                       00732         ENTRY   FILXIT        TO RETURN TO CALLER OF FILE SYSTEM         IOPE0018    
                       00737         ENTRY   ALLSAV        TO SAVE MACHINE CONDITIONS ON TRAP         IOPE0019    
                       00773         ENTRY   ALLRST        TO RESTORE MACHINE CONDITIONS              IOPE0020    
                       01114         ENTRY   ENABLE        POINTER ENTRY TO COMMON ENABLE WORD        IOPE0021    
                                                                                                      IOPE0022    
                                     EXTERN  BTOC,CTIME,PRNTER                                        IOPE0023    
                                                                                                      IOPE0024    
                  
        TRANSFER VECTOR 
      00000  226346236060     BTOC  
      00001  236331442560     CTIME 
      00002  475145632551     PRNTER
      00003  314631453163     IOINIT
      00004  233045276462     CHNGUS
      00005  646263216360     USTAT 
      00006  622563512147     SETRAP
      00007  622563646251     SETUSR
      00010  622563212260     SETAB 
      00011  632147422570     TAPKEY
      00012  635121472160     TRAPA 
      00013  635121472260     TRAPB 
      00014  314626314531     IOFINI
                  
        LINKAGE DIRECTOR
      00015  000000000000     
      00016  622563314660     
                  
                      000061  HITRAP BOOL    61            HIGHEST CHANNEL INTERRUPT LOCATION         IOPE0025    
                       01207  Z      TAPENO  A7            CHRONOLOG CLOCK SET AS TAPE A7             IOPE0026    
                       10624  DELAY  EQU     4500          9 MILLESECOND DELAY AFTER READING CHRONOLOGIOPE0027    
                       00005  CLOCK  EQU     5             INTERVAL TIMER AND INTERRUPT CLOCK         IOPE0028    
                       00006  CLKLOC EQU     6             ILC SVAED HERE ON CLOCK TRAP               IOPE0029    
                       00007  CLKTRP EQU     7             TRANSFER FROM HERE ON CLOCK TRAP           IOPE0030    
                       00012  ATRLOC EQU     10            ILC SAVED HERE ON CHANNEL 'A' TRAP         IOPE0031    
                       00013  ADCTRP EQU     11            TRANSFER FROM HERE ON CHANNEL 'A' TRAP     IOPE0032    
                       00014  BTRLOC EQU     12            ILC SAVED HERE ON CHANNEL 'B' TRAP         IOPE0033    
                       00015  BDCTRP EQU     13            TRANSFER FROM HERE ON CHANNEL 'B' TRAP     IOPE0034    
                       00000  B      EQU     0             MEMORY B SWITCH, ('0' FOR A, '1' FOR B)    IOPE0035    
                       00361  STBL   EQU     21+10*22      A.F.S.T. LENGTH, SPACE FOR 10 FILES        IOPE0036    
                       00133  1QL    EQU     1+9*10        DISK/DRUM QUEUE LENGTH                     IOPE0037    
                       00000  2QL    EQU     0             NULL QUEUE (DISK USES DRUM QUEUE)          IOPE0038    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1927.2 PAGE 2     
                  
                       00031  3QL    EQU     25            TAPE QUEUE LENGTH                          IOPE0039    
                                                                                                      IOPE0040    
                              OVLBGN MACRO                 MACRO USED AT BEGINNING OF SECTION         IOPE0041    
                                     UNLIST                .. TO BE OVER WRITTEN                      IOPE0042    
                              OVLORG SET     *             SAVE CURRENT LOCATION COUNTER              IOPE0043    
                              OVLBGN END                                                              IOPE0044    
                                                                                                      IOPE0045    
                              OVLEND MACRO                 MACRO USED AT END OF SECTION               IOPE0046    
                                     ORG     OVLORG        .. TO BE OVER WRITTEN                      IOPE0047    
                                     LIST                  ..                                         IOPE0048    
                              OVLEND END                                                              IOPE0049    
                                                                                                      IOPE0050    
                              WHEN   MACRO   A,TFIND,LOC,OP,ADDR,TAG,DECR    WHENEVER MACRO           IOPE0051    
                                     IFF     1,TFIND,T                                                IOPE0052    
                                     GENIF   A,0,0,LOC,OP,ADDR,TAG,DECR,                              IOPE0053    
                                     IFF     1,TFIND,F                                                IOPE0054    
                                     GENIF   A,0,1,LOC,OP,ADDR,TAG,DECR,                              IOPE0055    
                              WHEN   END                                                              IOPE0056    
                                                                                                      IOPE0057    
                              GENIF  MACRO   IF1,IF2,IF3,LOC,OP,ADDR,TAG,DECR                         IOPE0058    
                                     IFF     IF1,IF2,IF3                                              IOPE0059    
                                     GENOP   LOC,OP,ADDR,TAG,DECR,                                    IOPE0060    
                              GENIF  END                                                              IOPE0061    
                                                                                                      IOPE0062    
                              GENOP  MACRO   LOC,OP,ADDR,TAG,DECR    GENERATE OPERATION               IOPE0063    
                                     PMC     ON                                                       IOPE0064    
                              LOC    OP      ADDR,TAG,DECR                                            IOPE0065    
                                     PMC     OFF                                                      IOPE0066    
                              GENOP  END                                                              IOPE0067    
                                                                                                      IOPE0068    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1927.2 PAGE 3     
                  
                                                                                                      IOPE0070    
                                             SETIO ..... INITIALIZE FILE SYSTEM AND I/O PACKAGE       IOPE0071    
                                                                                                      IOPE0072    
      00017  0564 00 0 02060  SETIO  ENB     =0            ENTRY TO INITIALIZE IOPAC AND FILE SYSTEM  IOPE0073    
      00020 -0625 00 0 01023         STL     ENBSW         INDICATE TO ALLSAV THAT TRAPS ARE LEGAL    IOPE0074    
      00021  0760 00 0 00016         LMTM                  INSURE 7-TAG (7094) MODE                   IOPE0075    
      00022  0634 00 1 00115         SXA     SETX1,1                                                  IOPE0076    
      00023  0634 00 2 00116         SXA     SETX2,2                                                  IOPE0077    
      00024  0634 00 4 00117         SXA     SETX4,4                                                  IOPE0078    
      00025 -0500 60 4 00001         CAL*    1,4           PICK UP AUTHOR FROM CALLER                 IOPE0079    
      00026  0602 00 0 01157         SLW     AUTHOR        ..                                         IOPE0080    
      00027  0500 00 4 00001         CLA     1,4           CHECK IF TAPE STRATEGY NEEDED              IOPE0081    
      00030 -0120 00 0 00036         TMI     FIRST         SKIP IF TAPE STRATEGY NOT NEEDED           IOPE0082    
      00031 -0500 00 0 02065         CAL     =O3000003     OTHERWISE SET UP TRAPS FOR TAPE STRATEGY   IOPE0083    
      00032 -0602 00 0 01114         ORS     ENABLE        ..                                         IOPE0084    
      00033 -0500 00 0 01114         CAL     ENABLE        SET UP ENABLE FOR CHANNEL 'A' ONLY         IOPE0085    
      00034 -0320 00 0 02064         ANA     =O1000001     ..                                         IOPE0086    
      00035  0602 00 0 01167         SLW     ENBIFA        .. ONLY IF CHANNEL 'A' ENABLED ALREADY     IOPE0087    
                                                                                                      IOPE0088    
      00036  0020 00 0 00037  FIRST  TRA     *+1           FIRST PASS SWITCH                          IOPE0089    
      00037  0074 00 4 01313         TSX     RDCLOC,4      READ CHRONOLOG CLOCK FIRST TIME ONLY       IOPE0090    
      00040 -0625 00 0 00036         STL     FIRST         AND CLOSE THIS PATH                        IOPE0091    
      00041  0760 00 0 01352         RDCA                  RESET DATA CHANNEL 'A'                     IOPE0092    
      00042  0760 00 0 02352         RDCB                  RESET DATA CHANNEL 'B'                     IOPE0093    
                                                                                                      IOPE0094    
      00043                          WHEN    B,T,,OVLBGN,,,,,                                         IOPE0095    
                                                                                                      IOPE0096    
      00043  0774 00 4 00062         AXT     HITRAP+1,4    SAVE FMS CONTROL LOCATIONS AND FMS CLOCK   IOPE0097    
      00044 -0500 00 4 00062         CAL     HITRAP+1,4    ..                                         IOPE0098    
      00045  0602 00 4 01307         SLW     SAVFMS,4      ..                                         IOPE0099    
      00046  2 00001 4 00044         TIX     *-2,4,1       ..                                         IOPE0100    
                                                                                                      IOPE0101    
      00047                          WHEN    B,T,,OVLEND,,,,,                                         IOPE0102    
                                                                                                      IOPE0103    
      00047  0774 00 4 00062         AXT     HITRAP+1,4    CLEAR OUT TRAP AND INTERRUPT LOCATIONS     IOPE0104    
      00050                          WHEN    B,T,,SEA,,,,,                                            IOPE0105    
      00050  0600 00 4 00062         STZ     HITRAP+1,4    ..                                         IOPE0106    
      00051  2 00001 4 00050         TIX     *-1,4,1       ..                                         IOPE0107    
      00052                          WHEN    B,T,,SEB,,,,,                                            IOPE0108    
      00052 -0500 00 0 00127         CAL     CLKINT        SET FOR FOR INTERVAL TIMER CLOCK TRAP      IOPE0109    
      00053  0560 00 0 00204         LDQ     ATRAP         .. CHANNEL 'A' TRAP                        IOPE0110    
      00054  0441 00 0 00217         LDI     BTRAP         .. AND CHANNEL 'B' TRAP                    IOPE0111    
      00055                          WHEN    B,T,,SEA,,,,,                                            IOPE0112    
      00055  0602 00 0 00007         SLW     CLKTRP        .. CLOCK TRAP                              IOPE0113    
      00056 -0600 00 0 00013         STQ     ADCTRP        .. CHANNEL 'A' TRAP                        IOPE0114    
      00057  0604 00 0 00015         STI     BDCTRP        .. CHANNEL 'B' TRAP                        IOPE0115    
      00060                          WHEN    B,T,,SEB,,,,,                                            IOPE0116    
                                                                                                      IOPE0117    
                                             ..... INITIALIZE FILE I/O SYSTEM ........................IOPE0118    
                                                                                                      IOPE0119    
      00060  0074 00 4 00003         TSX     $IOINIT,4     FILE SYSTEM INITIALIZATION ENTRY           IOPE0120    
      00061  3 00000 0 00277         PTH     IOERTN        .. ERROR RETURN                            IOPE0121    
      00062  3 00000 0 01136         PTH     DATEYR        .. TODAY'S DATE IN BCD                     IOPE0122    
      00063  3 00000 0 01137         PTH     TIMNOW        .. TIME OF DAY IN 60THS OF A SECOND        IOPE0123    
      00064  3 00000 0 01114         PTH     ENABLE        .. COMMON ENABLE WORD                      IOPE0124    
      00065  0074 00 4 00004         TSX     $CHNGUS,4     SET USER NO. 1 AS USER OF FILE SYSTEM      IOPE0125    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1927.2 PAGE 4     
                  
      00066  3 00000 0 02061         PTH     =1            ..                                         IOPE0126    
      00067  0074 00 4 00005         TSX     $USTAT,4      SET UP STORAGE FOR FILE SYSTEM             IOPE0127    
      00070  3 00361 0 01313         PTH     STATBL,,STBL  ..                                         IOPE0128    
      00071  3 00133 0 01674         PTH     QUEUE1,,1QL   ..                                         IOPE0129    
      00072  3 00000 0 02027         PTH     QUEUE2,,2QL   ..                                         IOPE0130    
      00073  3 00031 0 02027         PTH     QUEUE3,,3QL   ..                                         IOPE0131    
      00074  0074 00 4 00006         TSX     $SETRAP,4     SET UP SUPERVISOR INTERRUPT LOCATION       IOPE0132    
      00075  3 00000 0 00310         PTH     SSTRAP        ..                                         IOPE0133    
      00076  0074 00 4 00007         TSX     $SETUSR,4     SET UP USER OPTIONS                        IOPE0134    
      00077  3 00000 0 02061         PTH     =1            .. FOR USER NO. 1                          IOPE0135    
      00100  3 00000 0 02067         PTH     =O016021777777 .. PRIVILEGED COMMND (BACKGR)             IOPE0136    
      00101  3 00000 0 01157         PTH     AUTHOR        .. AUTHOR FROM CALL TO SETIO               IOPE0137    
      00102  3 00000 0 02070         PTH     =O77777000000 .. PROTECTION LIMITS IF NEEDED             IOPE0138    
      00103  3 00000 0 02060         PTH     =0            .. ZERO RELOCATION                         IOPE0139    
      00104  3 00000 0 02061         PTH     =1            .. GIVE USER HIGHEST PRIORITY              IOPE0140    
      00105  0074 00 4 00010         TSX     $SETAB,4      SET ALL ENTRIES TO COME FROM 'HOME' MEMORY IOPE0141    
      00106  3 00000 0 01173         PTH     HOME          ..                                         IOPE0142    
      00107  3 00000 0 01173         PTH     HOME          ..                                         IOPE0143    
      00110  3 00000 0 01173         PTH     HOME          ..                                         IOPE0144    
                                                                                                      IOPE0145    
      00111 -0500 00 0 01137         CAL     TIMNOW        COMPUTE ANY TIME WASTED IN INITIALIZATION  IOPE0146    
      00112                          WHEN    B,T,,SEA,,,,,                                            IOPE0147    
      00112  0401 00 0 00005         ADM     CLOCK         ..                                         IOPE0148    
      00113                          WHEN    B,T,,SEB,,,,,                                            IOPE0149    
      00113  0602 00 0 01137         SLW     TIMNOW        ..                                         IOPE0150    
                                                                                                      IOPE0151    
      00114  0074 00 4 00122         TSX     STCLOC,4      START UP INTERVAL TIMER CLOCK NOW          IOPE0152    
      00115  0774 00 1 00000  SETX1  AXT     **,1                                                     IOPE0153    
      00116  0774 00 2 00000  SETX2  AXT     **,2                                                     IOPE0154    
      00117  0774 00 4 00000  SETX4  AXT     **,4                                                     IOPE0155    
      00120  0564 00 0 01114         ENB     ENABLE        INSURE ALL TRAPS ENABLED                   IOPE0156    
      00121  0020 00 4 00002         TRA     2,4           AND RETURN                                 IOPE0157    
                                                                                                      IOPE0158    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1927.2 PAGE 5     
                  
                                                                                                      IOPE0160    
                                             STCLOC/CLKINT ....... BASIC CLOCK SECTION ...............IOPE0161    
                                                                                                      IOPE0162    
      00122 -0500 00 0 01172  STCLOC CAL     CLKTIM        RESTART CLOCK TO RUN FOR CLKTIM            IOPE0163    
      00123  0760 00 0 00006         COM                   ..                                         IOPE0164    
      00124  0400 00 0 02061         ADD     =1            ..                                         IOPE0165    
      00125                          WHEN    B,T,,SEA,,,,,                                            IOPE0166    
      00125  0601 00 0 00005         STO     CLOCK         .. NOTE 'P' BIT NOT STORED                 IOPE0167    
      00126                          WHEN    B,T,,SEB,,,,,                                            IOPE0168    
      00126  0020 00 4 00001         TRA     1,4           ..                                         IOPE0169    
                                                                                                      IOPE0170    
      00127                          WHEN    B,F,CLKINT,TTR,*+1,,,,                                   IOPE0171    
      00127  0021 00 0 00130  CLKINT TTR     *+1,,                                                    IOPE0171.003
      00130                          WHEN    B,T,CLKINT,TIB,*+1,,,,                                   IOPE0172    
                                                                                                      IOPE0173    
      00130                          WHEN    B,T,,SEB,,,,,                                            IOPE0174    
                                                                                                      IOPE0175    
      00130  0564 00 0 02060         ENB     =0            HERE ON ALL INTERVAL TIMER 'CLOCK' TRAPS   IOPE0176    
      00131  0634 00 4 01147         SXA     TRPIR4,4      SAVE IR4                                   IOPE0177    
      00132  0074 00 4 00737         TSX     ALLSAV,4      AND REST OF MACHINE CONDITIONS             IOPE0178    
      00133                          WHEN    B,T,,SEA,,,,, PICK UP TRAP FLAGS                         IOPE0179    
      00133 -0500 00 0 00006         CAL     CLKLOC        ..                                         IOPE0180    
      00134                          WHEN    B,T,,SEB,,,,, ..                                         IOPE0181    
      00134  0602 00 0 01160         SLW     RTNLOC        ..                                         IOPE0182    
      00135  0760 00 0 00004         ENK                   PICK UP CONSOLE KEYS                       IOPE0183    
      00136 -0600 00 0 01161         STQ     CLKEYS        SAVE KEYS                                  IOPE0184    
      00137  0441 00 0 01161         LDI     CLKEYS        KEYS TO SI                                 IOPE0185    
      00140  0056 00  040000         RNT     40000         IS KEY '21' DOWN                           IOPE0186    
      00141  0020 00 0 00171         TRA     KEYSUP        NO, SKIP                                   IOPE0187    
      00142  0520 00 0 01162         ZET     KEYSW         YES, IS THIS A PREVIOUS REQUEST            IOPE0188    
      00143  0020 00 0 00172         TRA     SKPKEY        YES, IGNORE REDUNDANT REQUEST              IOPE0189    
      00144 -0625 00 0 01162         STL     KEYSW         NO, SERVICE NEW KEY REQUEST                IOPE0190    
      00145  0074 00 4 00000         TSX     BTOC,4        CONVERT LEFT-HALF MQ TO BCD                IOPE0191    
      00146  0602 00 0 01221         SLW     KREAD+2       ..                                         IOPE0192    
      00147  0074 00 4 00000         TSX     BTOC,4        RIGHT-HALF                                 IOPE0193    
      00150  0602 00 0 01222         SLW     KREAD+3       ..                                         IOPE0194    
      00151  0074 00 4 00375         TSX     EPRINT,4      PRINT MESSAGE                              IOPE0195    
      00152  1 00004 0 01217         PON     KREAD,,4      (DOUBLE SPACE)                             IOPE0196    
      00153 -0500 00 0 01161         CAL     CLKEYS        KEYS TO AC                                 IOPE0197    
      00154 -0320 00 0 02062         ANA     =O7777        IGNORE ALL BUT KEYS 24-35                  IOPE0198    
      00155  0734 00 4 00000         PAX     0,4           23-35 TO IR4                               IOPE0199    
      00156 -2 00006 4 00160         TNX     BADKEY,4,6    IGNORE FMS KEY SETTINGS (0-6)              IOPE0200    
      00157 -2 00004 4 00163         TNX     KEYSOK,4,4    SKIP IF KEYS SET FOR TAPE STRATEGY MODULE  IOPE0201    
      00160  0074 00 4 00375  BADKEY TSX     EPRINT,4      PRINT 'ILLEGAL KEY SETTING, TRY AGAIN.'    IOPE0202    
      00161  0 00010 0 01207                 KEYSNG,,8     ..                                         IOPE0203    
      00162  0020 00 0 00172         TRA     SKPKEY                                                   IOPE0204    
                                                                                                      IOPE0205    
      00163  0634 00 4 01161  KEYSOK SXA     CLKEYS,4      SAVE KEY SETTING FOR TAPE STRATEGY MODULE  IOPE0206    
      00164  0074 00 4 00375         TSX     EPRINT,4      PRINT '****** PLEASE PUT KEY 21 UP ******' IOPE0207    
      00165  0 00006 0 01201                 PP21UP,,6     ..                                         IOPE0208    
      00166  0074 00 4 00011         TSX     $TAPKEY,4     CALL TAPE STRATEGY MODULE                  IOPE0209    
      00167  3 00000 0 01161         PTH     CLKEYS        .. WITH KEY SETTING                        IOPE0210    
      00170  0020 00 0 00172         TRA     SKPKEY                                                   IOPE0211    
                                                                                                      IOPE0212    
      00171  0600 00 0 01162  KEYSUP STZ     KEYSW         HERE IF KEY 21 UP, RESET SWITCH            IOPE0213    
                                                                                                      IOPE0214    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1927.2 PAGE 6     
                  
      00172  0074 00 4 01115  SKPKEY TSX     ADDTIM,4      UPDATE TIME COUNTERS                       IOPE0215    
      00173 -0500 00 0 01141         CAL     TOTTIM        UPDATE TOTAL TIME SYSTEM HAS RUN           IOPE0216    
      00174  0400 00 0 01172         ADD     CLKTIM        ..                                         IOPE0217    
      00175                          WHEN    B,T,,SEA,,,,,                                            IOPE0218    
      00175  0401 00 0 00005         ADM     CLOCK         ..                                         IOPE0219    
      00176                          WHEN    B,T,,SEB,,,,,                                            IOPE0220    
      00176  0602 00 0 01141         SLW     TOTTIM        ..                                         IOPE0221    
      00177  0074 00 4 00122         TSX     STCLOC,4      RESTART INTERVAL TIMER FOR 'CLKTIM'        IOPE0222    
      00200  0074 00 4 00773         TSX     ALLRST,4      RESTORE USER'S MACHINE CONDITIONS          IOPE0223    
      00201  0074 00 4 00676         TSX     CMEXIT,4      AND RETURN TO INTERRUPTED PROGRAM          IOPE0224    
      00202  0534 00 4 01147         LXA     TRPIR4,4      ..                                         IOPE0225    
      00203  0 00000 0 01160                 RTNLOC        ..                                         IOPE0226    
                                                                                                      IOPE0227    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPE0228    
                                                                                                      IOPE0229    
                                             ... ATRAP/BTRAP ... RECORD TRAPS FROM CHANNELS A AND B ..IOPE0230    
                                                                                                      IOPE0231    
      00204                          WHEN    B,F,ATRAP,TTR,*+1,,,,                                    IOPE0232    
      00204  0021 00 0 00205  ATRAP  TTR     *+1,,                                                    IOPE0232.003
      00205                          WHEN    B,T,ATRAP,TIB,*+1,,,,                                    IOPE0233    
                                                                                                      IOPE0234    
      00205                          WHEN    B,T,,SEB,,,,,                                            IOPE0235    
                                                                                                      IOPE0236    
      00205  0564 00 0 02060         ENB     =0            HERE FOR TRAP FROM CHANNEL 'A'             IOPE0237    
      00206  0634 00 4 01147         SXA     TRPIR4,4      SAVE IR4                                   IOPE0238    
      00207  0074 00 4 00737         TSX     ALLSAV,4      AND REST OF MACHINE CONDITIONS             IOPE0239    
      00210                          WHEN    B,T,,SEA,,,,, PICK UP TRAP FLAGS                         IOPE0240    
      00210 -0500 00 0 00012         CAL     ATRLOC        ..                                         IOPE0241    
      00211                          WHEN    B,T,,SEB,,,,, ..                                         IOPE0242    
      00211  0602 00 0 01160         SLW     RTNLOC        ..                                         IOPE0243    
      00212  0074 00 4 00012  ATRAP1 TSX     $TRAPA,4      GIVE TRAP TO TAPE I/O ADAPTER              IOPE0244    
      00213  3 00000 0 01160         PTH     RTNLOC        ..                                         IOPE0245    
      00214  0020 00 0 00233         TRA     IGNTRP        SKIP IF TRAP TAKEN BY ADAPTER              IOPE0246    
      00215 -0774 00 1 00001         AXC     1,1           POINTER TO TRAP FLAGS FOR CHANNEL A        IOPE0247    
      00216  0020 00 0 00231         TRA     RECTRP        AND RECORD THIS TRAP                       IOPE0248    
                                                                                                      IOPE0249    
      00217                          WHEN    B,F,BTRAP,TTR,*+1,,,,                                    IOPE0250    
      00217  0021 00 0 00220  BTRAP  TTR     *+1,,                                                    IOPE0250.003
      00220                          WHEN    B,T,BTRAP,TIB,*+1,,,,                                    IOPE0251    
                                                                                                      IOPE0252    
      00220                          WHEN    B,T,,SEB,,,,,                                            IOPE0253    
                                                                                                      IOPE0254    
      00220  0564 00 0 02060         ENB     =0            HERE FOR TRAP FROM CHANNEL 'B'             IOPE0255    
      00221  0634 00 4 01147         SXA     TRPIR4,4      SAVE IR4                                   IOPE0256    
      00222  0074 00 4 00737         TSX     ALLSAV,4      AND REST OF MACHINE CONDITIONS             IOPE0257    
      00223                          WHEN    B,T,,SEA,,,,, PICK UP TRAP FLAGS                         IOPE0258    
      00223 -0500 00 0 00014         CAL     BTRLOC        ..                                         IOPE0259    
      00224                          WHEN    B,T,,SEB,,,,, ..                                         IOPE0260    
      00224  0602 00 0 01160         SLW     RTNLOC        ..                                         IOPE0261    
      00225  0074 00 4 00013         TSX     $TRAPB,4      GIVE TRAP TO TAPE I/O ADAPTER              IOPE0262    
      00226  3 00000 0 01160         PTH     RTNLOC        ..                                         IOPE0263    
      00227  0020 00 0 00233         TRA     IGNTRP        SKIP IF TRAP TAKEN BY ADAPTER              IOPE0264    
      00230 -0774 00 1 00002         AXC     2,1           POINTER TO TRAP FLAGS FOR CHANNEL B        IOPE0265    
                                                                                                      IOPE0266    
      00231 -0500 00 0 01160  RECTRP CAL     RTNLOC        RECORD TRAP FLAGS FOR 'TPWAIT'             IOPE0267    
      00232 -0602 00 1 01167         ORS     TPFLAG,1      ..                                         IOPE0268    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1927.2 PAGE 7     
                  
      00233  0074 00 4 00773  IGNTRP TSX     ALLRST,4      RESTORE USER'S MACHINE CONDITIONS          IOPE0269    
      00234  0074 00 4 00676         TSX     CMEXIT,4      RETURN TO INTERRUPTED PROGRAM              IOPE0270    
      00235  0534 00 4 01147         LXA     TRPIR4,4      ..                                         IOPE0271    
      00236  0 00000 0 01160                 RTNLOC        ..                                         IOPE0272    
                                                                                                      IOPE0273    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1927.2 PAGE 8     
                  
                                                                                                      IOPE0275    
                                             ... GETIME ... RETURN TIME OF DAY IN LAC AND DATE IN MQ .IOPE0276    
                                                                                                      IOPE0277    
      00237  0634 00 4 00241  GETIME SXA     *+2,4                                                    IOPE0278    
      00240  0074 00 4 01115         TSX     ADDTIM,4      COMPUTE TIME TO NEAREST 60TH OF A SECOND   IOPE0279    
      00241  0774 00 4 00000         AXT     **,4                                                     IOPE0280    
      00242 -0500 00 0 01137         CAL     TIMNOW        RETURN TIME OF DAY IN LOGICAL AC           IOPE0281    
      00243  0560 00 0 01136         LDQ     DATEYR        AND DATE IN MQ                             IOPE0282    
      00244  0564 00 0 01114         ENB     ENABLE        REENABLE                                   IOPE0283    
      00245  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPE0284    
                                                                                                      IOPE0285    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPE0286    
                                                                                                      IOPE0287    
                                             ... GETELT ... RETURN ELAPSE TIME IN LOGICAL AC ........ IOPE0288    
                                                                                                      IOPE0289    
      00246  0634 00 4 00250  GETELT SXA     *+2,4                                                    IOPE0290    
      00247  0074 00 4 01115         TSX     ADDTIM,4      COMPUTE TIME TO NEAREST 60TH OF A SECOND   IOPE0291    
      00250  0774 00 4 00000         AXT     **,4                                                     IOPE0292    
      00251 -0500 00 0 01140         CAL     ELAPSE        RETURN ELAPSE TIME IN LOGICAL AC           IOPE0293    
      00252  0600 00 0 01140         STZ     ELAPSE        AND RESET ELAPSE TIME                      IOPE0294    
      00253  0564 00 0 01114         ENB     ENABLE        REENABLE                                   IOPE0295    
      00254  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPE0296    
                                                                                                      IOPE0297    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPE0298    
                                                                                                      IOPE0299    
                                             ... TPWAIT ... WAIT ON CHANNEL AND CHECK FLAGS ..........IOPE0300    
                                                                                                      IOPE0301    
      00255  0634 00 4 00266  TPWAIT SXA     TWATX4,4                                                 IOPE0302    
      00256 -0500 00 4 00001         CAL     1,4           PZE CHANNO                                 IOPE0303    
      00257  0737 00 4 00000         PAC     0,4           -CHANNEL NO. TO IR4                        IOPE0304    
      00260  0564 00 0 01114         ENB     ENABLE        INSURE ALL CHANNELS ENABLED                IOPE0305    
      00261 -0625 00 4 01310         STL     TCOAB,4       WAIT ON CHANNEL                            IOPE0306    
      00262  0522 00 4 01310         XEC     TCOAB,4       ..                                         IOPE0307    
      00263  0761 00 0 00000         NOP                   INSURE ALL TRAPS TAKEN                     IOPE0308    
      00264  0441 00 4 01167         LDI     TPFLAG,4      PICK UP CHANNEL STATUS FLAGS               IOPE0309    
      00265  0600 00 4 01167         STZ     TPFLAG,4      .. AND RESET THEM                          IOPE0310    
      00266  0774 00 4 00000  TWATX4 AXT     **,4          RESTORE CALLER'S IR4                       IOPE0311    
      00267 -0054 00  000002         LFT     2             WAS REDUNDANCY CHECK FLAG ON               IOPE0312    
      00270  0020 00 4 00002         TRA     2,4           YES, TAKE TAPE CHECK EXIT (2,4)            IOPE0313    
      00271 -0054 00  000004         LFT     4             NO, WAS EOF FLAG ON                        IOPE0314    
      00272  0020 00 4 00003         TRA     3,4           YES, TAKE EOF EXIT (3,4)                   IOPE0315    
      00273  0020 00 4 00004         TRA     4,4           NO, TAKE NORMAL EXIT (4,4)                 IOPE0316    
                                                                                                      IOPE0317    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1927.2 PAGE 9     
                  
                                                                                                      IOPE0319    
                                             ... FERRTN ... SET RETURN FOR UNDEFINED ERRORS           IOPE0320    
                                                                                                      IOPE0321    
      00274 -0500 00 4 00001  FERRTN CAL     1,4           ERROR RETURN LOCATION (PZE RTNLOC)         IOPE0322    
      00275  0621 00 0 01163         STA     FERTN         SAVE IT                                    IOPE0323    
      00276  0020 00 4 00002         TRA     2,4           AND RETURN                                 IOPE0324    
                                                                                                      IOPE0325    
      00277  0520 00 0 01163  IOERTN ZET     FERTN         HERE FOR ERROR RETURN FROM FILE SYSTEM     IOPE0326    
      00300  0020 60 0 01163         TRA*    FERTN         TAKE USER EXIT IF SPECIFIED                IOPE0327    
      00301  0074 00 4 00002         TSX     PRNTER,4      OTHERWISE, PRINT FILE SYSTEM ERROR MESSAGE IOPE0328    
      00302  0074 00 4 00357         TSX     PRINT,4       PRINT 'NO ERROR RETURN SPECIFIED'          IOPE0329    
      00303  0 00005 0 01174                 NOERTN,,5     ..                                         IOPE0330    
      00304  0020 00 0 00326         TRA     EXIT          AND EXIT                                   IOPE0331    
                                                                                                      IOPE0332    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPE0333    
                                                                                                      IOPE0334    
                                             ... TILOCK ... SET RETURN ON INTERLOCKED FILES           IOPE0335    
                                                                                                      IOPE0336    
      00305 -0500 00 4 00001  TILOCK CAL     1,4           INTERLOCK RETURN LOCATION (PZE RTNLOC)     IOPE0337    
      00306  0621 00 0 01164         STA     UILOCK        SAVE IT                                    IOPE0338    
      00307  0020 00 4 00002         TRA     2,4           AND RETURN                                 IOPE0339    
                                                                                                      IOPE0340    
      00310  0564 00 0 02060  SSTRAP ENB     =0            HERE ON INTERRUPT FROM FILE SYSTEM         IOPE0341    
      00311 -0500 60 4 00003         CAL*    3,4           PICK UP USER'S IR4 FROM CALL               IOPE0342    
      00312  0621 00 0 00322         STA     SSTIR4        SAVE USER'S IR4                            IOPE0343    
      00313 -0500 60 4 00002         CAL*    2,4           PICK UP INTERRUPT CODE (1-6)               IOPE0344    
      00314  0734 00 5 00000         PAX     0,5           INTO IR5                                   IOPE0345    
      00315 -3 00003 5 00325         TXL     IGNINT,5,3    IGNORE CODES 1-3                           IOPE0346    
      00316 -3 00004 5 00320         TXL     FILOCK,5,4    SKIP ON FILE INTERLOCKED (CODE 4)          IOPE0347    
      00317  0020 00 0 00325         TRA     IGNINT        IGNORE ALL OTHER INTERRUPT CODES           IOPE0348    
                                                                                                      IOPE0349    
      00320 -0520 00 0 01164  FILOCK NZT     UILOCK        HAS USER SPECIFIED INTERLOCKED RETURN      IOPE0350    
      00321  0020 00 0 00325         TRA     IGNINT        NO, IGNORE INTERRUPT                       IOPE0351    
      00322  0774 00 4 00000  SSTIR4 AXT     **,4          YES, RESTORE USER'S IR4                    IOPE0352    
      00323  0564 00 0 01114         ENB     ENABLE        RE-ENABLE ALL TRAPS                        IOPE0353    
      00324  0020 60 0 01164         TRA*    UILOCK        AND TAKE USER INTERLOCKED RETURN           IOPE0354    
                                                                                                      IOPE0355    
      00325  0020 00 4 00006  IGNINT TRA     6,4           HERE TO IGNORE INTERRUPT FROM FILE SYS.    IOPE0356    
                                                                                                      IOPE0357    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1927.2 PAGE 10    
                  
                                                                                                      IOPE0359    
                                             ... EXIT ... TERMINATION ROUTINE, EXIT TO FMS OR STOP ...IOPE0360    
                                                                                                      IOPE0361    
      00326  0074 00 4 00014  EXIT   TSX     $IOFINI,4     INSURE FILE SYSTEM UPDATED                 IOPE0362    
      00327  3 00000 0 00330         PTH     *+1           .. IGNORE ERROR RETURN                     IOPE0363    
      00330  0074 00 4 00357         TSX     PRINT,4       PRINT MESSAGE                              IOPE0364    
      00331  1 00002 0 01223         PON     EXITMS,,2     ..                                         IOPE0365    
      00332  0564 00 0 02060         ENB     =0            DISABLE ALL TRAPS                          IOPE0366    
      00333  0060 00 0 00333         TCOA    *             WAIT UNTIL ALL CHANNEL ACTIVITY CEASES     IOPE0367    
      00334  0061 00 0 00334         TCOB    *             ..                                         IOPE0368    
      00335  0760 00 0 01352         RDCA                  AND RESET CHANNELS A,                      IOPE0369    
      00336  0760 00 0 02352         RDCB                  .. AND B                                   IOPE0370    
                                                                                                      IOPE0371    
      00337                          WHEN    B,T,,OVLBGN,,,,,                                         IOPE0372    
                                                                                                      IOPE0373    
      00337  0774 00 4 00062         AXT     HITRAP+1,4    RESTORE FMS LOWER CORE                     IOPE0374    
      00340 -0500 00 4 01307         CAL     SAVFMS,4      ..                                         IOPE0375    
      00341  0602 00 4 00062         SLW     HITRAP+1,4    ..                                         IOPE0376    
      00342  2 00001 4 00340         TIX     *-2,4,1       ..                                         IOPE0377    
                                                                                                      IOPE0378    
      00343  0774 00 4 00012         AXT     10,4          RELOAD FMS FROM A1                         IOPE0379    
      00344  0772 00 0 01201  EXIT1  REWA    1             ..                                         IOPE0380    
      00345  0762 00 0 01221         RTBA    1             ..                                         IOPE0381    
      00346  0540 00 0 01307         RCHA    LDFIOP        ..                                         IOPE0382    
      00347  0060 00 0 00347         TCOA    *             ..                                         IOPE0383    
      00350  0022 00 0 00355         TRCA    A1BAD         ..                                         IOPE0384    
      00351  0030 00 0 00355         TEFA    A1BAD         ..                                         IOPE0385    
      00352  0762 00 0 01221         RTBA    1             .. SKIP CARD TO TAPE RECORD                IOPE0386    
      00353  0762 00 0 01221         RTBA    1             .. SKIP DUMP RECORD                        IOPE0387    
      00354  0020 00 0 00001         TRA     1             EXIT TO FIOP TO LOAD SIGN-ON RECORD        IOPE0388    
                                                                                                      IOPE0389    
      00355  2 00001 4 00344  A1BAD  TIX     EXIT1,4,1     COUNT ERRORS                               IOPE0390    
      00356  0000 00 0 00344         HTR     EXIT1         STOP ON TOO MANY ERRORS                    IOPE0391    
                                                                                                      IOPE0392    
      00357                          WHEN    B,T,,OVLEND,,,,,                                         IOPE0393    
                                                                                                      IOPE0394    
      00357                          WHEN    B,T,,HTR,*,,,,                                           IOPE0395    
                                                                                                      IOPE0396    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1927.2 PAGE 11    
                  
                                                                                                      IOPE0398    
                                             .. PRINT/PUNCH/EPRINT .. ON LINE PRINT AND PUNCH ROUTINESIOPE0399    
                                                                                                      IOPE0400    
                       00357  WRFLX  SYN     *             SIMULATED TYPEWRITER                       IOPE0401    
      00357  0564 00 0 02060  PRINT  ENB     =0            DISABLE ALL TRAPS                          IOPE0402    
      00360 -0625 00 0 00623         STL     PRSW          ROUTINE TO PRINT ON LINE                   IOPE0403    
      00361  0020 00 0 00364         TRA     PUNCH+2       ..                                         IOPE0404    
                                                                                                      IOPE0405    
      00362  0564 00 0 02060  PUNCH  ENB     =0            DISABLE ALL TRAPS                          IOPE0406    
      00363  0600 00 0 00623         STZ     PRSW          ROUTINE TO PUNCH CARD ON LINE              IOPE0407    
      00364  0634 00 4 00373         SXA     PRPUX4,4      SAVE IR4 FROM CALL TO 'PRINT' OR 'PUNCH'   IOPE0408    
      00365  0560 00 4 00001         LDQ     1,4           PICK UP USER CALLING SEQUENCE              IOPE0409    
      00366 -0600 00 0 00370         STQ     *+2           SET IN CALL                                IOPE0410    
      00367  0074 00 4 00377         TSX     WPRPU,4       CALL PRINT/PUNCH ROUTINE                   IOPE0411    
      00370  0 00000 0 00000                 **,,**        ..                                         IOPE0412    
      00371  0074 00 4 01076         TSX     CHKCHA,4      CHECK FOR LOST TRAP ON CHANNEL 'A'         IOPE0413    
      00372  0564 00 0 01114         ENB     ENABLE        RE-ENABLE                                  IOPE0414    
      00373  0774 00 4 00000  PRPUX4 AXT     **,4          RESTORE USER'S IR4                         IOPE0415    
      00374  0020 00 4 00002         TRA     2,4           AND RETURN                                 IOPE0416    
                                                                                                      IOPE0417    
                       00375  WRTOPR SYN     *             USED BY DDIOA IN LIEU OF EPRINT            IOPE0418    
      00375  0564 00 0 02060  EPRINT ENB     =0            DISABLE ALL TRAPS                          IOPE0419    
      00376 -0625 00 0 00623         STL     PRSW          ROUTINE TO PRINT DURING ANY TRAP           IOPE0420    
                                                                                                      IOPE0421    
      00377  0634 00 1 00523  WPRPU  SXA     PRX1,1        SAVE XRS.                                  IOPE0422    
      00400  0634 00 2 00524         SXA     PRX2,2        ..                                         IOPE0423    
      00401  0634 00 4 00525         SXA     PRX4,4        ..                                         IOPE0424    
      00402  0074 00 4 01024         TSX     SAVCHA,4      DISABLE AND SAVE CHANNEL 'A'               IOPE0425    
      00403  0534 00 4 00525         LXA     PRX4,4        RELOAD CALLER'S XR4.                       IOPE0426    
      00404 -0500 00 4 00001         CAL     1,4           PZE FIRST,,N                               IOPE0427    
      00405 -0734 00 2 00000         PDX     ,2            GET WORD COUNT                             IOPE0428    
      00406  0754 00 2 00000         PXA     ,2            ..                                         IOPE0429    
      00407  0361 00 4 00001         ACL     1,4           BES LOCATION OF USER DATA                  IOPE0430    
      00410  0621 00 0 00432         STA     PRPU.2        FOR WORD PICKUP.                           IOPE0431    
      00411 -0520 00 0 00623         NZT     PRSW          IF CALL IS FOR PUNCH,                      IOPE0432    
      00412  0020 00 0 00420         TRA     PRPU.1        SKIP SENSE INSTRUCTION SETUP               IOPE0433    
      00413  0771 00 0 00017         ARS     15            ELSE, PREFIX TO X7                         IOPE0434    
      00414 -0737 00 7 00000         PDC     ,7            ..                                         IOPE0435    
      00415 -0500 00 7 00626         CAL     SPRTBL,7      PICK UP USER REQUESTED SPRA                IOPE0436    
      00416  0602 00 0 00512         SLW     SPRA          SAVE                                       IOPE0437    
      00417  0602 00 0 00506         SLW     SPRX          THERE ALSO IN CASE BLANK LINE              IOPE0438    
                                                                                                      IOPE0439    
      00420  0774 00 7 00060  PRPU.1 AXT     48,7          CLEAR CARD IMAGE BUFFER                    IOPE0440    
      00421  0600 00 7 00623         STZ     CBUF2+48,7    ..                                         IOPE0441    
      00422  2 00001 7 00421         TIX     *-1,7,1       ..                                         IOPE0442    
      00423 -0500 00 0 02071         CAL     =-0           INITIALIZE COLUMN MARKER TO FIRST COLUMN   IOPE0443    
      00424  0602 00 0 01156         SLW     PRCOL         ..                                         IOPE0444    
      00425  0774 00 4 00001         AXT     1,4           INITIALIZE CHARACTER COUNT                 IOPE0445    
      00426  0774 00 5 00001         AXT     1,5           START ON RIGHT HALF                        IOPE0446    
      00427  0774 00 6 00001         AXT     1,6           OF FIRST BUFFER                            IOPE0447    
      00430 -3 00000 2 00472         TXL     DONE,2,0      SKIP FOR ZERO WORD COUNT.                  IOPE0448    
      00431  0600 00 0 00624         STZ     DONESW        INDICATE THERE IS MORE PRINTING TO DO      IOPE0449    
                                                                                                      IOPE0450    
      00432  0560 00 2 00000  PRPU.2 LDQ     -,2           LOAD FIRST OR NEXT USER DATA WORD          IOPE0451    
      00433  0774 00 1 00006         AXT     6,1           SIX CHARACTERS PER WORD                    IOPE0452    
      00434 -0754 00 0 00000  PRPU.3 ZAC                                                              IOPE0453    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1927.2 PAGE 12    
                  
      00435 -0763 00 0 00006         LGL     6             CHARACTER TO AC                            IOPE0454    
      00436 -0600 00 0 00625         STQ     MQ.T          SAVE PARTIAL MQ CONTENTS                   IOPE0455    
      00437 -0765 00 0 00001         LGR     1             DIVIDE BY 2, SAVE REMAINDER                IOPE0456    
      00440  0737 00 7 00000         PAC     ,7            TABLE POSITION FOR CHARACTER               IOPE0457    
      00441 -0500 00 7 00636         CAL     CHRTB,7       GET PUNCH CONFIGURATION FOR THIS           IOPE0458    
      00442  0162 00 0 00444         TQP     *+2           CHARACTER                                  IOPE0459    
      00443  0771 00 0 00022         ARS     18            TO ADDRESS                                 IOPE0460    
      00444  0044 00 0 00000         PAI                   ..                                         IOPE0461    
      00445  0737 00 7 00000         PAC     ,7            TRANSFER ADDRESS IF CONTROL CHAR.          IOPE0462    
      00446  0054 00  100000         RFT     100000        TEST FOR SPECIAL CHARACTER                 IOPE0463    
      00447  0020 00 7 00000         TRA     0,7           YES, GO PROCESS SPECIAL CHARACTER          IOPE0464    
      00450 -0765 00 0 00014         LGR     12            ORDINARY CHARACTER, PUNCHES TO MQ          IOPE0465    
      00451 -0500 00 0 01156         CAL     PRCOL         PICKUP COLUMN MARKER                       IOPE0466    
      00452  0774 00 7 00030         AXT     24,7          24 WORD CARD IMAGE BUFFER, EVERY           IOPE0467    
      00453  0162 00 0 00455         TQP     *+2           IF BIT IS OFF, IGNORE.                     IOPE0468    
      00454  0522 00 5 00537         XEC     ORINBT,5      ELSE, ADD PUNCH TO PROPER BUFFER.          IOPE0469    
      00455 -0773 00 0 00001         RQL     1             ONWARD TO NEXT ROW OF CARD THIS COLUMN     IOPE0470    
      00456  2 00002 7 00453         TIX     *-3,7,2       ..                                         IOPE0471    
      00457  0771 00 0 00001         ARS     1             MOVE COLUMN MARKER TO NEXT COLUMN          IOPE0472    
      00460  1 00001 4 00461         TXI     *+1,4,1       INCREMENT WORD COUNT                       IOPE0473    
      00461  3 00170 4 00472         TXH     DONE,4,120    SEE IF OUT OF BOUNDS                       IOPE0474    
      00462 -0100 00 0 00466         TNZ     PRPU.4        IF DONE WITH HALF OF CARD,                 IOPE0475    
      00463 -0500 00 0 02071         CAL     =-0           REINITIALIZE COLUMN MARKER                 IOPE0476    
      00464  1 00001 5 00465         TXI     *+1,5,1       INDICATE ON NEXT HALF OF CARD              IOPE0477    
      00465  2 00002 5 00473         TIX     PRPU.5,5,2    IF TWO HALVES DONE, GO PRINT BUFFER OUT    IOPE0478    
      00466  0602 00 0 01156  PRPU.4 SLW     PRCOL         SAVE COLUMN MARKER FOR NEXT CHARACTER      IOPE0479    
      00467  0560 00 0 00625  SKP    LDQ     MQ.T          RESTORE PARTIAL MQ. ENTER HERE TO IGNORE   IOPE0480    
      00470  2 00001 1 00434         TIX     PRPU.3,1,1    GO GET NEXT CHARACTER                      IOPE0481    
      00471  2 00001 2 00432         TIX     PRPU.2,2,1    WORD EXHAUSTED, GO GET NEXT WORD           IOPE0482    
      00472 -0625 00 0 00624  DONE   STL     DONESW        FINISHED, INDICATE LAST BUFFER TO PRINT.   IOPE0483    
      00473  0520 00 0 00623  PRPU.5 ZET     PRSW          ARE WE PRINTING OR PUNCHING. Q             IOPE0484    
      00474  0020 00 0 00500         TRA     PRNT.1        WE ARE PRINTING, GO TO PRINT ROUTINE       IOPE0485    
      00475  0766 00 0 01341         WPUA                  HERE TO PUNCH CARD.                        IOPE0486    
      00476  0540 00 0 00531         RCHA    PUCOM         START CHANNEL                              IOPE0487    
      00477  0020 00 0 00522         TRA     PEND          AND SKIP TO EXIT AFTER ONE CARD.           IOPE0488    
      00500  0774 00 7 00030  PRNT.1 AXT     24,7          HERE TO PRINT PARTIAL LINE.                IOPE0489    
      00501  0520 60 6 00541         ZET*    CARD,6        SEE IF BUFFER ALL BLANK                    IOPE0490    
      00502  0020 00 0 00511         TRA     PNOW          NON-ZERO WORD FOUND, GO PRINT.             IOPE0491    
      00503  2 00001 7 00501         TIX     *-2,7,1       ..                                         IOPE0492    
      00504  3 00001 6 00522         TXH     PEND,6,1      HAVE WE PRINTED ANYTHING ON THIS LINE      IOPE0493    
      00505  0766 00 0 01361         WPRA                  NO, SELECT PRINTER                         IOPE0494    
      00506  0760 00 0 01360  SPRX   SPRA    **            USER REQUESTED SPRA                        IOPE0495    
      00507  0540 00 0 00532         RCHA    IOCD          AND DISCONNECT CHANNEL                     IOPE0496    
      00510  0020 00 0 00514         TRA     PRT2.2        SKIP                                       IOPE0497    
      00511  0766 00 0 01361  PNOW   WPRA                  SELECT PRINTER ON CHANNEL 'A'              IOPE0498    
      00512  0760 00 0 01360  SPRA   SPRA    **            USER REQUESTED SPRA OR SPRA 9.             IOPE0499    
      00513  0540 60 6 00531         RCHA*   PRCOM,6       START UP CHANNEL ON RIGHT BUFFER           IOPE0500    
      00514  0520 00 0 00624  PRT2.2 ZET     DONESW        IS THERE MORE TO DO. Q                     IOPE0501    
      00515  0020 00 0 00522         TRA     PEND          NO, SKIP TO END                            IOPE0502    
      00516 -0500 00 0 00631         CAL     SPRA9         YES, SET UP TO PRINT RIGHT HALF LINE       IOPE0503    
      00517  0602 00 0 00512         SLW     SPRA          ..                                         IOPE0504    
      00520 -0500 00 0 02071         CAL     =-0           RESET COLUMN MARKER                        IOPE0505    
      00521  1 00001 6 00466         TXI     PRPU.4,6,1    AND RE-ENTER ROUTINE                       IOPE0506    
                                                                                                      IOPE0507    
      00522  0074 00 4 01047  PEND   TSX     RSTCHA,4      HERE WHEN DONE, RESTORE CHANNEL 'A'        IOPE0508    
      00523  0774 00 1 00000  PRX1   AXT     -,1           RESTORE XRS                                IOPE0509    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1927.2 PAGE 13    
                  
      00524  0774 00 2 00000  PRX2   AXT     -,2           ..                                         IOPE0510    
      00525  0774 00 4 00000  PRX4   AXT     -,4           ..                                         IOPE0511    
      00526  0020 00 4 00002         TRA     2,4           RETURN TO CALLER.                          IOPE0512    
                                                                                                      IOPE0513    
                                                                                                      IOPE0514    
      00527  0 00000 0 00533         PZE     PRCM2         CHANNEL COMMANDS FOR SECOND BUFFER         IOPE0515    
      00530  0 00000 0 00531         PZE     PRCM1         .. FOR FIRST BUFFER                        IOPE0516    
                       00531  PRCOM  SYN     *             ..                                         IOPE0517    
                                                                                                      IOPE0518    
      00531 -2 00030 0 00573  PRCM1  IOSP    CBUF1,B,24    WHEN PRINTING, THIS SEQUENCE DISCONNECTS   IOPE0519    
      00532  0 00000 0 00000  IOCD   IOCD    0,,0          13 MS. FASTER THAN IOCD                    IOPE0520    
      00533 -2 00030 0 00543  PRCM2  IOSP    CBUF2,B,24    ..                                         IOPE0521    
      00534  0 00000 0 00000         IOCD    0,,0          ..                                         IOPE0522    
                                                                                                      IOPE0523    
                       00531  PUCOM  SYN     PRCM1         DISCONNECTS 25 MS FASTER THAN IOCD         IOPE0524    
                                                                                                      IOPE0525    
      00535 -0602 60 6 00543         ORS*    CARD+2,6      TO ADD PUNCH INTO RIGHT HALF CARD          IOPE0526    
      00536 -0602 60 6 00541         ORS*    CARD,6        .. LEFT HALF CARD                          IOPE0527    
                       00537  ORINBT SYN     *             ' XEC ORINBT,5 '                           IOPE0528    
                                                                                                      IOPE0529    
      00537  0 00000 7 00573         PZE     CBUF2+24,7    RIGHT HALF LINE                            IOPE0530    
      00540  0 00000 7 00623         PZE     CBUF1+24,7    LEFT HALF LINE                             IOPE0531    
                       00541  CARD   SYN     *             .. 'ORS* CARD,6'                           IOPE0532    
      00541  0 00000 7 00574         PZE     CBUF2+25,7    FOR RIGHT HALF CARD COL 37-72              IOPE0533    
      00542  0 00000 7 00624         PZE     CBUF1+25,7    ..                                         IOPE0534    
                                                                                                      IOPE0535    
      00543                   CBUF2  BSS     24            PRINT BUFFER 2                             IOPE0536    
      00573                   CBUF1  BSS     24            PRINT BUFFER 1, PUNCH BUFFER               IOPE0537    
                                                                                                      IOPE0538    
      00623  0 00000 0 77777  PRSW   PZE     -1            PRINT/PUNCH SWITCH                         IOPE0539    
      00624  0 00000 0 00000  DONESW PZE                   NON-ZERO IF CONTENTS OF BUFFER IS LAST     IOPE0540    
      00625  0 00000 0 00000  MQ.T   PZE                   STORAGE FOR PARTIAL MQ DURING CONVERSION   IOPE0541    
                                                                                                      IOPE0542    
                       00626  SPRTBL SYN     *             TABLE OF VALID SPR'S                       IOPE0543    
      00626  0761 00 0 00000  NOP    NOP                   (PZE)  SINGLE SPACE                        IOPE0544    
      00627  0760 00 0 01361         SPRA    1             (PON)  NEW PAGE                            IOPE0545    
      00630  0760 00 0 01362         SPRA    2             (PTW)  HALF-PAGE SKIP                      IOPE0546    
      00631  0760 00 0 01371  SPRA9  SPRA    9             (PTH)  PRINT RIGHT-HALF LINE               IOPE0547    
      00632  0761 00 0 00000         NOP                   (MZE)  SINGLE SPACE                        IOPE0548    
      00633  0761 00 0 00000         NOP                   (MON)  SINGLE SPACE                        IOPE0549    
      00634  0760 00 0 01364         SPRA    4             (MTW)  DOUBLE SPACE                        IOPE0550    
      00635  0761 00 0 00000         NOP                   (MTH)  SINGLE SPACE                        IOPE0551    
                                                                                                      IOPE0552    
                      000001  P12    BOOL    1             BIT FOR 12-PUNCH                           IOPE0553    
                      000002  P11    BOOL    2                     11-PUNCH                           IOPE0554    
                      000004  P0     BOOL    4                      0-PUNCH                           IOPE0555    
                      000010  P1     BOOL    10                     1-PUNCH                           IOPE0556    
                      000020  P2     BOOL    20                     2-PUNCH                           IOPE0557    
                      000040  P3     BOOL    40                     3-PUNCH                           IOPE0558    
                      000100  P4     BOOL    100                    4-PUNCH                           IOPE0559    
                      000200  P5     BOOL    200                    5-PUNCH                           IOPE0560    
                      000400  P6     BOOL    400                    6-PUNCH                           IOPE0561    
                      001000  P7     BOOL    1000                   7-PUNCH                           IOPE0562    
                      002000  P8     BOOL    2000                   8-PUNCH                           IOPE0563    
                      004000  P9     BOOL    4000                   9-PUNCH                           IOPE0564    
                                                                                                      IOPE0565    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1927.2 PAGE 14    
                  
                       00636  CHRTB  SYN     *             CONVERSION TABLE FOR CHARACTERS            IOPE0566    
      00636  0 00010 0 00004         PZE     P0,,P1        DIGITS 0, 1                                IOPE0567    
      00637  0 00040 0 00020         PZE     P2,,P3        2, 3                                       IOPE0568    
      00640  0 00200 0 00100         PZE     P4,,P5        4, 5                                       IOPE0569    
      00641  0 01000 0 00400         PZE     P6,,P7        6, 7                                       IOPE0570    
      00642  0 04000 0 02000         PZE     P8,,P9        8, 9                                       IOPE0571    
      00643  0 02040 1 00467         PZE     SKP,1,P8+P3   ILL., =                                    IOPE0572    
      00644  1 00467 0 02100         PON     P8+P4,,SKP    ', ILL.                                    IOPE0573    
      00645  1 00467 1 00467         PON     SKP,1,SKP     ILL, ILL.                                  IOPE0574    
      00646  0 00011 0 00001         PZE     P12,,P12+P1   +, A                                       IOPE0575    
      00647  0 00041 0 00021         PZE     P12+P2,,P12+P3 B, C                                      IOPE0576    
      00650  0 00201 0 00101         PZE     P12+P4,,P12+P5 D, E                                      IOPE0577    
      00651  0 01001 0 00401         PZE     P12+P6,,P12+P7 F, G                                      IOPE0578    
      00652  0 04001 0 02001         PZE     P12+P8,,P12+P9 H, I                                      IOPE0579    
      00653  0 02041 1 00467         PZE     SKP,1,P12+P8+P3 ILL., '.'                                IOPE0580    
      00654  0 02041 0 02101         PZE     P12+P8+P4,,P12+P8+P3 ), COLON (USE .)                    IOPE0581    
      00655  1 00467 1 00467         PON     SKP,1,SKP     ILL., ILL.                                 IOPE0582    
      00656  0 00012 0 00002         PZE     P11,,P11+P1   -, J                                       IOPE0583    
      00657  0 00042 0 00022         PZE     P11+P2,,P11+P3 K, L                                      IOPE0584    
      00660  0 00202 0 00102         PZE     P11+P4,,P11+P5 M, N                                      IOPE0585    
      00661  0 01002 0 00402         PZE     P11+P6,,P11+P7 O, P                                      IOPE0586    
      00662  0 04002 0 02002         PZE     P11+P8,,P11+P9 Q, R                                      IOPE0587    
      00663  0 02042 1 00467         PZE     SKP,1,P11+P8+P3 ILL., $                                  IOPE0588    
      00664  1 00467 0 02102         PON     P11+P8+P4,,SKP *, ILL.                                   IOPE0589    
      00665  1 00467 1 00467         PON     SKP,1,SKP     ILL., NULL                                 IOPE0590    
      00666  0 00014 0 00000         PZE     0,,P0+P1      BLANK, /                                   IOPE0591    
      00667  0 00044 0 00024         PZE     P0+P2,,P0+P3  S, T                                       IOPE0592    
      00670  0 00204 0 00104         PZE     P0+P4,,P0+P5  U, V                                       IOPE0593    
      00671  0 01004 0 00404         PZE     P0+P6,,P0+P7  W, X                                       IOPE0594    
      00672  0 04004 0 02004         PZE     P0+P8,,P0+P9  Y, Z                                       IOPE0595    
      00673  0 02044 1 00467         PZE     SKP,1,P0+P8+P3 TAB, ','                                  IOPE0596    
      00674  1 00467 0 02104         PON     P0+P8+P4,,SKP (, ILL.                                    IOPE0597    
      00675  1 00467 1 00467         PON     SKP,1,SKP     ILL., ILL.                                 IOPE0598    
                                                                                                      IOPE0599    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1927.2 PAGE 15    
                  
                                                                                                      IOPE0601    
                                             ... CMEXIT ... COMMON EXIT ROUTINE FROM ALL TRAPS .......IOPE0602    
                                                                                                      IOPE0603    
      00676  0564 00 0 02060  CMEXIT ENB     =0            INSURE ALL TRAPS DISABLED                  IOPE0604    
      00677  0604 00 0 01146         STI     CMXSI         SAVE INDICATORS                            IOPE0605    
      00700  0441 60 4 00002         LDI*    2,4           PICK UP RETURN FLAGS                       IOPE0606    
      00701  0057 00  700000         RIR     700000        INSURE TAG ZERO                            IOPE0607    
      00702  0604 00 0 01145         STI     CMXRTN        SAVE RETURN LOCATION                       IOPE0608    
      00703  0522 00 4 00001         XEC     1,4           RESTORE USER'S IR4 FROM 1,4                IOPE0609    
      00704  0520 00 0 01144         ZET     ATLOST        WAS A TRAP ON CHANNEL 'A' LOST             IOPE0610    
      00705  0020 00 0 00720         TRA     SIMTRP        YES, GO TO SIMULATE LOST TRAP              IOPE0611    
      00706 -0054 00  020000         LFT     20000         NO, WAS ECC SET FOR MEMORY 'A'             IOPE0612    
      00707  0020 00 0 00713         TRA     CMRTNB        NO, SET ECC TO MEMORY 'B'                  IOPE0613    
      00710  0441 00 0 01146         LDI     CMXSI         YES, RELOAD INDICATORS                     IOPE0614    
      00711  0564 00 0 01114         ENB     ENABLE        AND RETURN TO INTERRUPTED PROGRAM          IOPE0615    
      00712                          WHEN    B,T,,LRI,=0,,,,  ..                                      IOPE0616    
      00712                          WHEN    B,T,,SEA,,,,, ..                                         IOPE0617    
      00712  0020 60 0 01145         TRA*    CMXRTN        ..                                         IOPE0618    
                                                                                                      IOPE0619    
      00713  0441 00 0 01146  CMRTNB LDI     CMXSI         HERE TO RETURN WITH ECC SET FOR MEMORY 'B' IOPE0620    
      00714  0564 00 0 01114         ENB     ENABLE        RETURN TO INTERRUPTED PROGRAM              IOPE0621    
      00715                          WHEN    B,F,,LRI,=0,,,,  ..                                      IOPE0622    
      00715  0562 00 0 02060         LRI     =0,,                                                     IOPE0622.003
      00716                          WHEN    B,F,,SEB,,,,, ..                                         IOPE0623    
      00716 -0761 00 0 00042         SEB     ,,                                                       IOPE0623.003
      00717  0020 60 0 01145         TRA*    CMXRTN        ..                                         IOPE0624    
                                                                                                      IOPE0625    
      00720 -0057 00  717777  SIMTRP RIL     717777        HERE TO SIMULATE LOST TRAP ON CHANNEL 'A'  IOPE0626    
      00721  0604 00 0 01160         STI     RTNLOC        SET UP RETURN LOC. WITH ECC AND ICC FLAGS  IOPE0627    
      00722  0441 00 0 01146         LDI     CMXSI         RELOAD USER'S SENSE INDICATORS             IOPE0628    
      00723  0634 00 4 01147         SXA     TRPIR4,4      AND INSURE USER'S MACHINE CONDITIONS SAVED IOPE0629    
      00724  0074 00 4 00737         TSX     ALLSAV,4      ..                                         IOPE0630    
      00725 -0500 00 0 01144         CAL     ATLOST        PICK UP FLAGS FROM LOST TRAP               IOPE0631    
      00726 -0320 00 0 02066         ANA     =O7000000     SAVE BITS 15-17                            IOPE0632    
      00727 -0602 00 0 01160         ORS     RTNLOC        COMPLETE TRAP FLAGS IN 'RTNLOC'            IOPE0633    
      00730  0600 00 0 01144  STZ.A) STZ     ATLOST        RESET LOST TRAP CONDITION                  IOPE0634    
      00731  0020 00 0 00212         TRA     ATRAP1        AND SIMULATE TRAP ON CHANNEL 'A'           IOPE0635    
                                                                                                      IOPE0636    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPE0637    
                                                                                                      IOPE0638    
                                             ... FILXIT ... EXIT TO USER FROM FILE SYSTEM .....       IOPE0639    
                                                                                                      IOPE0640    
      00732 -0500 60 4 00002  FILXIT CAL*    2,4           PICK UP RETURN ADDRESS                     IOPE0641    
      00733  0737 00 5 00000         PAC     0,5           .. -RETURN ADDRESS TO IR5                  IOPE0642    
      00734  0522 00 4 00001         XEC     1,4           RELOAD USER'S IR4                          IOPE0643    
      00735  0564 00 0 01114         ENB     ENABLE        RE-ENABLE ALL TRAPS                        IOPE0644    
      00736  0020 00 5 00000         TRA     0,5           AND RETURN TO USER                         IOPE0645    
                                                                                                      IOPE0646    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1927.2 PAGE 16    
                  
                                                                                                      IOPE0648    
                                             ... ALLSAV ... SAVE BASIC MACHINE CONDITIONS ............IOPE0649    
                                                                                                      IOPE0650    
      00737  0564 00 0 02060  ALLSAV ENB     =0            INSURE NO TRAPS COME NOW.                  IOPE0651    
      00740 -0520 00 0 01023         NZT     ENBSW         HAVE WE TAKEN A PREVIOUS TRAP.             IOPE0652    
      00741  0000 00 0 00741         HTR     *             YES, STOP AND TAKE A DUMP.                 IOPE0653    
      00742  0600 00 0 01023         STZ     ENBSW         NO, INDICATE WE ARE IN TRAP TIME.          IOPE0654    
      00743  0634 00 4 00772         SXA     ALLXR4,4      SAVE NAME OF THIS CALLER                   IOPE0655    
      00744  0634 00 1 01001         SXA     TRPIR1,1      SAVE BASIC MACHINE CONDITIONS.             IOPE0656    
      00745  0634 00 2 01002         SXA     TRPIR2,2      ..                                         IOPE0657    
      00746  0634 00 3 01003         SXA     TRPIR3,3      ..                                         IOPE0658    
      00747  0774 00 3 00000         AXT     0,3           .. SAVE TAG MODE                           IOPE0659    
      00750  0774 00 1 00001         AXT     1,1           ..                                         IOPE0660    
      00751  0600 00 0 01150         STZ     TRPMTM        ..                                         IOPE0661    
      00752 -3 00000 3 00756         TXL     7TAG,3,0      .. SKIP IF IN 7-TAG (7094) MODE            IOPE0662    
      00753 -0625 00 0 01150         STL     TRPMTM        .. OTHERWISE SET 3-TAG (7090) MODE         IOPE0663    
      00754  0760 00 0 00016         LMTM                  ..                                         IOPE0664    
      00755  0634 00 3 01003         SXA     TRPIR3,3      .. RESAVE IR3                              IOPE0665    
      00756  0634 00 5 01004  7TAG   SXA     TRPIR5,5      ..                                         IOPE0666    
      00757  0634 00 6 01005         SXA     TRPIR6,6      ..                                         IOPE0667    
      00760  0634 00 7 01006         SXA     TRPIR7,7      ..                                         IOPE0668    
      00761  0604 00 0 01151         STI     TRPSI         .. SAVE SENSE INDICATORS                   IOPE0669    
      00762 -0600 00 0 01152         STQ     TRPMQ         .. MQ                                      IOPE0670    
      00763  0602 00 0 01153         SLW     TRPLAC        .. LOGICAL AC                              IOPE0671    
      00764  0771 00 0 00002         ARS     2             ..                                         IOPE0672    
      00765  0601 00 0 01154         STO     TRPSQ         .. S AND Q BITS                            IOPE0673    
      00766  0600 00 0 01155         STZ     TRPOV         .. AC OVERFLOW CONDITION                   IOPE0674    
      00767 -0140 00 0 00771         TNO     *+2           ..                                         IOPE0675    
      00770 -0625 00 0 01155         STL     TRPOV         ..                                         IOPE0676    
      00771  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPE0677    
                                                                                                      IOPE0678    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPE0679    
                                                                                                      IOPE0680    
      00772  0 00000 0 00000  ALLXR4 PZE     **,,**        X4(ALLSAV,,ALLRST)                         IOPE0681    
                                                                                                      IOPE0682    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPE0683    
                                                                                                      IOPE0684    
                                             ... ALLRST ... RESTORE BASIC MACHINE CONDITIONS .........IOPE0685    
                                                                                                      IOPE0686    
      00773  0564 00 0 02060  ALLRST ENB     =0            INSURE NO TRAPS ON TOP OF STOP.            IOPE0687    
      00774  0520 00 0 01023         ZET     ENBSW         ARE WE CALLED AT TRAP TIME.                IOPE0688    
      00775  0000 00 0 00775         HTR     *             NO, STOP AND TAKE DUMP.                    IOPE0689    
      00776 -0625 00 0 01023         STL     ENBSW         YES, INDICATE WE ARE LEAVING TRAP TIME.    IOPE0690    
      00777  0760 00 0 00016         LMTM                  INSURE 7-TAG (7094) MODE                   IOPE0691    
      01000 -0634 00 4 00772         SXD     ALLXR4,4      SAVE X4 OF CALLER FOR DEBUGGING            IOPE0692    
      01001  0774 00 1 00000  TRPIR1 AXT     **,1          ..                                         IOPE0693    
      01002  0774 00 2 00000  TRPIR2 AXT     **,2          ..                                         IOPE0694    
      01003  0774 00 3 00000  TRPIR3 AXT     **,3          ..                                         IOPE0695    
      01004  0774 00 5 00000  TRPIR5 AXT     **,5          ..                                         IOPE0696    
      01005  0774 00 6 00000  TRPIR6 AXT     **,6          ..                                         IOPE0697    
      01006  0774 00 7 00000  TRPIR7 AXT     **,7          ..                                         IOPE0698    
      01007  0520 00 0 01150         ZET     TRPMTM        .. RESTORE TAG MODE                        IOPE0699    
      01010 -0760 00 0 00016         EMTM                  ..                                         IOPE0700    
      01011  0560 00 0 01154         LDQ     TRPSQ         .. RESTORE S AND Q BITS                    IOPE0701    
      01012  0500 00 0 01012         CLA     *             .. AND INSURE OVERFLOW LIGHT IS ON         IOPE0702    
      01013  0763 00 0 00001         LLS     1             ..                                         IOPE0703    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1927.2 PAGE 17    
                  
      01014  0767 00 0 00044         ALS     36            ..                                         IOPE0704    
      01015 -0501 00 0 01153         ORA     TRPLAC        .. RESTORE LOGICAL AC                      IOPE0705    
      01016  0560 00 0 01152         LDQ     TRPMQ         .. RESTORE MQ                              IOPE0706    
      01017  0441 00 0 01151         LDI     TRPSI         .. RESTORE SI                              IOPE0707    
      01020 -0520 00 0 01155         NZT     TRPOV         .. RESTORE CORRECT OVERFLOW STATUS         IOPE0708    
      01021  0140 00 0 01022         TOV     *+1           ..                                         IOPE0709    
      01022  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPE0710    
                                                                                                      IOPE0711    
      01023  0 00000 0 00000  ENBSW  PZE     **            SWITCH ON DURING ENABLE TIME.              IOPE0712    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1927.2 PAGE 18    
                  
                                             ... SAVCHA/RSTCHA/CHKCHA ... SAVE RESTORE AND CHECK 'A'  IOPE0714    
                                                                                                      IOPE0715    
      01024  0564 00 0 02060  SAVCHA ENB     =0            SAVE STATUS OF CHANNEL 'A'                 IOPE0716    
      01025  0520 00 0 01144         ZET     ATLOST        HAVE WE LOST A TRAP ALREADY                IOPE0717    
      01026  0020 00 0 01042         TRA     SVCHA2        YES, SKIP                                  IOPE0718    
      01027 -0500 00 0 01035         CAL     TSTRAP        NO, SET UP TO CHECK FOR TRAP ON CHANNEL 'A'IOPE0719    
      01030                          WHEN    B,T,,SEA,,,,, SAVE CHANNEL 'A' TRAP INSTRUCTION          IOPE0720    
      01030  0441 00 0 00013         LDI     ADCTRP        ..                                         IOPE0721    
      01031  0602 00 0 00013         SLW     ADCTRP        .. AND SUBSTITUTE NEW TRAP INSTRUCTION     IOPE0722    
      01032                          WHEN    B,T,,SEB,,,,, ..                                         IOPE0723    
      01032  0564 00 0 01167         ENB     ENBIFA        ENABLE IF ENABLE CONTAINS CHANNEL 'A' BITS IOPE0724    
      01033  0060 00 0 01033         TCOA    *             AND WAIT                                   IOPE0725    
      01034  0020 00 0 01040         TRA     SVCHA1        GO RESTORE TRAP INSTRUCTION IF NO TRAP     IOPE0726    
                                                                                                      IOPE0727    
      01035                          WHEN    B,F,TSTRAP,TTR,*+1,,,,                                   IOPE0728    
      01035  0021 00 0 01036  TSTRAP TTR     *+1,,                                                    IOPE0728.003
      01036                          WHEN    B,T,TSTRAP,TIB,*+1,,,,                                   IOPE0729    
                                                                                                      IOPE0730    
      01036 -0500 00 0 00012         CAL     ATRLOC        PICK UP FLAGS FROM TRAP ON CHANNEL 'A'     IOPE0731    
      01037                          WHEN    B,T,,SEB,,,,, ..                                         IOPE0732    
      01037  0602 00 0 01144         SLW     ATLOST        SET FLAGS FOR LOST TRAP                    IOPE0733    
      01040  0564 00 0 02060  SVCHA1 ENB     =0            DISABLE ALL TRAPS                          IOPE0734    
      01041                          WHEN    B,T,,SEA,,,,, RESTORE PREVIOUS TRAP INSTRUCTION          IOPE0735    
      01041  0604 00 0 00013         STI     ADCTRP        ..                                         IOPE0736    
      01042                          WHEN    B,T,,SEB,,,,, ..                                         IOPE0737    
                                                                                                      IOPE0738    
      01042  0640 00 0 01165  SVCHA2 SCHA    SVCHAN        SAVE CHANNEL 'A' REGISTERS                 IOPE0739    
      01043  0600 00 0 01166         STZ     SVIOCK        AND I/O CHECK CONDITION                    IOPE0740    
      01044  0760 00 0 00005         IOT                   ..                                         IOPE0741    
      01045 -0625 00 0 01166         STL     SVIOCK        ..                                         IOPE0742    
      01046  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPE0743    
                                                                                                      IOPE0744    
      01047  0634 00 4 01074  RSTCHA SXA     RSTCX4,4      RESTORE CHANNEL STATUS                     IOPE0745    
      01050  0060 00 0 01050         TCOA    *             WAIT UNTIL CHANNEL IS FREE                 IOPE0746    
      01051 -0500 00 0 01165         CAL     SVCHAN        PICK UP PREVIOUS CHANNEL STATUS            IOPE0747    
      01052 -0737 00 4 00000         PDC     0,4           -LOCATION COUNTER TO IR4                   IOPE0748    
      01053 -0320 00 0 02072         ANA     =O700000377777  RESTORE CHANNEL 'A' REGISTERS            IOPE0749    
      01054  0560 00 4 77777         LDQ     -1,4          ..                                         IOPE0750    
      01055  0602 00 4 77777         SLW     -1,4          ..                                         IOPE0751    
      01056  0540 00 4 77777         RCHA    -1,4          ..                                         IOPE0752    
      01057 -0600 00 4 77777         STQ     -1,4          ..                                         IOPE0753    
      01060 -0520 00 0 01166         NZT     SVIOCK        RESTORE PREVIOUS CONDITIONS OF I/O CHECK   IOPE0754    
      01061  0760 00 0 00005         IOT                   ..                                         IOPE0755    
      01062  0761 00 0 00000         NOP                   .. FOR SAFETY ONLY (IOT SHOULD BE ON)      IOPE0756    
      01063 -0500 00 0 01071         CAL     FORGET        SET UP TO LOOSE ANY TRAP ON CHANNEL 'A'    IOPE0757    
      01064                          WHEN    B,T,,SEA,,,,, SAVE CHANNEL 'A' TRAP INSTRUCTION          IOPE0758    
      01064  0441 00 0 00013         LDI     ADCTRP        ..                                         IOPE0759    
      01065  0602 00 0 00013         SLW     ADCTRP        .. SUBSTITUTE NEW TRAP INSTRUCTION         IOPE0760    
      01066                          WHEN    B,T,,SEB,,,,, ..                                         IOPE0761    
      01066  0564 00 0 01167         ENB     ENBIFA        ENABLE IF ENABLE CONTAINS CHAN. 'A' BITS   IOPE0762    
      01067  0060 00 0 01067         TCOA    *             AND WAIT                                   IOPE0763    
      01070  0020 00 0 01072         TRA     RSCHA1        GO RESTORE TRAP INSTRUCTION IF NO TRAP     IOPE0764    
                                                                                                      IOPE0765    
      01071                          WHEN    B,F,FORGET,TTR,*+1,,,,                                   IOPE0766    
      01071  0021 00 0 01072  FORGET TTR     *+1,,                                                    IOPE0766.003
      01072                          WHEN    B,T,FORGET,TIB,*+1,,,,                                   IOPE0767    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1927.2 PAGE 19    
                  
                                                                                                      IOPE0768    
      01072                          WHEN    B,T,,SEB,,,,,                                            IOPE0769    
                                                                                                      IOPE0770    
      01072  0564 00 0 02060  RSCHA1 ENB     =0            DISABLE ALL TRAPS                          IOPE0771    
      01073                          WHEN    B,T,,SEA,,,,, RESTORE PREVIOUS TRAP INSTRUCTION          IOPE0772    
      01073  0604 00 0 00013         STI     ADCTRP        ..                                         IOPE0773    
      01074                          WHEN    B,T,,SEB,,,,, ..                                         IOPE0774    
      01074  0774 00 4 00000  RSTCX4 AXT     **,4          RESTORE IR4                                IOPE0775    
      01075  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPE0776    
                                                                                                      IOPE0777    
      01076  0564 00 0 02060  CHKCHA ENB     =0            SIMULATE LOST TRAP ON CHANNEL 'A'          IOPE0778    
      01077 -0520 00 0 01144         NZT     ATLOST        DID WE LOOSE A TRAP ON CHANNEL 'A'         IOPE0779    
      01100  0020 00 4 00001         TRA     1,4           NO, RETURN                                 IOPE0780    
      01101  0634 00 4 01112         SXA     CKXIR4,4      YES, SIMULATE TRAP SEQUENCE                IOPE0781    
      01102  0074 00 4 00737         TSX     ALLSAV,4      SAVE REGISTERS, SET 7-TAG MODE             IOPE0782    
      01103  0074 00 4 00012         TSX     $TRAPA,4      GIVE TRAP TO TAPE STRATEGY MODULE          IOPE0783    
      01104  3 00000 0 01144         PTH     ATLOST        ..                                         IOPE0784    
      01105  0020 00 0 01110         TRA     *+3           TRAP ACCEPTED, DON'T SAVE FLAGS            IOPE0785    
      01106 -0500 00 0 01144         CAL     ATLOST        RECORD THIS TRAP FOR FUTURE REFERENCE      IOPE0786    
      01107 -0602 00 0 01170         ORS     TPFLAG+1      ..                                         IOPE0787    
      01110  0600 00 0 01144         STZ     ATLOST        RESET LOST TRAP CONDITION                  IOPE0788    
      01111  0074 00 4 00773         TSX     ALLRST,4      RESTORE REGISTERS, TAG MODE                IOPE0789    
      01112  0774 00 4 00000  CKXIR4 AXT     **,4          AND RETURN                                 IOPE0790    
      01113  0020 00 4 00001         TRA     1,4           ..                                         IOPE0791    
                                                                                                      IOPE0792    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPE0793    
                                                                                                      IOPE0794    
      01114 +000000400000     ENABLE OCT     400000        COMMON ENABLE WORD                         IOPE0795    
                                                                                                      IOPE0796    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  IOPE0797    
                                                                                                      IOPE0798    
                                             ... ADDTIM ... COMPUTE TIME TO NEAREST 60TH OF A SECOND  IOPE0799    
                                                                                                      IOPE0800    
      01115  0564 00 0 02060  ADDTIM ENB     =0            INSURE ALL TRAPS DISABLED (USED BY CLKINT) IOPE0801    
      01116                          WHEN    B,T,,SEA,,,,,                                            IOPE0802    
      01116 -0500 00 0 00005         CAL     CLOCK         COMPUTE TOTAL TIME SYSTEM HAS RUN          IOPE0803    
      01117                          WHEN    B,T,,SEB,,,,, ..                                         IOPE0804    
      01117  0361 00 0 01172         ACL     CLKTIM        .. CLOCK TRAP INTERVAL                     IOPE0805    
      01120 -0320 00 0 02063         ANA     =O777777      ..                                         IOPE0806    
      01121  0361 00 0 01141         ACL     TOTTIM        ..                                         IOPE0807    
      01122  0402 00 0 01142         SUB     SAVTOT        SUBTRACT TIME OF LAST CALL TO 'ADDTIM'     IOPE0808    
      01123  0100 00 4 00001         TZE     1,4           IGNORE IF NO TIME HAS ELAPSED SINCE        IOPE0809    
      01124  0602 00 0 01143         SLW     DELTA         OTHERWISE, SAVE TIME INCREMENT             IOPE0810    
      01125  0400 00 0 01142         ADD     SAVTOT        SAVE CURRENT TIME                          IOPE0811    
      01126  0602 00 0 01142         SLW     SAVTOT        .. FOR NEXT CALL TO 'ADDTIM'               IOPE0812    
      01127 -0500 00 0 01137         CAL     TIMNOW        UPDATE TIME OF DAY                         IOPE0813    
      01130  0400 00 0 01143         ADD     DELTA         ..                                         IOPE0814    
      01131  0602 00 0 01137         SLW     TIMNOW        ..                                         IOPE0815    
      01132 -0500 00 0 01140         CAL     ELAPSE        UPDATE ELAPSE TIME SINCE LAST CALL         IOPE0816    
      01133  0400 00 0 01143         ADD     DELTA         .. TO 'GETELT'                             IOPE0817    
      01134  0602 00 0 01140         SLW     ELAPSE        ..                                         IOPE0818    
      01135  0020 00 4 00001         TRA     1,4           AND RETURN                                 IOPE0819    
                                                                                                      IOPE0820    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1927.2 PAGE 20    
                  
                                                                                                      IOPE0822    
                                             ..... CONSTANT AND VARIABLE STORAGE FOR 'IOPAC' ........ IOPE0823    
                                                                                                      IOPE0824    
                                                                                                      IOPE0826    
      01136  0 00000 0 00000  DATEYR PZE     0             TODAY'S DATE  BCI 1,MMDDYY                 IOPE0827    
      01137  0 00000 0 00000  TIMNOW PZE     0             TIME OF DAY IN 60THS OF A SECOND           IOPE0828    
      01140  0 00000 0 00000  ELAPSE PZE     0             TIME SINCE LAST CALL TO 'GETELT'           IOPE0829    
      01141  0 00000 0 00000  TOTTIM PZE     0             TOTAL TIME SYSTEM HAS RUN                  IOPE0830    
      01142  0 00000 0 00000  SAVTOT PZE     0             TOTTIM AT TIME OF LAST CALL TO 'ADDTIM'    IOPE0831    
      01143  0 00000 0 00000  DELTA  PZE     0             TEMP FOR 'ADDTIM'                          IOPE0832    
      01144  0 00000 0 00000  ATLOST PZE     0             LOST TRAP ON CHANNEL 'A' SAVED HERE        IOPE0833    
      01145  0 00000 0 00000  CMXRTN PZE     0             TEMP FOR RETURN FROM 'CMEXIT'              IOPE0834    
      01146  0 00000 0 00000  CMXSI  PZE     0             SENSE INDICATORS SAVED BY 'CMEXIT'         IOPE0835    
                                                                                                      IOPE0836    
      01147  0 00000 0 00000  TRPIR4 PZE     0             MACHINE CONDITIONS SAVED ON TRAP           IOPE0837    
      01150  0 00000 0 00000  TRPMTM PZE     **            ..                                         IOPE0838    
      01151  0 00000 0 00000  TRPSI  PZE     0             ..                                         IOPE0839    
      01152  0 00000 0 00000  TRPMQ  PZE     0             ..                                         IOPE0840    
      01153  0 00000 0 00000  TRPLAC PZE     0             ..                                         IOPE0841    
      01154  0 00000 0 00000  TRPSQ  PZE     0             ..                                         IOPE0842    
      01155  0 00000 0 00000  TRPOV  PZE     0             ..                                         IOPE0843    
                                                                                                      IOPE0844    
      01156  0 00000 0 00000  PRCOL  PZE     0             TEMPS FOR WPRPU                            IOPE0845    
      01157  0 00000 0 00000  AUTHOR PZE     0             TEMP FOR 'SETIO'                           IOPE0846    
      01160  0 00000 0 00000  RTNLOC PZE     0             TRAP FLAGS SAVED HERE ON ALL TRAPS         IOPE0847    
      01161  0 00000 0 00000  CLKEYS PZE     0             CONSOLE KEYS, SAVED BY 'CLKINT'            IOPE0848    
      01162  0 00000 0 00000  KEYSW  PZE     0             SWITCH USED BY 'CLKINT'                    IOPE0849    
      01163  0 00000 0 00000  FERTN  PZE     **            RETURN LOCATION SET BY 'FERRTN'            IOPE0850    
      01164  0 00000 0 00000  UILOCK PZE     **            RETURN LOCATION SET BY 'TILOCK'            IOPE0851    
      01165  0 00000 0 00000  SVCHAN PZE     0             TEMP USED BY SAVCHA/RSTCHA                 IOPE0852    
      01166  0 00000 0 00000  SVIOCK PZE     0             TEMP USED BY SAVCHA/RSTCHA                 IOPE0853    
      01167  0 00000 0 00000  ENBIFA PZE     -             ENABLE BITS IF CHANNEL A ENABLED           IOPE0854    
                                                                                                      IOPE0855    
                       01167  TPFLAG SYN     *-1           CHANNEL FLAGS SAVED HERE                   IOPE0856    
      01170  0 00000 0 00000         PZE     0             .. FOR CHANNEL 'A'                         IOPE0857    
      01171  0 00000 0 00000         PZE     0             .. AND CHANNEL 'B'                         IOPE0858    
                                                                                                      IOPE0859    
      01172 +000000000074     CLKTIM DEC     60            CLOCK TRAP INTERVAL                        IOPE0860    
                                                                                                      IOPE0861    
      01173  0 00000 0 00001  HOME   PZE     B+1           FLAG FOR 'HOME' MEMORY                     IOPE0862    
                                                                                                      IOPE0863    
      01174  604546602551     NOERTN BCI     5, NO ERROR RETURN SPECIFIED.                            IOPE0864    
      01201  545454545454     PP21UP BCI     6,****** PLEASE PUT KEY 21 UP. ******                    IOPE0865    
      01207  545454545454     KEYSNG BCI     8,****** ILLEGAL KEY SETTING, TRY AGAIN. ******          IOPE0866    
      01217  604225706260     KREAD  BCI     4, KEYS READ. ************                               IOPE0867    
      01223  602567316360     EXITMS BCI     2, EXIT CALLED                                           IOPE0868    
                                                                                                      IOPE0869    
      01307                   SAVFMS BES     HITRAP+1      FMS LOWER CORE SAVED HERE                  IOPE0870    
                                                                                                      IOPE0871    
      01307 -0 00003 0 00000  LDFIOP IOCP    0,,3          LOAD FIOP INTO MEMORY 'A'                  IOPE0872    
      01310  1 00000 0 00000         TCH     0             ..                                         IOPE0873    
                                                                                                      IOPE0874    
                       01310  TCOAB  SYN     *-1           CHANNEL WAIT INSTRUCTIONS                  IOPE0875    
      01311  0060 00 0 00000         TCOA    **            .. FOR CHANNEL 'A'                         IOPE0876    
      01312  0061 00 0 00000         TCOB    **            .. AND CHANNEL 'B'                         IOPE0877    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1927.2 PAGE 21    
                  
                                                                                                      IOPE0879    
                                             ... RCLOCK ... READ CHRONOLOG, SET TIMNOW AND DATEYR ... IOPE0880    
                                                                                                      IOPE0881    
      01313  0634 00 4 01400  RDCLOC SXA     RCLKX4,4      SAVE XRS                                   IOPE0882    
      01314  0634 00 2 01377         SXA     RCLKX2,2      ..                                         IOPE0883    
      01315  0634 00 1 01376         SXA     RCLKX1,1      ..                                         IOPE0884    
                                                                                                      IOPE0885    
      01316  0774 00 1 00002         AXT     2,1           TRY TWICE IN CASE OF BAD DATE              IOPE0886    
      01317  0600 00 0 01500  RCLOC1 STZ     MMDDHH        RESET                                      IOPE0887    
      01320  0600 00 0 01501         STZ     MMSS66        ..                                         IOPE0888    
      01321  0762 00 0 01207         RTDZ                  SELECT CHRONOLOG AS TAPE 'A7'              IOPE0889    
      01322  0540 00 0 01435         RCHZ    RCLOCK        START UP CHANNEL TO READ CLOCK             IOPE0890    
      01323  0774 00 2 00002         AXT     2,2           COUNT TRIES                                IOPE0891    
      01324  0774 00 4 10624  RCLOC2 AXT     DELAY,4       9 MS DELAY WITH TIX *                      IOPE0892    
      01325  2 00001 4 01325         TIX     *,4,1         ..                                         IOPE0893    
      01326  0520 00 0 01500         ZET     MMDDHH        HAS FIRST WORD BEEN READ                   IOPE0894    
      01327  0020 00 0 01333         TRA     RCLOC3        YES, SKIP TO WAIT ON CHANNEL               IOPE0895    
      01330  2 00001 2 01324         TIX     RCLOC2,2,1    NO, COUNT TRIES                            IOPE0896    
      01331  0760 00 0 01352         RDCZ                  AFTER 18 MS GIVE UP, RESET CHANNEL         IOPE0897    
      01332  0020 00 0 01403         TRA     BADCLK        SKIP TO INFORM OPERATOR                    IOPE0898    
      01333  0060 00 0 01333  RCLOC3 TCOZ    *             WAIT UNTIL BOTH WORDS ARE READ             IOPE0899    
      01334  0022 00 0 01335         TRCZ    *+1           INSURE RTT TRIGGER RESET                   IOPE0900    
                                                                                                      IOPE0901    
      01335  0774 00 2 00002  RCLOC4 AXT     2,2           INSURE ALL CHARACTERS READ ARE LEGAL       IOPE0902    
      01336  0560 00 2 01502  RCLK4A LDQ     MMDDHH+2,2    PICK UP WORD READ                          IOPE0903    
      01337  0774 00 4 00006         AXT     6,4           6 DIGITS PER WORD                          IOPE0904    
      01340 -0754 00 0 00000  RCLOC5 ZAC                   ..                                         IOPE0905    
      01341 -0763 00 0 00006         LGL     6             SHIFT CHAR                                 IOPE0906    
      01342  0734 00 7 00000         PAX     ,7            TO X7                                      IOPE0907    
      01343  3 00011 7 01402         TXH     RCLOC8,7,9    ERROR IF .G. 9                             IOPE0908    
      01344  2 00001 4 01340         TIX     RCLOC5,4,1    DO FOR ALL CHARS                           IOPE0909    
      01345  2 00001 2 01336         TIX     RCLK4A,2,1    .. OF EACH WORD                            IOPE0910    
                                                                                                      IOPE0911    
      01346  0560 00 0 01500         LDQ     MMDDHH        PICK UP HOUR                               IOPE0912    
      01347 -0773 00 0 00030         RQL     24            ..                                         IOPE0913    
      01350  0074 00 7 01423         TSX     DTB,7         CONVERT TO BINARY                          IOPE0914    
      01351  0734 00 7 00000         PAX     ,7            ..                                         IOPE0915    
      01352  3 00027 7 01402         TXH     RCLOC8,7,23   INSURE LEGAL VALUE                         IOPE0916    
      01353  0560 00 0 01501         LDQ     MMSS66        NOW GET REST OF TIME                       IOPE0917    
      01354  0774 00 4 00003         AXT     3,4           MINUTES, SECONDS, 60THS                    IOPE0918    
      01355  0767 00 0 00002  RCLOC6 ALS     2             MULTIPLY PREVIOUS VALUE BY 60              IOPE0919    
      01356  0602 00 0 01440         SLW     TMP           .. N * 4                                   IOPE0920    
      01357  0774 00 7 00003         AXT     3,7           ..                                         IOPE0921    
      01360  0767 00 0 00001         ALS     1             .. 8, 16, 32                               IOPE0922    
      01361  0400 00 0 01440         ADD     TMP           ..                                         IOPE0923    
      01362  2 00001 7 01360         TIX     *-2,7,1       ..                                         IOPE0924    
      01363  0602 00 0 01437         SLW     60THS         .. = 60                                    IOPE0925    
      01364  0074 00 7 01423         TSX     DTB,7         NOW CONVERT NEXT FIELD FROM MQ             IOPE0926    
      01365  0734 00 7 00000         PAX     ,7            ..                                         IOPE0927    
      01366  3 00073 7 01402         TXH     RCLOC8,7,59   MUST BE LESS THAN 60                       IOPE0928    
      01367  0400 00 0 01437         ADD     60THS         ADD PREVIOUS RESULT                        IOPE0929    
      01370  2 00001 4 01355         TIX     RCLOC6,4,1    GO BACK TO MULTIPLY AGAIN                  IOPE0930    
      01371  0602 00 0 01137         SLW     TIMNOW        ..                                         IOPE0931    
      01372 -0500 00 0 01500         CAL     MMDDHH        ..                                         IOPE0932    
      01373 -0320 00 0 02073         ANA     =O777777770000 MASK OUT HOUR                             IOPE0933    
      01374 -0501 00 0 01436         ORA     YEAR          ADD IN YEAR TO FORM                        IOPE0934    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1927.2 PAGE 22    
                  
      01375  0602 00 0 01136         SLW     DATEYR        .. MMDDYY                                  IOPE0935    
      01376  0774 00 1 00000  RCLKX1 AXT     -,1           RESTORE XRS                                IOPE0936    
      01377  0774 00 2 00000  RCLKX2 AXT     -,2           ..                                         IOPE0937    
      01400  0774 00 4 00000  RCLKX4 AXT     -,4           ..                                         IOPE0938    
      01401  0020 00 4 00001         TRA     1,4           RETURN                                     IOPE0939    
                                                                                                      IOPE0940    
      01402  2 00001 1 01317  RCLOC8 TIX     RCLOC1,1,1    HERE FOR BAD DATE FROM CHRONOLOG, RETRY    IOPE0941    
                                                                                                      IOPE0942    
      01403  0560 00 0 01137  BADCLK LDQ     TIMNOW        HERE IF CHRONOLOG WILL NOT READ PROPERLY   IOPE0943    
      01404  0074 00 4 00001         TSX     CTIME,4       CONVERT TIME FOR PRINTING                  IOPE0944    
      01405  0602 00 0 01503         SLW     MMSS66+2      ..                                         IOPE0945    
      01406  0074 00 4 00375         TSX     EPRINT,4      TELL OPERATOR ABOUT IT                     IOPE0946    
      01407  0 00014 0 01470         PZE     CLKBAD,,12    .. THOUGH IT PROBABLY IS A WASTED EFFORT   IOPE0947    
      01410  0074 00 4 00375         TSX     EPRINT,4      YES, MUST HAVE A DATE AND TIME             IOPE0948    
      01411  0 00014 0 01441         PZE     SETMDH,,12    PRETEND OPERATOR IS CHRONOLOG              IOPE0949    
      01412  0000 00 0 01413         HTR     *+1           WAIT FOR OPERATOR                          IOPE0950    
      01413  0760 00 0 00004         ENK                   GET KEYS (MMDDHH)                          IOPE0951    
      01414 -0600 00 0 01500         STQ     MMDDHH        PRETEND THE CHRONOLOG DID IT               IOPE0952    
      01415  0074 00 4 00375         TSX     EPRINT,4      NOW ASK FOR THE REST OF IT                 IOPE0953    
      01416  0 00013 0 01455         PZE     SETMS6,,11    ..                                         IOPE0954    
      01417  0000 00 0 01420         HTR     *+1           .. WAIT AGAIN                              IOPE0955    
      01420  0760 00 0 00004         ENK                   MMSS66                                     IOPE0956    
      01421 -0600 00 0 01501         STQ     MMSS66        ..                                         IOPE0957    
      01422  0020 00 0 01335         TRA     RCLOC4        PROCESS NORMALLY                           IOPE0958    
                                                                                                      IOPE0959    
      01423 -0754 00 0 00000  DTB    ZAC                   ROUTINE TO CONVERT TWO BCD DIGITS TO BINARYIOPE0960    
      01424 -0763 00 0 00006         LGL     6             ..                                         IOPE0961    
      01425  0601 00 0 01440         STO     TMP           ..                                         IOPE0962    
      01426 -0754 00 0 00000         ZAC                   ..                                         IOPE0963    
      01427 -0763 00 0 00003         LGL     3             ..                                         IOPE0964    
      01430  0400 00 0 01440         ADD     TMP           ..                                         IOPE0965    
      01431 -0763 00 0 00002         LGL     2             ..                                         IOPE0966    
      01432  0400 00 0 01440         ADD     TMP           ..                                         IOPE0967    
      01433 -0763 00 0 00001         LGL     1             ..                                         IOPE0968    
      01434  0020 00 7 00001         TRA     1,7           ..                                         IOPE0969    
                                                                                                      IOPE0970    
                                                                                                      IOPE0971    
      01435  3 00002 0 01500  RCLOCK IORT    MMDDHH,B,2    CHANNEL COMMAND TO READ CHRONOLOG CLOCK    IOPE0972    
      01436  000000000701     YEAR   BCI     1,000071      MUST BE CHANGED EVERY YEAR **************  IOPE0973    
      01437  0 00000 0 00000  60THS  PZE                                                              IOPE0974    
      01440  0 00000 0 00000  TMP    PZE                                                              IOPE0975    
                                                                                                      IOPE0976    
      01441  464725512163     SETMDH BCI     9,OPERATOR ENTER BCD MONTH, DAY, HOUR IN KEYS, FORMAT MM IOPE0977    
      01452  242430303360            BCI     3,DDHH. PRESS START.                                     IOPE0978    
      01455  254563255160     SETMS6 BCI     9,ENTER BCD MINUTE, SECOND, 60TH IN KEYS, FORMAT MMSS66. IOPE0979    
      01466  604751256262            BCI     2, PRESS START.                                          IOPE0980    
      01470  233051464546     CLKBAD BCI     /CHRONOLOG CLOCK MALFUNCTIONING. CLOCK READ '/           IOPE0981    
      01500  444424243030     MMDDHH BCI     1,MMDDHH                                                 IOPE0982    
      01501  444462620606     MMSS66 BCI     1,MMSS66                                                 IOPE0983    
      01502  146021636057            BCI     /' AT /                                                  IOPE0984    
      01503  303044443344            BCI     1,HHMM.M                                                 IOPE0985    
                                                                                                      IOPE0986    
                       01313         ORG     RDCLOC        CLOCK READ ROUTINE IS OVERLAPPED           IOPE0987    
                                                                                                      IOPE0988    
      01313                   STATBL BSS     STBL          STORAGE FOR ACTIVE FILE STATUS TABLE       IOPE0989    
      01674                   QUEUE1 BSS     1QL           STORAGE FOR DRUM STRATEGY MODULE           IOPE0990    
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1927.2 PAGE 23    
                  
      02027                   QUEUE2 BSS     2QL           STORAGE FOR DISK STRATEGY MODULE           IOPE0991    
      02027                   QUEUE3 BSS     3QL           STORAGE FOR TAPE STRATEGY MODULE           IOPE0992    
                                                                                                      IOPE0993    
                                     END                                                              IOPE0995    
                  
        LITERALS  
      02060  000000000000     
      02061  000000000001     
      02062  000000007777     
      02063  000000777777     
      02064  000001000001     
      02065  000003000003     
      02066  000007000000     
      02067  016021777777     
      02070  077777000000     
      02071  400000000000     
      02072  700000377777     
      02073  777777770000     
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1927.2 PAGE 1     
                        POST PROCESSOR ASSEMBLY DATA  
                  
       2074 IS THE FIRST LOCATION NOT USED BY THIS PROGRAM  
                  
0REFERENCES TO DEFINED SYMBOLS      
          0      B    17,  531,  533, 1173, 1435
       1207      Z    17, 1321, 1322, 1331, 1333, 1334
          4     P0   636,  666,  667,  670,  671,  672,  673,  674
         10     P1   636,  646,  656,  666
         20     P2   636,  637,  647,  657,  667
         40     P3   636,  637,  643,  647,  653,  654,  657,  663,  667,  673
        100     P4   636,  640,  644,  650,  654,  660,  664,  670,  674
        200     P5   636,  640,  650,  660,  670
        400     P6   636,  641,  651,  661,  671
       1000     P7   636,  641,  651,  661,  671
       2000     P8   636,  642,  643,  644,  652,  653,  654,  662,  663,  664,  672,  673,  674
       4000     P9   636,  642,  652,  662,  672
        133    1QL    17,   71, 1674
          0    2QL    17,   72, 2027
         31    3QL    17,   73, 2027
       1423    DTB  1350, 1364
        626    NOP      
          2    P11   636,  656,  657,  660,  661,  662,  663,  664
          1    P12   636,  646,  647,  650,  651,  652,  653,  654
        467    SKP   643,  644,  645,  653,  655,  663,  664,  665,  673,  674,  675
       1440    TMP  1356, 1361, 1425, 1430, 1432
        756   7TAG   752
          0   BTOC   145,  147
        541   CARD   501,  535,  536,  541
        472   DONE   430,  461
        326   EXIT     0,  304
       1173   HOME   106,  107,  110
        532   IOCD   507
        625   MQ.T   436,  467
        522   PEND   477,  504,  515
        511   PNOW   502
        623   PRSW   360,  363,  376,  411,  473
        523   PRX1   377
        524   PRX2   400
        525   PRX4   401,  403
        512   SPRA   416,  517
        506   SPRX   417
        361   STBL    17,   70, 1313
       1436   YEAR  1374
       1437  60THS  1363, 1367
        355  A1BAD   350,  351
        204  ATRAP    53
        217  BTRAP    54
        573  CBUF1   531,  540,  542
        543  CBUF2   421,  533,  537,  541
        636  CHRTB   441,  636
          5  CLOCK    17,  112,  125,  175, 1116
       1146  CMXSI   677,  710,  713,  722
          1  CTIME  1404
      10624  DELAY    17, 1324
       1143  DELTA  1124, 1130, 1133
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1927.2 PAGE 2     
                        POST PROCESSOR ASSEMBLY DATA  
                  
       1023  ENBSW    20,  740,  742,  774,  776
        344  EXIT1   355,  356
       1163  FERTN   275,  277,  300
         36  FIRST    30,   40
       1162  KEYSW   142,  144,  171
       1217  KREAD   146,  150,  152
        531  PRCM1   530,  535
        533  PRCM2   527
       1156  PRCOL   424,  451,  466
        531  PRCOM   513,  531
        357  PRINT     0,  302,  330
        531  PUCOM   476,  535
        362  PUNCH     0,  361
         10  SETAB   105
         17  SETIO     0
        115  SETX1    22
        116  SETX2    23
        117  SETX4    24
        631  SPRA9   516
       1310  TCOAB   261,  262, 1311
         12  TRAPA   212, 1103
         13  TRAPB   225
       1152  TRPMQ   762, 1016
       1155  TRPOV   766,  770, 1020
       1151  TRPSI   761, 1017
       1154  TRPSQ   765, 1011
          5  USTAT    67
        377  WPRPU   367
        357  WRFLX     0,  357
         13 ADCTRP    17,   56, 1030, 1031, 1041, 1064, 1065, 1073
       1115 ADDTIM   172,  240,  247
        773 ALLRST     0,  200,  233, 1111
        737 ALLSAV     0,  132,  207,  222,  724, 1102
        772 ALLXR4   743, 1000
       1144 ATLOST   704,  725,  730, 1025, 1037, 1077, 1104, 1106, 1110
        212 ATRAP1   731
         12 ATRLOC    17,  210, 1036
       1157 AUTHOR    26,  101
       1403 BADCLK  1332
        160 BADKEY   156
         15 BDCTRP    17,   57
         14 BTRLOC    17,  223
       1076 CHKCHA   371
          4 CHNGUS    65
       1112 CKXIR4  1101
       1470 CLKBAD  1407
       1161 CLKEYS   136,  137,  153,  163,  167
        127 CLKINT    52
          6 CLKLOC    17,  133
       1172 CLKTIM   122,  174, 1117
          7 CLKTRP    17,   55
        676 CMEXIT     0,  201,  234
        713 CMRTNB   707
       1145 CMXRTN   702,  712,  717
       1136 DATEYR    62,  243, 1375
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1927.2 PAGE 3     
                        POST PROCESSOR ASSEMBLY DATA  
                  
        624 DONESW   431,  472,  514
       1140 ELAPSE   251,  252, 1132, 1134
       1114 ENABLE     0,   32,   33,   64,  120,  244,  253,  260,  323,  372,  711,  714,  735
       1167 ENBIFA    35, 1032, 1066
        375 EPRINT     0,  151,  160,  164, 1406, 1410, 1415
       1223 EXITMS   331
        274 FERRTN     0
        320 FILOCK   316
        732 FILXIT     0
       1071 FORGET  1063
        246 GETELT     0
        237 GETIME     0
         61 HITRAP    17,   43,   44,   47,   50,  337,  341, 1225
        325 IGNINT   315,  317,  321
        233 IGNTRP   214,  227
        277 IOERTN    61
         14 IOFINI   326
          3 IOINIT    60
       1207 KEYSNG   161
        163 KEYSOK   157
        171 KEYSUP   141
       1307 LDFIOP   346
       1500 MMDDHH  1317, 1326, 1336, 1346, 1372, 1414, 1435
       1501 MMSS66  1320, 1353, 1405, 1421
       1174 NOERTN   303
        537 ORINBT   454,  537
       1201 PP21UP   165
          2 PRNTER   301
        500 PRNT.1   474
        420 PRPU.1   412
        432 PRPU.2   410,  471
        434 PRPU.3   470
        466 PRPU.4   462,  521
        473 PRPU.5   465
        373 PRPUX4   364
        514 PRT2.2   510
       1674 QUEUE1    71
       2027 QUEUE2    72
       2027 QUEUE3    73
       1336 RCLK4A  1345
       1376 RCLKX1  1315
       1377 RCLKX2  1314
       1400 RCLKX4  1313
       1317 RCLOC1  1402
       1324 RCLOC2  1330
       1333 RCLOC3  1327
       1335 RCLOC4  1422
       1340 RCLOC5  1344
       1355 RCLOC6  1370
       1402 RCLOC8  1343, 1352, 1366
       1435 RCLOCK  1322
       1313 RDCLOC    37, 1313
        231 RECTRP   216
       1072 RSCHA1  1070
       1047 RSTCHA   522
1       R. DALEY ..... PACKAGE TO ALLOW RUNNING OF FILE SYSTEM OUTSIDE OF CTSS   03/18/71 1927.2 PAGE 4     
                        POST PROCESSOR ASSEMBLY DATA  
                  
       1074 RSTCX4  1047
       1160 RTNLOC   134,  203,  211,  213,  224,  226,  231,  236,  721,  727
       1024 SAVCHA   402
       1307 SAVFMS    45,  340
       1142 SAVTOT  1122, 1125, 1126
       1441 SETMDH  1411
       1455 SETMS6  1416
          6 SETRAP    74
          7 SETUSR    76
        720 SIMTRP   705
        172 SKPKEY   143,  162,  170
        626 SPRTBL   415,  626
        322 SSTIR4   312
        310 SSTRAP    75
       1313 STATBL    70
        122 STCLOC   114,  177
        730 STZ.A)     0
       1040 SVCHA1  1034
       1042 SVCHA2  1026
       1165 SVCHAN  1042, 1051
       1166 SVIOCK  1043, 1045, 1060
         11 TAPKEY   166
        305 TILOCK     0
       1137 TIMNOW    63,  111,  113,  242, 1127, 1131, 1371, 1403
       1141 TOTTIM   173,  176, 1121
       1167 TPFLAG   232,  264,  265, 1107, 1170
        255 TPWAIT     0
       1001 TRPIR1   744
       1002 TRPIR2   745
       1003 TRPIR3   746,  755
       1147 TRPIR4   131,  202,  206,  221,  235,  723
       1004 TRPIR5   756
       1005 TRPIR6   757
       1006 TRPIR7   760
       1153 TRPLAC   763, 1015
       1150 TRPMTM   751,  753, 1007
       1035 TSTRAP  1027
        266 TWATX4   255
       1164 UILOCK   306,  320,  324
        375 WRTOPR     0,  375
                  
0 NO ERROR IN ABOVE ASSEMBLY. 




DDIO4C   BCD 02/22/71 1532.9   16676         00000    
1       M1416 786   R. DALEY .... DISK/DRUM INPUT/OUTPUT PACKAGE FOR 2302/7320   01/14/71 1211.0 PAGE 1     
                  
                       00015         ENTRY   .DINIT        TO INITIALIZE DISK/DRUM CHANNELS           DDIO0004    
                       00107         ENTRY   .DWAIT        TO WAIT UNTIL PREVIOUS I/O COMPLETED       DDIO0005    
                       00050         ENTRY   .REFER        TO REFER CONTROL ON COMPLETED I/O          DDIO0006    
                       00054         ENTRY   .SETER        TO REFER CONTROL ON I/O ERROR FROM .DWAIT  DDIO0007    
                       00063         ENTRY   .DRSET        TO RESTART STRAT. MOD. AFTER LOST TRAPS    DDIO0008    
                       00066         ENTRY   .FORCE        TO FORCE TRAP IF NO I/O IN OPERATION       DDIO0009    
                       00130         ENTRY   .WRFMT        TO WRITE WITH FORMAT OPERATION             DDIO0010    
                       00145         ENTRY   .WRHAO        TO WRITE WITH HA1 OPERATION                DDIO0011    
                       00162         ENTRY   .WRTRO        TO WRITE WITH FULL TRACK OPERATION         DDIO0012    
                       00200         ENTRY   .WRCYL        TO WRITE WITH CYLINDER OPERATION           DDIO0013    
                       00216         ENTRY   .DWRIT        TO WRITE WITH SINGLE RECORD OPERATION      DDIO0014    
                       00367         ENTRY   .DWRCK        TO WRITE-CHECK PREVIOUS WRITE OPERATION    DDIO0015    
                       00233         ENTRY   .RDHAO        TO READ WITH HA1 OPERATION                 DDIO0016    
                       00250         ENTRY   .RDTRO        TO READ WITH FULL TRACK OPERATION          DDIO0017    
                       00266         ENTRY   .RDCYL        TO READ WITH CYLINDER OPERATION            DDIO0018    
                       00304         ENTRY   .DREAD        TO READ WITH SINGLE RECORD OPERATION       DDIO0019    
                       00473         ENTRY   .UNPAK        TO UNPACK RECORD ADDRESS                   DDIO0020    
                       00443         ENTRY   .PACK         TO PACK RECORD ADDRESS INTO 18 BITS        DDIO0021    
                                                                                                      DDIO0022    
                                     EXTERN  ALLSAV,ALLRST,WRTOPR,CMEXIT                              DDIO0023    
                                                                                                      DDIO0024    
                  
        TRANSFER VECTOR 
      00000  214343622165     ALLSAV
      00001  214343516263     ALLRST
      00002  665163464751     WRTOPR
      00003  234425673163     CMEXIT
                  
                       00003  CHANLS EQU     3             NO. OF CHANNELS                            DDIO0025    
                       00062  BSZ    EQU     50            SIZE OF DRAIN BUFFER (FOR 'ION')           DDIO0026    
                       00000  B      EQU     0             MEMORY B SWITCH ('0' FOR A, '1' FOR B)     DDIO0027    
                       00000  IOSMOD EQU     0             NON-ZERO IF I/O ADAPTER PART OF FILE SYSTEMDDIO0028    
                      000004  DENB   BOOL    4             DISK/DRUM ENABLE WORD, CHANNEL C ONLY      DDIO0029    
                                                                                                      DDIO0030    
                                                           DISK/DRUM MODULE TABLE                     DDIO0031    
                                                                                                      DDIO0032    
      00004 +000003001212     MODTBL OCT     3001212       ACCESS 0, MODULE 0, CHANNEL C              DDIO0033    
      00005 +000003000112            OCT     3000112       ACCESS 1, MODULE 0, CHANNEL C              DDIO0034    
      00006 +000003001201            OCT     3001201       ACCESS 0, MODULE 1, CHANNEL C              DDIO0035    
      00007 +000003000101            OCT     3000101       ACCESS 1, MODULE 1, CHANNEL C              DDIO0036    
      00010 +000003001204            OCT     3001204       ACCESS 0, MODULE 4, CHANNEL C              DDIO0037    
      00011 +000003000104            OCT     3000104       ACCESS 1, MODULE 4, CHANNEL C              DDIO0038    
      00012 +000003001205            OCT     3001205       ACCESS 0, MODULE 5, CHANNEL C              DDIO0039    
      00013 +000003000105            OCT     3000105       ACCESS 1, MODULE 5, CHANNEL C              DDIO0040    
      00014 -000003001202            OCT     -3001202      ACCESS 0, MODULE 2, CHANNEL C              DDIO0041    
                       00010  HIMOD  EQU     *-MODTBL-1    HIGHEST LOGICAL MODULE NUMBER              DDIO0042    
                                                                                                      DDIO0043    
                              WHEN   MACRO   A,TFIND,LOC,OP,ADDR,TAG,DECR    WHENEVER MACRO           DDIO0044    
                                     IFF     1,TFIND,T                                                DDIO0045    
                                     GENIF   A,0,0,LOC,OP,ADDR,TAG,DECR,                              DDIO0046    
                                     IFF     1,TFIND,F                                                DDIO0047    
                                     GENIF   A,0,1,LOC,OP,ADDR,TAG,DECR,                              DDIO0048    
                              WHEN   END                                                              DDIO0049    
                                                                                                      DDIO0050    
                              GENIF  MACRO   IF1,IF2,IF3,LOC,OP,ADDR,TAG,DECR                         DDIO0051    
                                     IFF     IF1,IF2,IF3                                              DDIO0052    
1       M1416 786   R. DALEY .... DISK/DRUM INPUT/OUTPUT PACKAGE FOR 2302/7320   01/14/71 1211.0 PAGE 2     
                  
                                     GENOP   LOC,OP,ADDR,TAG,DECR,                                    DDIO0053    
                              GENIF  END                                                              DDIO0054    
                                                                                                      DDIO0055    
                              GENOP  MACRO   LOC,OP,ADDR,TAG,DECR   GENERATE OPERATION                DDIO0056    
                                     PMC     ON                                                       DDIO0057    
                              LOC    OP      ADDR,TAG,DECR                                            DDIO0058    
                                     PMC     OFF                                                      DDIO0059    
                              GENOP  END                                                              DDIO0060    
                                                                                                      DDIO0061    
                              OVLBGN MACRO                 USED AT START OF SECTION TO BE OVERLAPPED  DDIO0062    
                                     IFF     IOSMOD        .. OVERLAP IF IOSMOD .G. 0                 DDIO0063    
                                     UNLIST                .. SUSPEND LISTING OF OVERLAPPED SECTION   DDIO0064    
                                     IFF     IOSMOD        ..                                         DDIO0065    
                              OVLORG SET     *             .. SAVE CURRENT LOCATION COUNTER           DDIO0066    
                              OVLBGN END                                                              DDIO0067    
                                                                                                      DDIO0068    
                              OVLEND MACRO                 USED AT END OF SECTION TO BE OVERLAPPED    DDIO0069    
                                     IFF     IOSMOD        ..                                         DDIO0070    
                                     ORG     OVLORG        .. RE-ORIGIN AT SAVED LOCATION COUNTER     DDIO0071    
                                     IFF     IOSMOD        ..                                         DDIO0072    
                                     LIST                  .. RESTORE LISTING                         DDIO0073    
                              OVLEND END                                                              DDIO0074    
                                                                                                      DDIO0075    
1       M1416 786   R. DALEY .... DISK/DRUM INPUT/OUTPUT PACKAGE FOR 2302/7320   01/14/71 1211.0 PAGE 3     
                  
                                                                                                      DDIO0077    
                                             .DINIT .... INITIALIZATION ENTRY FOR DISK/DRUM ADAPTER   DDIO0078    
                                                                                                      DDIO0079    
      00015  0760 00 0 00016  .DINIT LMTM                  INITIALIZE DISK/DRUM CHANNELS              DDIO0080    
      00016 -0500 60 4 00001         CAL*    1,4           GET LOCATION OF COMMON ENABLE WORD         DDIO0081    
      00017  0621 00 0 01040         STA     ENABLE        .. AND SAVE IT                             DDIO0082    
      00020 -0774 00 6 00001         AXC     1,6           INITIALIZE CHANNEL POINTER                 DDIO0083    
      00021  0774 00 7 00003         AXT     CHANLS,7      NO. OF CHANNELS TO IR7                     DDIO0084    
      00022  0441 00 0 01041         LDI     DTRAP.        TRA ON TRAP TO SI                          DDIO0085    
      00023  0560 00 0 01020         LDQ     DINTR.        TCH ON INTERRUPT TO MQ                     DDIO0086    
      00024 -0500 00 0 01037  DI1    CAL     DENBWD        SET UP DISK/DRUM CHANNELS                  DDIO0087    
      00025  0771 00 7 00003         ARS     CHANLS,7      ..                                         DDIO0088    
      00026  0760 00 0 00001         LBT                   ..                                         DDIO0089    
      00027  0020 00 0 00042         TRA     DI2           .. SKIP IF NO DISK/DRUM ON THIS CHANNEL    DDIO0090    
      00030 -0500 00 6 01104         CAL     CTIL,6        ..                                         DDIO0091    
      00031                          WHEN    B,T,,SEA,,,,, ..                                         DDIO0092    
      00031  0737 00 5 00000         PAC     0,5           .. SET UP TRAP LOCATIONS                   DDIO0093    
      00032  0600 00 5 00000         STZ     0,5           ..                                         DDIO0094    
      00033  0604 00 5 00001         STI     1,5           ..                                         DDIO0095    
      00034 -0737 00 5 00000         PDC     0,5           .. SET UP CHANNEL INTERRUPT LOCATIONS      DDIO0096    
      00035  0600 00 5 00000         STZ     0,5           ..                                         DDIO0097    
      00036 -0600 00 5 00001         STQ     1,5           ..                                         DDIO0098    
      00037                          WHEN    B,T,,SEB,,,,, ..                                         DDIO0099    
      00037  0522 00 6 01073         XEC     RICOP,6       .. RESET THIS CHANNEL                      DDIO0100    
      00040 -0774 00 5 01016         AXC     SETUP,5       .. AND                                     DDIO0101    
      00041  0522 00 6 01076         XEC     RSCOP,6       .. SET CHANNEL IN 6-BIT MODE               DDIO0102    
      00042 -2 00001 7 00044  DI2    TNX     *+2,7,1       ..                                         DDIO0103    
      00043  1 77777 6 00024         TXI     DI1,6,-1      ..                                         DDIO0104    
      00044 -0500 00 0 01037         CAL     DENBWD        ADD DISK/DRUM ENABLE TO COMMON ENABLE WORD DDIO0105    
      00045 -0602 60 0 01040         ORS*    ENABLE        .. TO COMMON ENABLE WORD                   DDIO0106    
      00046  0564 60 0 01040         ENB*    ENABLE        ENABLE FOR ALL TRAPS                       DDIO0107    
      00047  0020 00 4 00002         TRA     2,4           AND RETURN                                 DDIO0108    
                                                                                                      DDIO0109    
1       M1416 786   R. DALEY .... DISK/DRUM INPUT/OUTPUT PACKAGE FOR 2302/7320   01/14/71 1211.0 PAGE 4     
                  
                                                                                                      DDIO0111    
      00050 -0500 00 4 00001  .REFER CAL     1,4           ENTRY TO REFER ALL TRAPS TO USER           DDIO0112    
      00051  0621 00 0 01072         STA     USRTRP        .. AT LOCATION SPECIFIED BY 1,4            DDIO0113    
      00052  0621 00 0 01067         STA     REFRSW        ..                                         DDIO0114    
      00053  0020 00 4 00002         TRA     2,4                                                      DDIO0115    
                                                                                                      DDIO0116    
      00054 -0500 00 4 00001  .SETER CAL     1,4           ENTRY TO SET USER ENTRY ON DISK/DRUM ERROR DDIO0117    
      00055 -0320 00 0 01221         ANA     =O77777       .. GET ADDRESS OF USER ERROR ROUTINE       DDIO0118    
      00056 -0100 00 0 00060         TNZ     *+2           .. SKIP IF ADDRESS PROVIDED                DDIO0119    
      00057 -0500 00 0 01222         CAL     =O400001      .. OTHERWISE SUBSTITUTE TRA 1,4            DDIO0120    
      00060  0621 00 0 01073         STA     UERROR        .. SET UP CALL TO USER                     DDIO0121    
      00061  0625 00 0 01073         STT     UERROR        .. ON ALL DISK/DRUM ERROS                  DDIO0122    
      00062  0020 00 4 00002         TRA     2,4                                                      DDIO0123    
                                                                                                      DDIO0124    
      00063  0600 00 0 01056  .DRSET STZ     BUSY          BLAST OUT BUSY FLAG                        DDIO0125    
      00064 -0500 00 0 01216         CAL     =2            ERROR CALL IF TRAP EXPECTED BY STRAT. MOD. DDIO0126    
      00065  0020 00 0 00071         TRA     FRC1          ..                                         DDIO0127    
                                                                                                      DDIO0128    
      00066  0520 00 0 01056  .FORCE ZET     BUSY          ENTRY TO FORCE TRAP IF CHANNELS INACTIVE   DDIO0129    
      00067  0020 00 4 00001         TRA     1,4           RETURN IF CHANNELS BUSY                    DDIO0130    
      00070 -0754 00 0 00000         PXD     ,0            NO ERRORS                                  DDIO0131    
      00071 -0520 00 0 01067  FRC1   NZT     REFRSW        IS USER INTERRUPT PROCEDURE DEFINED        DDIO0132    
      00072  0020 00 4 00001         TRA     1,4           NO, RETURN                                 DDIO0133    
      00073  0564 00 0 01214         ENB     =0            YES, DISABLE ALL TRAPS                     DDIO0134    
      00074  0602 00 0 01070         SLW     FRCTMP        SAVE ERROR FLAG                            DDIO0135    
      00075 -0625 00 0 01066         STL     TRAPSW        INDICATE TRAP IN PROCESS                   DDIO0136    
      00076  0634 00 4 00103         SXA     FRCIR4,4      SAVE IR4                                   DDIO0137    
      00077  0074 00 4 00000         TSX     ALLSAV,4      SAVE REST OF MACHINE CONDITIONS            DDIO0138    
      00100  0074 00 4 01072         TSX     USRTRP,4      GO TO USER INTERRUPT PROCEDURE             DDIO0139    
      00101  3 00000 0 01070         PTH     FRCTMP        .. ERROR FLAG                              DDIO0140    
      00102  0074 00 4 00001         TSX     ALLRST,4      RESTORE MACHINE CONDITIONS                 DDIO0141    
      00103  0774 00 4 00000  FRCIR4 AXT     **,4          ..                                         DDIO0142    
      00104  0600 00 0 01066         STZ     TRAPSW        CLEAR TRAP-IN-PROCESS INDICATOR            DDIO0143    
      00105  0564 60 0 01040         ENB*    ENABLE        REENABLE ALL TRAPS                         DDIO0144    
      00106  0020 00 4 00001         TRA     1,4           AND RETURN                                 DDIO0145    
                                                                                                      DDIO0146    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  DDIO0147    
                                                                                                      DDIO0148    
      00107  0074 00 7 00113  .DWAIT TSX     DWAIT,7       ENTRY TO WAIT UNTIL I/O COMPLETED          DDIO0149    
      00110 -0520 00 0 01066         NZT     TRAPSW        RESTORE STATUS OF ENABLE REGISTER          DDIO0150    
      00111  0564 60 0 01040         ENB*    ENABLE        IF NECESSARY                               DDIO0151    
      00112  0020 00 4 00001         TRA     1,4           RETURN WHEN DONE                           DDIO0152    
                                                                                                      DDIO0153    
      00113 -0520 00 0 01066  DWAIT  NZT     TRAPSW        IS ROUTINE CALLED DURING TRAP-TIME         DDIO0154    
      00114  0564 60 0 01040         ENB*    ENABLE        NO, MAKE SURE TRAPS CAN BE TAKEN           DDIO0155    
      00115  0520 00 0 01056         ZET     BUSY          LOOP UNTIL CHANNEL IS FREE                 DDIO0156    
      00116  0020 00 0 00115         TRA     *-1           ..                                         DDIO0157    
      00117  0564 00 0 01214         ENB     =0            NOW DISABLE ALL TRAPS DURING FOLLOWING OPERDDIO0158    
      00120 -0520 00 0 01062         NZT     ERROR         WAS THERE AN ERROR                         DDIO0159    
      00121  0020 00 7 00001         TRA     1,7           NO, RETURN                                 DDIO0160    
      00122  0634 00 4 00126         SXA     DWAITX,4      YES, SAVE USER'S IR4                       DDIO0161    
      00123 -0500 00 0 01062         CAL     ERROR         PICK UP ERROR FLAG                         DDIO0162    
      00124  0600 00 0 01062         STZ     ERROR         AND RESET ERROR                            DDIO0163    
      00125  0074 00 4 01073         TSX     UERROR,4      CALL USER'S ERROR ROUTINE (FLAG IN AC)     DDIO0164    
      00126  0774 00 4 00000  DWAITX AXT     **,4          RESTORE USER'S IR4                         DDIO0165    
      00127  0020 00 7 00001         TRA     1,7           AND RETURN TO CALLER                       DDIO0166    
1       M1416 786   R. DALEY .... DISK/DRUM INPUT/OUTPUT PACKAGE FOR 2302/7320   01/14/71 1211.0 PAGE 5     
                  
                                                                                                      DDIO0168    
      00130                          OVLBGN                                                           DDIO0169    
                                                                                                      DDIO0170    
      00130  0074 00 7 00113  .WRFMT TSX     DWAIT,7       ENTRY TO WRITE FORMAT TRACK                DDIO0171    
      00131  0074 00 7 00404         TSX     CVTRK,7       CONVERT USER RECORD ADDRESS                DDIO0172    
      00132 -0765 00 0 00014         LGR     12            LAST TWO CHARACTERS ALREADY IN MQ          DDIO0173    
      00133  0441 00 0 01030         LDI     DSEK          SET UP SEEK ORDER                          DDIO0174    
      00134  0043 00 0 00000         OAI                   ORD-ORD-ACC-MOD-TRK-TRK, TRK-TRK-----      DDIO0175    
      00135  0604 00 0 01042         STI     SEEKW         ..                                         DDIO0176    
      00136 -0600 00 0 01043         STQ     SEEKW+1       ..                                         DDIO0177    
      00137  0441 00 0 01032         LDI     DWRF          SET UP WRITE FORMAT ORDER                  DDIO0178    
      00140  0043 00 0 00000         OAI                   ORD-ORD-ACC-MOD-TRK-TRK, TRK-TRK-----      DDIO0179    
      00141  0604 00 0 01044         STI     R.WORD        ..                                         DDIO0180    
      00142 -0600 00 0 01045         STQ     R.WORD+1      ..                                         DDIO0181    
      00143 -0500 00 0 01025         CAL     CTLW          LOAD WRITE COMMAND                         DDIO0182    
      00144  0020 00 0 00320         TRA     SETCOM        GO SET UP FOR WRITE OPERATION              DDIO0183    
                                                                                                      DDIO0184    
      00145  0074 00 7 00113  .WRHAO TSX     DWAIT,7       ENTRY TO WRITE WITH HOME ADDRESS OPERATION DDIO0185    
      00146  0074 00 7 00404         TSX     CVTRK,7       CONVERT USER RECORD ADDRESS                DDIO0186    
      00147 -0765 00 0 00014         LGR     12            LAST TWO CHARACTERS ALREADY IN MQ          DDIO0187    
      00150  0441 00 0 01030         LDI     DSEK          SET UP SEEK ORDER                          DDIO0188    
      00151  0043 00 0 00000         OAI                   ORD-ORD-ACC-MOD-TRK-TRK, TRK-TRK-----      DDIO0189    
      00152  0604 00 0 01042         STI     SEEKW         ..                                         DDIO0190    
      00153 -0600 00 0 01043         STQ     SEEKW+1       ..                                         DDIO0191    
      00154  0441 00 0 01036         LDI     DVHA          SET UP WRITE HOME ADDRESS ORDER            DDIO0192    
      00155  0043 00 0 00000         OAI                   ORD-ORD-ACC-MOD-TRK-TRK, TRK-TRK-----      DDIO0193    
      00156  0604 00 0 01044         STI     R.WORD        ..                                         DDIO0194    
      00157 -0600 00 0 01045         STQ     R.WORD+1      ..                                         DDIO0195    
      00160 -0500 00 0 01025         CAL     CTLW          LOAD WRITE COMMAND                         DDIO0196    
      00161  0020 00 0 00320         TRA     SETCOM        GO SET UP FOR WRITE OPERATION              DDIO0197    
                                                                                                      DDIO0198    
      00162  0074 00 7 00113  .WRTRO TSX     DWAIT,7       ENTRY TO WRITE FULL TRACK WITH ADDRESSES   DDIO0199    
      00163  0074 00 7 00404         TSX     CVTRK,7       CONVERT USER RECORD ADDRESS                DDIO0200    
      00164  0560 00 0 01240         LDQ     =HXX0000      HA2 REPLACES LAST CHARACTERS OF RECORD ADDRDDIO0201    
      00165 -0765 00 0 00014         LGR     12            LOW-ORDER TRACK ADDRESS TO MQ              DDIO0202    
      00166  0441 00 0 01030         LDI     DSEK          SET UP SEEK ORDER                          DDIO0203    
      00167  0043 00 0 00000         OAI                   ORD-ORD-ACC-MOD-TRK-TRK, TRK-TRK-----      DDIO0204    
      00170  0604 00 0 01042         STI     SEEKW         ..                                         DDIO0205    
      00171 -0600 00 0 01043         STQ     SEEKW+1       ..                                         DDIO0206    
      00172  0441 00 0 01035         LDI     DVTA          SET UP TRACK WITH ADDRESSES ORDER          DDIO0207    
      00173  0043 00 0 00000         OAI                   ORD-ORD-ACC-MOD-TRK-TRK, TRK-TRK-HA2-HA2---DDIO0208    
      00174  0604 00 0 01044         STI     R.WORD        ..                                         DDIO0209    
      00175 -0600 00 0 01045         STQ     R.WORD+1      ..                                         DDIO0210    
      00176 -0500 00 0 01025         CAL     CTLW          LOAD WRITE COMMAND                         DDIO0211    
      00177  0020 00 0 00320         TRA     SETCOM        GO SET UP FOR WRITE OPERATION              DDIO0212    
                                                                                                      DDIO0213    
      00200  0074 00 7 00113  .WRCYL TSX     DWAIT,7       ENTRY TO WRITE WITH CYLINDER OPERATION     DDIO0214    
      00201  0074 00 7 00404         TSX     CVTRK,7       CONVERT USER RECORD ADDRESS                DDIO0215    
      00202  0560 00 0 01240         LDQ     =HXX0000      HA2 REPLACES LAST CHARS OF RECORD ADDRESS  DDIO0216    
      00203 -0765 00 0 00014         LGR     12            LOW-ORDER TRACK ADDRESS TO MQ              DDIO0217    
      00204  0441 00 0 01030         LDI     DSEK          SET UP SEEK ORDER                          DDIO0218    
      00205  0043 00 0 00000         OAI                   ORD-ORD-ACC-MOD-TRK-TRK, TRK-TRK-----      DDIO0219    
      00206  0604 00 0 01042         STI     SEEKW         ..                                         DDIO0220    
      00207 -0600 00 0 01043         STQ     SEEKW+1       ..                                         DDIO0221    
      00210  0441 00 0 01033         LDI     DVCY          SET UP CYLINDER OPERATION                  DDIO0222    
      00211  0043 00 0 00000         OAI                   ORD-ORD-ACC-MOD-TRK-TRK, TRK-TRK-HA2-HA2---DDIO0223    
1       M1416 786   R. DALEY .... DISK/DRUM INPUT/OUTPUT PACKAGE FOR 2302/7320   01/14/71 1211.0 PAGE 6     
                  
      00212  0604 00 0 01044         STI     R.WORD        ..                                         DDIO0224    
      00213 -0600 00 0 01045         STQ     R.WORD+1      ..                                         DDIO0225    
      00214 -0500 00 0 01025         CAL     CTLW          LOAD WRITE COMMAND                         DDIO0226    
      00215  0020 00 0 00320         TRA     SETCOM        GO SET UP FOR WRITE OPERATION              DDIO0227    
                                                                                                      DDIO0228    
      00216                          OVLEND                                                           DDIO0229    
                                                                                                      DDIO0230    
      00216  0074 00 7 00113  .DWRIT TSX     DWAIT,7       ENTRY TO WRITE SINGLE RECORD               DDIO0231    
      00217  0074 00 7 00404         TSX     CVTRK,7       CONVERT USER RECORD ADDRESS                DDIO0232    
      00220 -0765 00 0 00014         LGR     12            LAST TWO CHARACTERS ALREADY IN MQ          DDIO0233    
      00221  0441 00 0 01030         LDI     DSEK          SET UP SEEK ORDER                          DDIO0234    
      00222  0043 00 0 00000         OAI                   ORD-ORD-ACC-MOD-TRK-TRK, TRK-TRK-----      DDIO0235    
      00223  0604 00 0 01042         STI     SEEKW         ..                                         DDIO0236    
      00224 -0600 00 0 01043         STQ     SEEKW+1       ..                                         DDIO0237    
      00225  0441 00 0 01031         LDI     DVSR          SET UP SINGLE RECORD ORDER                 DDIO0238    
      00226  0043 00 0 00000         OAI                   ORD-ORD-ACC-MOD-REC-REC, REC-REC-REC-REC---DDIO0239    
      00227  0604 00 0 01044         STI     R.WORD        ..                                         DDIO0240    
      00230 -0600 00 0 01045         STQ     R.WORD+1      ..                                         DDIO0241    
      00231 -0500 00 0 01025         CAL     CTLW          LOAD WRITE COMMAND                         DDIO0242    
      00232  0020 00 0 00320         TRA     SETCOM        GO SET UP FOR WRITE OPERATION              DDIO0243    
                                                                                                      DDIO0244    
      00233                          OVLBGN                                                           DDIO0245    
                                                                                                      DDIO0246    
      00233  0074 00 7 00113  .RDHAO TSX     DWAIT,7       ENTRY TO READ WITH HOME ADDRESS 2          DDIO0247    
      00234  0074 00 7 00404         TSX     CVTRK,7       CONVERT USER RECORD ADDRESS                DDIO0248    
      00235 -0765 00 0 00014         LGR     12            LAST TWO CHARACTERS ALREADY IN MQ          DDIO0249    
      00236  0441 00 0 01030         LDI     DSEK          SET UP SEEK ORDER                          DDIO0250    
      00237  0043 00 0 00000         OAI                   ORD-ORD-ACC-MOD-TRK-TRK, TRK-TRK-----      DDIO0251    
      00240  0604 00 0 01042         STI     SEEKW         ..                                         DDIO0252    
      00241 -0600 00 0 01043         STQ     SEEKW+1       ..                                         DDIO0253    
      00242  0441 00 0 01036         LDI     DVHA          SET READ HOME ADDRESS ORDER                DDIO0254    
      00243  0043 00 0 00000         OAI                   ORD-ORD-ACC-MOD-TRK-TRK, TRK-TRK-----      DDIO0255    
      00244  0604 00 0 01044         STI     R.WORD        ..                                         DDIO0256    
      00245 -0600 00 0 01045         STQ     R.WORD+1      ..                                         DDIO0257    
      00246 -0500 00 0 01024         CAL     CTLR          LOAD READ COMMAND                          DDIO0258    
      00247  0020 00 0 00320         TRA     SETCOM        GO SET UP FOR READ OPERATION               DDIO0259    
                                                                                                      DDIO0260    
      00250  0074 00 7 00113  .RDTRO TSX     DWAIT,7       ENTRY TO READ FULL TRACK WITH ADDRESSES    DDIO0261    
      00251  0074 00 7 00404         TSX     CVTRK,7       CONVERT USER RECORD ADDRESS                DDIO0262    
      00252  0560 00 0 01240         LDQ     =HXX0000      HA2 REPLACES LAST CHARACTERS OF RECORD ADDRDDIO0263    
      00253 -0765 00 0 00014         LGR     12            LOW-ORDER TRACK ADDRESS TO MQ              DDIO0264    
      00254  0441 00 0 01030         LDI     DSEK          SET UP SEEK ORDER                          DDIO0265    
      00255  0043 00 0 00000         OAI                   ORD-ORD-ACC-MOD-TRK-TRK, TRK-TRK-----      DDIO0266    
      00256  0604 00 0 01042         STI     SEEKW         ..                                         DDIO0267    
      00257 -0600 00 0 01043         STQ     SEEKW+1       ..                                         DDIO0268    
      00260  0441 00 0 01035         LDI     DVTA          SET UP TRACK WITH ADDRESSES ORDER          DDIO0269    
      00261  0043 00 0 00000         OAI                   ORD-ORD-ACC-MOD-TRK-TRK, TRK-TRK-HA2-HA2---DDIO0270    
      00262  0604 00 0 01044         STI     R.WORD        ..                                         DDIO0271    
      00263 -0600 00 0 01045         STQ     R.WORD+1      ..                                         DDIO0272    
      00264 -0500 00 0 01024         CAL     CTLR          LOAD READ COMMAND                          DDIO0273    
      00265  0020 00 0 00320         TRA     SETCOM        GO SET UP FOR READ OPERATION               DDIO0274    
                                                                                                      DDIO0275    
      00266  0074 00 7 00113  .RDCYL TSX     DWAIT,7       ENTRY TO READ WITH CYLINDER OPERATION      DDIO0276    
      00267  0074 00 7 00404         TSX     CVTRK,7       CONVERT USER RECORD ADDRESS                DDIO0277    
      00270  0560 00 0 01240         LDQ     =HXX0000      HA2 REPLACES LAST CHARS OF RECORD ADDRESS  DDIO0278    
      00271 -0765 00 0 00014         LGR     12            LOW-ORDER TRACK ADDRESS TO MQ              DDIO0279    
1       M1416 786   R. DALEY .... DISK/DRUM INPUT/OUTPUT PACKAGE FOR 2302/7320   01/14/71 1211.0 PAGE 7     
                  
      00272  0441 00 0 01030         LDI     DSEK          SET UP SEEK ORDER                          DDIO0280    
      00273  0043 00 0 00000         OAI                   ORD-ORD-ACC-MOD-TRK-TRK, TRK-TRK-----      DDIO0281    
      00274  0604 00 0 01042         STI     SEEKW         ..                                         DDIO0282    
      00275 -0600 00 0 01043         STQ     SEEKW+1       ..                                         DDIO0283    
      00276  0441 00 0 01033         LDI     DVCY          SET UP CYLINDER OPERATION                  DDIO0284    
      00277  0043 00 0 00000         OAI                   ORD-ORD-ACC-MOD-TRK-TRK, TRK-TRK-HA2-HA2---DDIO0285    
      00300  0604 00 0 01044         STI     R.WORD        ..                                         DDIO0286    
      00301 -0600 00 0 01045         STQ     R.WORD+1      ..                                         DDIO0287    
      00302 -0500 00 0 01024         CAL     CTLR          LOAD READ COMMAND                          DDIO0288    
      00303  0020 00 0 00320         TRA     SETCOM        GO SET UP FOR READ OPERATION               DDIO0289    
                                                                                                      DDIO0290    
      00304                          OVLEND                                                           DDIO0291    
                                                                                                      DDIO0292    
      00304  0074 00 7 00113  .DREAD TSX     DWAIT,7       ENTRY TO READ SINGLE RECORD                DDIO0293    
      00305  0074 00 7 00404         TSX     CVTRK,7       CONVERT USER RECORD ADDRESS                DDIO0294    
      00306 -0765 00 0 00014         LGR     12            LAST TWO CHARACTERS ALREADY IN MQ          DDIO0295    
      00307  0441 00 0 01030         LDI     DSEK          SET UP SEEK ORDER                          DDIO0296    
      00310  0043 00 0 00000         OAI                   ORD-ORD-ACC-MOD-TRK-TRK, TRK-TRK-----      DDIO0297    
      00311  0604 00 0 01042         STI     SEEKW         ..                                         DDIO0298    
      00312 -0600 00 0 01043         STQ     SEEKW+1       ..                                         DDIO0299    
      00313  0441 00 0 01031         LDI     DVSR          SET UP SINGLE RECORD ORDER                 DDIO0300    
      00314  0043 00 0 00000         OAI                   ORD-ORD-ACC-MOD-REC-REC, REC-REC-REC-REC---DDIO0301    
      00315  0604 00 0 01044         STI     R.WORD        ..                                         DDIO0302    
      00316 -0600 00 0 01045         STQ     R.WORD+1      ..                                         DDIO0303    
      00317 -0500 00 0 01024         CAL     CTLR          LOAD READ COMMAND                          DDIO0304    
                                                                                                      DDIO0305    
      00320  0602 00 0 00746  SETCOM SLW     CTLR.W        SET READ OR WRITE COMMAND IN CHANNEL PROG. DDIO0306    
      00321 -0500 00 4 00001         CAL     1,4           EFFECTIVE ADDRESS (EFA PTR,T)              DDIO0307    
      00322  0625 00 0 00323         STT     *+1           COMPUTE EFFECTIVE ADDRESS                  DDIO0308    
      00323  0756 00 0 00000         PCA     0,**          ..                                         DDIO0309    
      00324  0361 00 4 00001         ACL     1,4           ..                                         DDIO0310    
      00325  0737 00 6 00000         PAC     0,6           -POINTER TO IR6                            DDIO0311    
      00326 -0774 00 5 00000         AXC     0,5                                                      DDIO0312    
      00327  0441 00 6 00001  GETCM1 LDI     1,6           GET FIRST OR NEXT COMMAND FROM USER'S LIST DDIO0313    
      00330 -0054 00  700000         LFT     700000        IS IT 'IOD' (PREFIX ZERO)                  DDIO0314    
      00331  1 77777 6 00342         TXI     GETCM3,6,-1   NO, GO SET UP CPYP FOR THIS COMMAND        DDIO0315    
      00332  3 00000 5 00335         TXH     GETCM2,5,0    YES, SKIP IF AT LEAST ONE COMMAND FOUND    DDIO0316    
      00333  0600 00 5 00747         STZ     COPYPR,5      OTHERWISE ZERO FIRST COPY COMMAND          DDIO0317    
      00334  1 77777 5 00335         TXI     GETCM2,5,-1   AND BUMP POINTER                           DDIO0318    
      00335 -0500 00 0 01027  GETCM2 CAL     CPYD          CHANGE LAST CPYP TO CPYD COMMAND           DDIO0319    
      00336 -0602 00 5 00746         ORS     COPYPR-1,5    ..                                         DDIO0320    
      00337 -0500 00 0 01021         CAL     TWT           SET UP TWT AT END OF COPY COMMANDS         DDIO0321    
      00340  0602 00 5 00747         SLW     COPYPR,5      ..                                         DDIO0322    
      00341  0020 00 0 00362         TRA     STCHAN        GO START UP DISK/DRUM CHANNEL PROGRAM      DDIO0323    
                                                                                                      DDIO0324    
      00342 -0056 00  200000  GETCM3 LNT     200000        IS COMMAND 'IOP' (PTW)                     DDIO0325    
      00343  0020 00 0 00350         TRA     GETCM4        NO, SKIP                                   DDIO0326    
      00344  0445 00 0 01241         RIS     =O700000600000  YES                                      DDIO0327    
      00345  0442 00 0 01026         OSI     CPYP          .. CHANGE TO CPYP                          DDIO0328    
      00346  0604 00 5 00747         STI     COPYPR,5      AND SAVE IN CHANNEL PROGRAM                DDIO0329    
      00347  1 77777 5 00327         TXI     GETCM1,5,-1   GO BACK TO CHECK FOR NEXT COMMAND          DDIO0330    
                                                                                                      DDIO0331    
      00350 -0046 00 0 00000  GETCM4 PIA                   HERE FOR 'ION' (PON)                       DDIO0332    
      00351 -0734 00 7 00000         PDX     0,7           WORD COUNT TO IR7                          DDIO0333    
      00352 -2 00062 7 00356  GETCM5 TNX     GETCM6,7,BSZ  SKIP IF .LE. BSZ                           DDIO0334    
      00353 -0500 00 0 01022         CAL     DRN1          OTHERWISE, DRAIN OFF 'BSZ' WORDS           DDIO0335    
1       M1416 786   R. DALEY .... DISK/DRUM INPUT/OUTPUT PACKAGE FOR 2302/7320   01/14/71 1211.0 PAGE 8     
                  
      00354  0602 00 5 00747         SLW     COPYPR,5      ..                                         DDIO0336    
      00355  1 77777 5 00352         TXI     GETCM5,5,-1   CONTINUE UNTIL WORD COUNT EXHAUSTED        DDIO0337    
                                                                                                      DDIO0338    
      00356 -0634 00 7 01023  GETCM6 SXD     DRN2,7        COPY LAST BLOCK INTO DRAIN BUFFER ALSO     DDIO0339    
      00357 -0500 00 0 01023         CAL     DRN2          ..                                         DDIO0340    
      00360  0602 00 5 00747         SLW     COPYPR,5      .. INTO CHANNEL PROGRAM                    DDIO0341    
      00361  1 77777 5 00327         TXI     GETCM1,5,-1   GO BACK TO CHECK FOR NEXT COMMAND          DDIO0342    
                                                                                                      DDIO0343    
      00362 -0625 00 0 01056  STCHAN STL     BUSY          SET CHANNEL BUSY SWITCH                    DDIO0344    
      00363  0 00000 0 00730  RSCHN1 ***     SKTRAK        START UP DISK DRUM CHANNEL PROGRAM         DDIO0345    
      00364 -0520 00 0 01066         NZT     TRAPSW        TEST IF CALL MADE DURING TRAP              DDIO0346    
      00365  0564 60 0 01040         ENB*    ENABLE        NO, RE-ENABLE TRAPS                        DDIO0347    
      00366  0020 00 4 00003         TRA     3,4           AND RETURN                                 DDIO0348    
                                                                                                      DDIO0349    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  DDIO0350    
                                                                                                      DDIO0351    
      00367  0074 00 7 00113  .DWRCK TSX     DWAIT,7       ENTRY TO WRITE-CHECK PREVIOUS OPERATION    DDIO0352    
      00370 -0500 00 0 01025         CAL     CTLW          SET UP WRITE COMMAND                       DDIO0353    
      00371  0602 00 0 00746         SLW     CTLR.W        ..                                         DDIO0354    
      00372  0441 00 0 01044         LDI     R.WORD        ORD-ORD-ACC-MOD-TRK-TRK, TRK-TRK-----      DDIO0355    
      00373 -0057 00  777700         RIL     777700        MASK OUT PREVIOUS ORDER CODE               DDIO0356    
      00374  0442 00 0 01034         OSI     DWRC          SET WRITE-CHECK ORDER                      DDIO0357    
      00375  0604 00 0 01044         STI     R.WORD                                                   DDIO0358    
      00376 -0625 00 0 01063         STL     RECAL         INSURE NO RECALIBRATION                    DDIO0359    
      00377 -0625 00 0 01056         STL     BUSY          SET CHANNEL BUSY SWITCH                    DDIO0360    
      00400  0 00000 0 00733  RSCHN2 ***     CKTRAK        START CHANNEL PROGRAM TO WRITE-CHECK       DDIO0361    
      00401 -0520 00 0 01066         NZT     TRAPSW        AS IT WAS IN THE BEGINNING,                DDIO0362    
      00402  0564 60 0 01040         ENB*    ENABLE        IS NOW ...                                 DDIO0363    
      00403  0020 00 4 00001         TRA     1,4           AND RETURN                                 DDIO0364    
                                                                                                      DDIO0365    
1       M1416 786   R. DALEY .... DISK/DRUM INPUT/OUTPUT PACKAGE FOR 2302/7320   01/14/71 1211.0 PAGE 9     
                  
                                                                                                      DDIO0367    
      00404  0500 60 4 00001  CVTRK  CLA*    1,4           ROUTINE TO SET UP TRACK ADDRESS            DDIO0368    
      00405  0120 00 0 00411         TPL     CVTRK1        SKIP IF RECORD ADDRESS ALREADY CONVERTED   DDIO0369    
      00406  0634 00 4 00410         SXA     CVTX4,4       OTHERWISE, SAVE USER'S IR4                 DDIO0370    
      00407  0074 00 4 00475         TSX     UNPACK,4      AND CONVERT RECORD ADDRESS                 DDIO0371    
      00410  0774 00 4 00000  CVTX4  AXT     **,4          RESTORE USER'S IR4                         DDIO0372    
                                                                                                      DDIO0373    
      00411 -0130 00 0 00000  CVTRK1 XCL                   TRACK ADDRESS TO MQ                        DDIO0374    
      00412 -0754 00 0 00000         ZAC                                                              DDIO0375    
      00413 -0763 00 0 00006         LGL     6             PICK UP LOGICAL MODULE NUMBER              DDIO0376    
      00414  0737 00 5 00000         PAC     0,5           -LOGICAL MODULE NO. TO IR5                 DDIO0377    
      00415  1 00012 5 00416         TXI     *+1,5,10      SUBSTITUTE '0' FOR OCTAL '12'              DDIO0378    
      00416 -3 00000 5 00421         TXL     CVTRK2,5,0    .. SKIP IF -MODNO+12= 0                    DDIO0379    
      00417  1 77766 5 00420         TXI     *+1,5,-10     ..                                         DDIO0380    
      00420 -3 77767 5 00440         TXL     BADREC,5,-HIMOD-1   ERROR IF MODNO .G. HIMOD             DDIO0381    
      00421 -0765 00 0 00006  CVTRK2 LGR     6             REPLACE LOGICAL MODULE NUMBER              DDIO0382    
      00422 -0773 00 0 00006         RQL     6             .. AT END OF RECORD ADDRESS                DDIO0383    
      00423  0500 00 5 00004         CLA     MODTBL,5      PICK UP PHYSICAL MODULE AND CHANNEL NO.    DDIO0384    
      00424  0120 00 0 00426         TPL     *+2           SKIP IF DISK UNIT                          DDIO0385    
      00425 -0625 00 0 01063         STL     RECAL         HERE IF DRUM, SET FOR NO RECALIBRATION     DDIO0386    
      00426 -0737 00 5 00000         PDC     0,5           -CHANNEL NO. TO IR5                        DDIO0387    
      00427 -0320 00 0 01220         ANA     =O7777        NECESSARY ONLY TO PREVENT AC OVERFLOW      DDIO0388    
      00430 -0763 00 0 00030         LGL     24            BRING HIGH ORDER 4 BITS OF RECORD ADDRESS  DDIO0389    
      00431 -0600 00 0 01061         STQ     RECSAV        SAVE LOW-ORDER RECORD ADDRESS              DDIO0390    
      00432  0560 00 5 01076         LDQ     RSCOP,5       GET RSC OPERATION FOR THIS CHANNEL         DDIO0391    
      00433 -0620 00 0 00363         SLQ     RSCHN1        ..                                         DDIO0392    
      00434 -0620 00 0 00400         SLQ     RSCHN2        ..                                         DDIO0393    
      00435  0636 00 5 01057         SCA     CHANNO,5      SAVE CHANNEL NUMBER                        DDIO0394    
      00436  0560 00 0 01061         LDQ     RECSAV        RELOAD LOW-ORDER RECORD ADDRESS            DDIO0395    
      00437  0020 00 7 00001         TRA     1,7           RETURN TO READ OR WRITE SET UP ROUTINE     DDIO0396    
                                                                                                      DDIO0397    
      00440 -0520 00 0 01066  BADREC NZT     TRAPSW        AND EVER SHALL BE,                         DDIO0398    
      00441  0564 60 0 01040         ENB*    ENABLE        WORLD WITHOUT END (AMEN)                   DDIO0399    
      00442  0020 60 4 00002         TRA*    2,4           BAD RECORD ADDRESS, TAKE ERROR RETURN      DDIO0400    
                                                                                                      DDIO0401    
1       M1416 786   R. DALEY .... DISK/DRUM INPUT/OUTPUT PACKAGE FOR 2302/7320   01/14/71 1211.0 PAGE 10    
                  
                                                                                                      DDIO0403    
                                             .PACK/.UNPAK ... PACK AND UNPACK TRACK AND RECORD ADDRESSDDIO0404    
                                                                                                      DDIO0405    
      00443 -0774 00 5 00000  .PACK  AXC     0,5           ROUTINE TO PACK LOGICAL RECORD ADDRESS     DDIO0406    
      00444  0520 00 0 01066         ZET     TRAPSW        IS A TRAP CURRENTLY IN PROCESS             DDIO0407    
      00445 -0774 00 5 00001         AXC     1,5           IF SO, SET TO USE TMP+1 FOR TEMP STORAGE   DDIO0408    
      00446 -0500 60 4 00001         CAL*    1,4           CONVERT '12' TO OCTAL '00' IN RECORD ADDR. DDIO0409    
      00447  0400 00 0 01225         ADD     =H666666      .. 12 GOES TO 20 (OCTAL)                   DDIO0410    
      00450 -0320 00 0 01232         ANA     =H++++++      .. SAVE 20S ONLY                           DDIO0411    
      00451  0771 00 0 00001         ARS     1             .. 20S TO 10S                              DDIO0412    
      00452  0602 00 5 01054         SLW     TMP,5         .. SAVE 10S                                DDIO0413    
      00453  0771 00 0 00002         ARS     2             .. 10S TO 02S                              DDIO0414    
      00454 -0501 00 5 01054         ORA     TMP,5         .. 02S TO 12S IN AC                        DDIO0415    
      00455  0322 60 4 00001         ERA*    1,4           .. MASK OUT ALL 12S IN RECORD ADDRESS      DDIO0416    
      00456 -0130 00 0 00000         XCL                   BCD RECORD ADDRESS TO MQ                   DDIO0417    
      00457 -0773 00 0 00036         RQL     30            MOVE RECORD BIT TO FIRST CHARACTER POSITIONDDIO0418    
      00460  0774 00 6 00006         AXT     6,6                                                      DDIO0419    
      00461  0600 00 5 01054         STZ     TMP,5                                                    DDIO0420    
      00462 -0754 00 0 00000  PAC1   ZAC                   CONVERT RECORD (RMTTTT) TO BINARY (18 BITS)DDIO0421    
      00463 -0763 00 0 00003         LGL     3             ..                                         DDIO0422    
      00464  0401 00 5 01054         ADM     TMP,5         ..                                         DDIO0423    
      00465 -0763 00 0 00003         LGL     3             ..                                         DDIO0424    
      00466  0401 00 5 01054         ADM     TMP,5         ..                                         DDIO0425    
      00467  0361 00 5 01054         ACL     TMP,5         ..                                         DDIO0426    
      00470  0602 00 5 01054         SLW     TMP,5         ..                                         DDIO0427    
      00471  2 00001 6 00462         TIX     PAC1,6,1      ..                                         DDIO0428    
      00472  0020 00 4 00002         TRA     2,4           AND RETURN (PACKED ADDRESS IN AC)          DDIO0429    
                                                                                                      DDIO0430    
      00473  0500 60 4 00001  .UNPAK CLA*    1,4           ROUTINE TO UNPACK TRACK ADDRESS            DDIO0431    
      00474  1 77777 4 00475         TXI     UNPACK,4,-1   .. FROM 18-BIT BINARY FORMAT               DDIO0432    
                                                                                                      DDIO0433    
      00475 -0774 00 5 00000  UNPACK AXC     0,5           ASSUME NOT IN TRAP MODE                    DDIO0434    
      00476  0520 00 0 01066         ZET     TRAPSW        IS A TRAP CURRENTLY IN PROCESS             DDIO0435    
      00477 -0774 00 5 00001         AXC     1,5           IF SO, SET TO USE TMP+1 FOR TEMP STORAGE   DDIO0436    
      00500 -0120 00 0 00512         TMI     UPAC3         SKIP IF MZE RECNO,,MODNO                   DDIO0437    
      00501 -0130 00 0 00000         XCL                                                              DDIO0438    
      00502  0774 00 6 00044         AXT     36,6          OTHERWISE ASSUME 18-BIT FORMAT             DDIO0439    
      00503  0600 00 5 01054         STZ     TMP,5                                                    DDIO0440    
      00504 -0754 00 0 00000  UPAC2  ZAC                   CONVERT TRACK TO BCD FORMAT                DDIO0441    
      00505  0221 00 0 01217         DVP     =10           ..                                         DDIO0442    
      00506  0767 00 6 00044         ALS     36,6          ..                                         DDIO0443    
      00507 -0602 00 5 01054         ORS     TMP,5         ..                                         DDIO0444    
      00510  2 00006 6 00504         TIX     UPAC2,6,6     ..                                         DDIO0445    
      00511  0020 00 0 00534         TRA     UPAC5         SKIP TO RETURN TRACK IN LAC                DDIO0446    
                                                                                                      DDIO0447    
      00512 -0734 00 6 00000  UPAC3  PDX     0,6           HERE FOR  MZE RECNO,,MODNO                 DDIO0448    
      00513  0560 00 0 01214         LDQ     =0            .. MODNO SAVED IN IR6                      DDIO0449    
      00514 -0765 00 0 00001         LGR     1             CONVERT RECORD BIT                         DDIO0450    
      00515  0767 00 0 00005         ALS     5             .. TO 6-BIT CHARACTER                      DDIO0451    
      00516 -0765 00 0 00005         LGR     5             ..                                         DDIO0452    
      00517 -0320 00 0 01221         ANA     =O77777       .. GET TRACK ADDRESS ALONE IN AC           DDIO0453    
      00520 -0130 00 0 00000         XCL                   ..                                         DDIO0454    
      00521  0044 00 0 00000         PAI                   .. SAVE RECORD CHARACTER IN SI             DDIO0455    
      00522 -0754 00 6 00000         PXD     0,6           MODULE NUMBER TO AC DECREMENT              DDIO0456    
      00523  0767 00 0 00006         ALS     6             PLACE IN SECOND CHARACTER POSITION         DDIO0457    
      00524  0043 00 0 00000         OAI                   ADD MODULE CHAR. TO RECORD CHAR.           DDIO0458    
1       M1416 786   R. DALEY .... DISK/DRUM INPUT/OUTPUT PACKAGE FOR 2302/7320   01/14/71 1211.0 PAGE 11    
                  
      00525  0604 00 5 01054         STI     TMP,5         SAVE RECORD AND MODULE CHARACTERS          DDIO0459    
      00526  0774 00 6 00030         AXT     24,6                                                     DDIO0460    
      00527 -0754 00 0 00000  UPAC4  ZAC                   CONVERT TRACK ADDRESS TO BCD FORMAT        DDIO0461    
      00530  0221 00 0 01217         DVP     =10           ..                                         DDIO0462    
      00531  0767 00 6 00030         ALS     24,6          ..                                         DDIO0463    
      00532 -0602 00 5 01054         ORS     TMP,5         ..                                         DDIO0464    
      00533  2 00006 6 00527         TIX     UPAC4,6,6     ..                                         DDIO0465    
      00534  0560 00 5 01054  UPAC5  LDQ     TMP,5         PICK UP UNPACKED TRACK ADDRESS             DDIO0466    
      00535 -0773 00 0 00006         RQL     6             MOVE RECORD CHARACTER TO LAST POSITION     DDIO0467    
      00536 -0130 00 0 00000         XCL                   CONVERT '00' TO '12' OCTAL                 DDIO0468    
      00537  0044 00 0 00000         PAI                   .. SAVE COPY OF TRACK ADDRESS IN SI        DDIO0469    
      00540 -0501 00 0 01233         ORA     =H------      .. 00S TO 40S (OCTAL)                      DDIO0470    
      00541  0402 00 0 01223         SUB     =H111111      .. 40S TO 37S                              DDIO0471    
      00542 -0320 00 0 01232         ANA     =H++++++      .. 37S TO 20S                              DDIO0472    
      00543  0771 00 0 00001         ARS     1             .. 20S TO 10S                              DDIO0473    
      00544  0602 00 5 01054         SLW     TMP,5         .. SAVE 10S                                DDIO0474    
      00545  0771 00 0 00002         ARS     2             .. 10S TO 02S                              DDIO0475    
      00546 -0501 00 5 01054         ORA     TMP,5         .. 02S TO 12S                              DDIO0476    
      00547  0043 00 0 00000         OAI                   .. REPLACE 00S WITH 12S IN SI              DDIO0477    
      00550 -0046 00 0 00000         PIA                   RETURN CONVERTED TRACK ADDRESS IN AC       DDIO0478    
      00551  0020 00 4 00001         TRA     1,4           ..                                         DDIO0479    
1       M1416 786   R. DALEY .... DISK/DRUM INPUT/OUTPUT PACKAGE FOR 2302/7320   01/14/71 1211.0 PAGE 12    
                  
                                                                                                      DDIO0481    
                                             DCTRAP ...... HERE ON DATA CHANNEL TRAP FROM DISK OR DRUMDDIO0482    
                                                                                                      DDIO0483    
      00552                   DCTRAP WHEN    B,T,,SEB,,,,,                                            DDIO0484    
      00552  0564 00 0 01214         ENB     =0            INSURE ALL TRAPS DISABLED                  DDIO0485    
      00553  0634 00 4 00620         SXA     DCTIR4,4      SAVE IR4                                   DDIO0486    
      00554  0604 00 0 01064         STI     DCTSI         AND SENSE INDICATORS                       DDIO0487    
      00555  0535 00 4 01057         LAC     CHANNO,4      PICK UP NO. OF CHANNEL CAUSING TRAP        DDIO0488    
      00556                          WHEN    B,T,,SEA,,,,,                                            DDIO0489    
      00556  0441 60 4 01104         LDI*    CTIL,4        PICK UP TRAP RETURN ADDRESS AND FLAGS      DDIO0490    
      00557                          WHEN    B,T,,SEB,,,,,                                            DDIO0491    
      00557  0604 00 0 01065         STI     DCTRTN        SAVE TRAP RETURN LOCATION                  DDIO0492    
      00560 -0520 00 0 01060         NZT     DERRSW        WAS THERE AN ERROR ON THIS CHANNEL         DDIO0493    
      00561  0020 00 0 00601         TRA     DCTOK         NO, SKIP TO SET UP COMPLETION INTERRUPT    DDIO0494    
      00562  0600 00 0 01060         STZ     DERRSW        YES, RESET ERROR SWITCH                    DDIO0495    
      00563  0534 00 4 01063         LXA     RECAL,4       GET RECALIBRATION COUNT                    DDIO0496    
      00564  3 00003 4 00622         TXH     CRUMP,4,3     GIVE UP IF TOO MANY TRACK ERRORS           DDIO0497    
      00565  1 00001 4 00566         TXI     *+1,4,1       OTHERWISE UPDATE ERROR COUNT               DDIO0498    
      00566  0634 00 4 01063         SXA     RECAL,4       .. AND TRY AGAIN TO RECALIBRATE            DDIO0499    
      00567  0441 00 0 01042         LDI     SEEKW         GET MODULE NO. FROM SEEK WORD              DDIO0500    
      00570  0445 00 0 01242         RIS     =O777700007777                                           DDIO0501    
      00571  0442 00 0 01227         OSI     =O101200001113                                           DDIO0502    
      00572  0604 00 0 01046         STI     SEEKCE        SET UP ORDER TO SEEK CE TRACK              DDIO0503    
      00573  0445 00 0 01242         RIS     =O777700007777                                           DDIO0504    
      00574  0442 00 0 01230         OSI     =O101200001212                                           DDIO0505    
      00575  0604 00 0 01050         STI     SEEK0.        SET UP ORDER TO SEEK TRACK ZERO            DDIO0506    
      00576  0535 00 4 01057         LAC     CHANNO,4      RELOAD -CHANNEL NO. TO IR4                 DDIO0507    
      00577  0522 00 4 01101         XEC     STCOP,4       AND START UP RECALIBRATION PROGRAM         DDIO0508    
      00600  0020 00 0 00616         TRA     DCTXIT        AND EXIT FROM TRAP                         DDIO0509    
                                                                                                      DDIO0510    
      00601  0600 00 0 01063  DCTOK  STZ     RECAL         HERE FOR SUCCESSFUL COMPLETION OF I/O      DDIO0511    
      00602  0600 00 0 01056         STZ     BUSY          RESET CHANNEL BUSY SWITCH                  DDIO0512    
      00603 -0520 00 0 01067         NZT     REFRSW        IS A COURTESY CALL REQUIRED                DDIO0513    
      00604  0020 00 0 00616         TRA     DCTXIT        NO, EXIT FROM TRAP                         DDIO0514    
      00605  0074 00 4 00000         TSX     ALLSAV,4      YES, SAVE REST OF MACHINE CONDITIONS       DDIO0515    
      00606  0441 00 0 01214         LDI     =0            LOAD SUCCESSFUL COMPLETION FLAG FOR USER   DDIO0516    
                                                                                                      DDIO0517    
      00607  0604 00 0 01071  DCTINT STI     RTNFLG        SAVE ERROR FLAG IF ANY FOR USER            DDIO0518    
      00610  0600 00 0 01062         STZ     ERROR         RESET ERROR FLAG IF ANY                    DDIO0519    
      00611 -0625 00 0 01066         STL     TRAPSW        INDICATE SIMULATED TRAP IN PROGRESS        DDIO0520    
      00612  0074 00 4 01072         TSX     USRTRP,4      REFLECT INTERRUPT TO USER PROGRAM          DDIO0521    
      00613  3 00000 0 01071         PTH     RTNFLG        .. WITH ERROR FLAGS IF ANY                 DDIO0522    
      00614  0600 00 0 01066         STZ     TRAPSW        RESET TRAP SWITCH                          DDIO0523    
      00615  0074 00 4 00001         TSX     ALLRST,4      RESTORE SAVED MACHINE CONDITIONS           DDIO0524    
                                                                                                      DDIO0525    
      00616  0441 00 0 01064  DCTXIT LDI     DCTSI         HERE TO RETURN FROM TRAP                   DDIO0526    
      00617  0074 00 4 00003         TSX     CMEXIT,4      EXIT THROUGH COMMON EXIT ROUTINE           DDIO0527    
      00620  0774 00 4 00000  DCTIR4 AXT     **,4          ..                                         DDIO0528    
      00621  0 00000 0 01065                 DCTRTN        ..                                         DDIO0529    
                                                                                                      DDIO0530    
      00622  0600 00 0 01063  CRUMP  STZ     RECAL         HERE AFTER UNSUCCESSFUL ATTEMPT TO READ    DDIO0531    
      00623  0600 00 0 01056         STZ     BUSY          .. OR WRITE ON DISK/DRUM, RESET BUSY SWITCHDDIO0532    
      00624  0074 00 4 00000         TSX     ALLSAV,4      SAVE REST OF MACHINE CONDITIONS            DDIO0533    
      00625  0441 00 0 00746         LDI     CTLR.W        PICK UP READ OR WRITE COMMAND              DDIO0534    
      00626 -0500 00 0 01235         CAL     =HREAD        SET UP TYPE OF ERROR (READ OR WRITE)       DDIO0535    
      00627  0056 00  200000         RNT     200000        .. CTLR HAS '2' IN TAG                     DDIO0536    
1       M1416 786   R. DALEY .... DISK/DRUM INPUT/OUTPUT PACKAGE FOR 2302/7320   01/14/71 1211.0 PAGE 13    
                  
      00630 -0500 00 0 01237         CAL     =HWRITE       ..                                         DDIO0537    
      00631  0602 00 0 01112         SLW     ERRCM1+2      ..                                         DDIO0538    
      00632 -0500 00 0 01057         CAL     CHANNO        GET CHANNEL NUMBER (1-8)                   DDIO0539    
      00633 -0501 00 0 01234         ORA     =HNNEL +      CONVERT TO CHANNEL LETTER 'NNEL X'         DDIO0540    
      00634  0602 00 0 01115         SLW     ERRCM1+5      .. INTO ERROR COMMENT                      DDIO0541    
      00635  0774 00 1 00002         AXT     2,1                                                      DDIO0542    
      00636  0560 00 1 01046  CDCT1  LDQ     R.WORD+2,1    CONVERT OCTAL '12' TO OCTAL '00'           DDIO0543    
      00637  0774 00 2 00006         AXT     6,2           ..                                         DDIO0544    
      00640 -0754 00 0 00000  CDCT2  ZAC                   ..                                         DDIO0545    
      00641 -0763 00 0 00006         LGL     6             ..                                         DDIO0546    
      00642 -0340 00 0 01217         LAS     =O12          .. CHECK FOR OCTAL 12                      DDIO0547    
      00643  0020 00 0 00645         TRA     *+2           ..                                         DDIO0548    
      00644 -0754 00 0 00000         ZAC                   .. REPLACE 12 WITH ZERO                    DDIO0549    
      00645 -0765 00 0 00006         LGR     6             ..                                         DDIO0550    
      00646 -0773 00 0 00006         RQL     6             ..                                         DDIO0551    
      00647  2 00001 2 00640         TIX     CDCT2,2,1     ..                                         DDIO0552    
      00650 -0600 00 1 01046         STQ     R.WORD+2,1    ..                                         DDIO0553    
      00651  2 00001 1 00636         TIX     CDCT1,1,1     ..                                         DDIO0554    
      00652 -0500 00 0 01044         CAL     R.WORD        PICK UP OPERATION, ACCESS AND MODULE       DDIO0555    
      00653  0560 00 0 01045         LDQ     R.WORD+1      .. LOW-ORDER TRACK ADDRESS IN MQ           DDIO0556    
      00654 -0765 00 0 00014         LGR     12            SAVE TRACK ADDRESS IN MQ                   DDIO0557    
      00655  0767 00 0 00006         ALS     6             ADJUST OPERATION IN AC                     DDIO0558    
      00656 -0501 00 0 01236         ORA     =H 0000       .. ADD IN BLANKS                           DDIO0559    
      00657  0602 00 0 01120         SLW     ERRCM1+8      SET OPERATION ACCESS AND MODULE IN MESSAGE DDIO0560    
      00660 -0600 00 0 01121         STQ     ERRCM1+9      SET TRACK/RECORD ADDRESS IN ERROR COMMENT  DDIO0561    
      00661  0560 00 0 01052         LDQ     SENSE         CONVERT SENSE DATA                         DDIO0562    
      00662  0074 00 4 00720         TSX     CVTOCT,4      ..                                         DDIO0563    
      00663  0602 00 0 01125         SLW     ERRCM2+2      ..                                         DDIO0564    
      00664  0074 00 4 00720         TSX     CVTOCT,4      ..                                         DDIO0565    
      00665  0602 00 0 01126         SLW     ERRCM2+3      ..                                         DDIO0566    
      00666  0560 00 0 01053         LDQ     SENSE+1       ..                                         DDIO0567    
      00667  0074 00 4 00720         TSX     CVTOCT,4      ..                                         DDIO0568    
      00670  0602 00 0 01130         SLW     ERRCM2+5      ..                                         DDIO0569    
      00671  0074 00 4 00720         TSX     CVTOCT,4      ..                                         DDIO0570    
      00672  0602 00 0 01131         SLW     ERRCM2+6      ..                                         DDIO0571    
      00673  0766 00 0 01361         WPRA                  EJECT PAGE ON LINE                         DDIO0572    
      00674  0760 00 0 01361         SPRA    1             ..                                         DDIO0573    
      00675  0074 00 4 00002         TSX     WRTOPR,4      PRINTF DISK/DRUM ERROR COMMENT             DDIO0574    
      00676  0 00013 0 01110                 ERRCM1,,11    ..                                         DDIO0575    
      00677  0074 00 4 00002         TSX     WRTOPR,4      ..                                         DDIO0576    
      00700  0 00007 0 01123                 ERRCM2,,7     ..                                         DDIO0577    
      00701  0535 00 4 01057         LAC     CHANNO,4      -CHANNEL NO. TO IR4                        DDIO0578    
      00702  0522 00 4 01073         XEC     RICOP,4       RESET THIS CHANNEL                         DDIO0579    
      00703  0766 00 0 01361         WPRA                  EJECT PAGE ON LINE                         DDIO0580    
      00704  0760 00 0 01361         SPRA    1             ..                                         DDIO0581    
      00705  0441 00 0 01215         LDI     =1            FIND TYPE OF ERROR                         DDIO0582    
      00706 -0500 00 0 01052         CAL     SENSE         .. RELOAD FIRST SENSE WORD                 DDIO0583    
      00707 -0320 00 0 01226         ANA     =O072727270000  .. REMOVE UNWANTED BITS                  DDIO0584    
      00710  0322 00 0 01224         ERA     =O020001000000  .. CHECK FOR PARITY ERROR                DDIO0585    
      00711  0100 00 0 00713         TZE     *+2           .. SKIP IF PARITY ERROR                    DDIO0586    
      00712  0441 00 0 01216         LDI     =2            .. OTHERWISE SET FLAG FOR FATAL ERROR      DDIO0587    
      00713  0604 00 0 01062         STI     ERROR         SAVE ERROR FLAG (1=PARITY 2=FATAL)         DDIO0588    
      00714  0520 00 0 01067         ZET     REFRSW        IS USER INTERRUPT COURTESY CALL REQUIRED   DDIO0589    
      00715  0020 00 0 00607         TRA     DCTINT        YES, GO TO USER INTERRUPT PROCEDURE        DDIO0590    
      00716  0074 00 4 00001         TSX     ALLRST,4      NO, RESTORE SAVED MACHINE CONDITIONS       DDIO0591    
      00717  0020 00 0 00616         TRA     DCTXIT        AND EXIT FROM TRAP                         DDIO0592    
1       M1416 786   R. DALEY .... DISK/DRUM INPUT/OUTPUT PACKAGE FOR 2302/7320   01/14/71 1211.0 PAGE 14    
                  
                                                                                                      DDIO0593    
      00720  0634 00 4 00726  CVTOCT SXA     CVOCTX,4      CONVERT BINARY TO OCTAL IN BCD             DDIO0594    
      00721 -0754 00 0 00000         ZAC                                                              DDIO0595    
      00722  0774 00 4 00006         AXT     6,4                                                      DDIO0596    
      00723  0767 00 0 00003  CVOCT  ALS     3             FORM BCD WORD IN AC                        DDIO0597    
      00724 -0763 00 0 00003         LGL     3             ..                                         DDIO0598    
      00725  2 00001 4 00723         TIX     CVOCT,4,1     ..                                         DDIO0599    
      00726  0774 00 4 00000  CVOCTX AXT     **,4                                                     DDIO0600    
      00727  0020 00 4 00001         TRA     1,4                                                      DDIO0601    
1       M1416 786   R. DALEY .... DISK/DRUM INPUT/OUTPUT PACKAGE FOR 2302/7320   01/14/71 1211.0 PAGE 15    
                  
                                                                                                      DDIO0603    
                                             SKTRAK/CKTRAK/SETUP ..... 7909 CHANNEL PROGRAMS .....    DDIO0604    
                                                                                                      DDIO0605    
      00730                          WHEN    B,T,,BCORE,,,,,                                          DDIO0606    
                                                                                                      DDIO0607    
      00730 -24 0000 2 00024  SKTRAK LCC     20            ROUTINE TO SEEK-READ OR SEEK-WRITE A TRACK DDIO0608    
      00731  20 0000 0 01042  RSTART CTL     SEEKW         SEEK FOR TRACK                             DDIO0609    
      00732  0 00000 0 00732         WTR     *             AND WAIT FOR INTERRUPT                     DDIO0610    
                                                                                                      DDIO0611    
      00733 -24 0000 2 00000  CKTRAK LCC     0             ROUTINE TO WRITE-CHECK TRACK JUST WRITTEN  DDIO0612    
      00734  1 00000 0 00746         TCH     CTLR.W        ..                                         DDIO0613    
                                                                                                      DDIO0614    
      00735 -10 0004 2 00745  INTRPT TCM     TFOUND,,4     HERE FOR INTERRUPT, WAS IT ATTENTION 1     DDIO0615    
      00736 -24 0000 0 00744         TDC     RETRY         HERE FOR ERROR, TRY AGAIN                  DDIO0616    
      00737  24 0000 2 00000         SNS                   HERE AFTER 20 RETRIES                      DDIO0617    
      00740 -1 00002 0 01052         CPYD    SENSE,,2      GET ERROR DATA                             DDIO0618    
      00741  0 00001 2 01060  DERTWT XMT     DERRSW,,1     SET DISK ERROR SWITCH                      DDIO0619    
      00742  0 00000 0 00742         PZE     *             ..                                         DDIO0620    
      00743  34 0000 0 00773         TWT     SEEKRC        AND TRAP CPU                               DDIO0621    
                                                                                                      DDIO0622    
      00744  1 00000 2 00731  RETRY  LIPT    RSTART        HERE TO TRY AGAIN AFTER ERROR              DDIO0623    
                                                                                                      DDIO0624    
      00745  1 00000 2 00746  TFOUND LIPT    *+1           TRACK FOUND, ALLOW ERROR INTERRUPTS        DDIO0625    
      00746  0 00000 0 00000  CTLR.W ***     **            CHANNEL READ/WRITE PROGRAM                 DDIO0626    
      00747                   COPYPR BSS     20            .. COPY COMMANDS IF ANY, FOLLOWED BY TWT   DDIO0627    
                                                                                                      DDIO0628    
      00773  1 00000 2 00774  SEEKRC LIPT    *+1           ROUTINE TO RECALIBRATE ACCESS ON ERROR     DDIO0629    
      00774  0 00001 2 00735         XMT     INTRPT,,1     SET UP NEW INTERRUPT PROCEDURE             DDIO0630    
      00775  1 00000 0 01000         TCH     CETFND        ..                                         DDIO0631    
      00776  20 0000 0 01046         CTL     SEEKCE        SEEK CE TRACK                              DDIO0632    
      00777  0 00000 0 00777         WTR     *             WAIT FOR INTERRUPT                         DDIO0633    
      01000 -10 0004 2 01004  CETFND TCM     FIND0.,,4     HERE ON INTERRUPT, DID WE FIND CE TRACK    DDIO0634    
      01001  0 00001 2 00735  DSKNG. XMT     INTRPT,,1     NO, RESET INTERRUPT PROCEDURE              DDIO0635    
      01002 -10 0004 2 00745         TCM     TFOUND,,4     ..                                         DDIO0636    
      01003  1 00000 0 00741         TCH     DERTWT        AND GO TO TRAP CPU AGAIN                   DDIO0637    
                                                                                                      DDIO0638    
      01004  1 00000 2 01005  FIND0. LIPT    *+1           HERE WHEN CE TRACK FOUND                   DDIO0639    
      01005  0 00001 2 00735         XMT     INTRPT,,1     SET UP NEW INTERRUPT PROCEDURE             DDIO0640    
      01006  1 00000 0 01011         TCH     TK0FND        ..                                         DDIO0641    
      01007  20 0000 0 01050         CTL     SEEK0.        SEEK TRACK ZERO                            DDIO0642    
      01010  0 00000 0 01010         WTR     *             WAIT FOR INTERRUPT                         DDIO0643    
      01011 -10 0004 2 01013  TK0FND TCM     TRBACK,,4     HERE ON INTERRUPT, DID WE FIND TRACK ZERO  DDIO0644    
      01012  1 00000 0 01001         TCH     DSKNG.        NO, GO TO TRAP CPU                         DDIO0645    
      01013  0 00001 2 00735  TRBACK XMT     INTRPT,,1     YES, RESET INTERRUPT PROCEDURE             DDIO0646    
      01014 -10 0004 2 00745         TCM     TFOUND,,4     ..                                         DDIO0647    
      01015  1 00000 2 00730         LIPT    SKTRAK        GO BACK TO RETRY 20 TIMES                  DDIO0648    
                                                                                                      DDIO0649    
      01016  20 0000 0 01231  SETUP  CTL     =O121100000000 SETUP ROUTINE, SET FILE IN 6-BIT MODE     DDIO0650    
      01017  0 00000 0 01017         WTR     *             ..                                         DDIO0651    
                                                                                                      DDIO0652    
      01020  1 00000 0 00735  DINTR. TCH     INTRPT        CONSTANT FOR INTERRUPT LOCATIONS           DDIO0653    
      01021  34 0000 0 77777  TWT    TWT     -1            COMMAND TO END CHANNEL ROUTINE             DDIO0654    
      01022 -0 00062 0 01132  DRN1   CPYP    DRAIN,,BSZ    SIMULATE 'ION' COPY BSZ WORDS TO DRAIN     DDIO0655    
      01023 -0 00000 0 01132  DRN2   CPYP    DRAIN,,**     .. COPY LAST N WORDS TO DRAIN              DDIO0656    
      01024  20 0000 2 01044  CTLR   CTLR    R.WORD        CHANNEL READ COMMAND                       DDIO0657    
      01025  24 0000 0 01044  CTLW   CTLW    R.WORD        CHANNEL WRITE COMMAND                      DDIO0658    
1       M1416 786   R. DALEY .... DISK/DRUM INPUT/OUTPUT PACKAGE FOR 2302/7320   01/14/71 1211.0 PAGE 16    
                  
                                                                                                      DDIO0659    
      01026                          WHEN    B,T,,ACORE,,,,,                                          DDIO0660    
                                                                                                      DDIO0661    
      01026 -0 00000 0 00000  CPYP   CPYP    0,,0          CONSTANT FOR COPY AND PROCEDE              DDIO0662    
      01027 -1 00000 0 00000  CPYD   CPYD    0,,0          CONSTANT FOR COPY AND DISCONNECT           DDIO0663    
                                                                                                      DDIO0664    
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  DDIO0665    
                                                                                                      DDIO0666    
      01030 +101200000000     DSEK   OCT     101200000000  7631 FILE CONTROL ORDERS                   DDIO0667    
      01031 +100200000000     DVSR   OCT     100200000000  .. VERIFY SINGLE RECORD                    DDIO0668    
      01032 +100300000000     DWRF   OCT     100300000000  .. WRITE FORMAT                            DDIO0669    
      01033 +100500000000     DVCY   OCT     100500000000  .. VERIFY CYLINDER OPERATION               DDIO0670    
      01034 +100600000000     DWRC   OCT     100600000000  .. WRITE CHECK                             DDIO0671    
      01035 +101000000000     DVTA   OCT     101000000000  .. VERIFY TRACK WITH ADDRESSES             DDIO0672    
      01036 +101100000000     DVHA   OCT     101100000000  .. VERIFY WITH HOME ADDRESSES              DDIO0673    
                                                                                                      DDIO0674    
      01037  0 00000 0 00004  DENBWD PZE     DENB          DISK/DRUM ENABLE WORD                      DDIO0675    
      01040  0 00000 0 00000  ENABLE PZE     **            POINTER TO COMMON ENABLE WORD              DDIO0676    
                                                                                                      DDIO0677    
      01041                          WHEN    B,F,DTRAP.,TTR,DCTRAP,,,,                                DDIO0678    
      01041  0021 00 0 00552  DTRAP. TTR     DCTRAP,,                                                 DDIO0678.003
      01042                          WHEN    B,T,DTRAP.,TIB,DCTRAP,,,,                                DDIO0679    
                                                                                                      DDIO0680    
      01042 +000000000000     SEEKW  OCT     0,0           7631 SEEK ORDER                            DDIO0681    
      01043 +000000000000     
      01044 +000000000000     R.WORD OCT     0,0           7631 READ/WRITE ORDER                      DDIO0682    
      01045 +000000000000     
                                                                                                      DDIO0683    
      01046 +101200001113     SEEKCE OCT     101200001113,121200000000  7631 ORDER TO SEEK CE TRACK   DDIO0684    
      01047 +121200000000     
      01050 +101200001212     SEEK0. OCT     101200001212,121200000000  7631 ORDER TO SEEK TRACK ZERO DDIO0685    
      01051 +121200000000     
                                                                                                      DDIO0686    
      01052 +000000000000     SENSE  OCT     0,0           SENSE STORAGE IF DISK ERROR                DDIO0687    
      01053 +000000000000     
      01054 +000000000000     TMP    OCT     0,0           TEMPS. FOR .PACK .UNPAK                    DDIO0688    
      01055 +000000000000     
      01056  0 00000 0 00000  BUSY   PZE     0             DISK/DRUM CHANNEL BUSY SWITCH              DDIO0689    
      01057  0 00000 0 00000  CHANNO PZE     0             NO. OF CHANNEL CURRENTLY IN OPERATION      DDIO0690    
      01060  0 00000 0 00000  DERRSW PZE     0             SWITCH SET BY CHANNEL ON ERROR             DDIO0691    
      01061  0 00000 0 00000  RECSAV PZE     0             TEMP FOR CVTRK                             DDIO0692    
      01062  0 00000 0 00000  ERROR  PZE     0             DISK/DRUM ERROR SWITCH (1=PARITY 2=FATAL)  DDIO0693    
      01063  0 00000 0 00000  RECAL  PZE     0             COUNTS RECALIBRATIONS                      DDIO0694    
                                                                                                      DDIO0695    
      01064  0 00000 0 00000  DCTSI  PZE     0             SENSE INDICATORS SAVED HERE ON TRAP        DDIO0696    
      01065  0 00000 0 00000  DCTRTN PZE     0             RETURN LOCATION SAVED HERE ON TRAP         DDIO0697    
      01066  0 00000 0 00000  TRAPSW PZE     0             NON-ZERO ON COURTESY DURING TRAP           DDIO0698    
      01067  0 00000 0 00000  REFRSW PZE     0             NON-ZERO IF COURTESY CALL REQUIRED         DDIO0699    
      01070  0 00000 0 00000  FRCTMP PZE     0             TEMP FOR .FORCE, .DRSET (ERROR FLAG)       DDIO0700    
      01071  0 00000 0 00000  RTNFLG PZE     0             FLAG RETURNED TO USER ON COURTESY CALL     DDIO0701    
      01072  0021 00 0 00000  USRTRP TTR     **            LOCATION OF USER INTERRUPT ROUTINE         DDIO0702    
      01073  0021 00 0 00000  UERROR TTR     **            LOCATION OF USER ERROR ROUTINE             DDIO0703    
                                                                                                      DDIO0704    
1       M1416 786   R. DALEY .... DISK/DRUM INPUT/OUTPUT PACKAGE FOR 2302/7320   01/14/71 1211.0 PAGE 17    
                  
                                                                                                      DDIO0706    
                       01073  RICOP  SYN     *-1           CHANNEL RIC INSTRUCTIONS                   DDIO0707    
      01074  0760 00 0 01350         RICA                  ..                                         DDIO0708    
      01075  0760 00 0 02350         RICB                  ..                                         DDIO0709    
      01076  0760 00 0 03350         RICC                  ..                                         DDIO0710    
      01077  0760 00 0 04350         RICD                  ..                                         DDIO0711    
      01100  0760 00 0 05350         RICE                  ..                                         DDIO0712    
      01101  0760 00 0 06350         RICF                  ..                                         DDIO0713    
      01102  0760 00 0 07350         RICG                  ..                                         DDIO0714    
 N    01103  0760 00 0 10350         RICH                  ..                                         DDIO0715    
                                                                                                      DDIO0716    
                       01077         ORG     RICOP+CHANLS+1  OVERLAY UNNECESSARY INSTRUCTIONS         DDIO0717    
                                                                                                      DDIO0718    
                       01076  RSCOP  SYN     *-1           CHANNEL RSC INSTRUCTION TABLE              DDIO0719    
      01077  0540 00 5 00000         RSCA    0,5           ..                                         DDIO0720    
      01100 -0540 00 5 00000         RSCB    0,5           ..                                         DDIO0721    
      01101  0541 00 5 00000         RSCC    0,5           ..                                         DDIO0722    
      01102 -0541 00 5 00000         RSCD    0,5           ..                                         DDIO0723    
      01103  0542 00 5 00000         RSCE    0,5           ..                                         DDIO0724    
      01104 -0542 00 5 00000         RSCF    0,5           ..                                         DDIO0725    
      01105  0543 00 5 00000         RSCG    0,5           ..                                         DDIO0726    
      01106 -0543 00 5 00000         RSCH    0,5           ..                                         DDIO0727    
                                                                                                      DDIO0728    
                       01102         ORG     RSCOP+CHANLS+1  OVERLAY UNNECESSARY INSTRUCTIONS         DDIO0729    
                                                                                                      DDIO0730    
                       01101  STCOP  SYN     *-1           CHANNEL STC INSTRUCTION TABLE              DDIO0731    
      01102  0544 00 0 00000         STCA                  ..                                         DDIO0732    
      01103 -0544 00 0 00000         STCB                  ..                                         DDIO0733    
      01104  0545 00 0 00000         STCC                  ..                                         DDIO0734    
      01105 -0545 00 0 00000         STCD                  ..                                         DDIO0735    
      01106  0546 00 0 00000         STCE                  ..                                         DDIO0736    
      01107 -0546 00 0 00000         STCF                  ..                                         DDIO0737    
      01110  0547 00 0 00000         STCG                  ..                                         DDIO0738    
      01111 -0547 00 0 00000         STCH                  ..                                         DDIO0739    
                                                                                                      DDIO0740    
                       01105         ORG     STCOP+CHANLS+1  OVERLAY UNNECESSARY INSTRUCTIONS         DDIO0741    
                                                                                                      DDIO0742    
                       01104  CTIL   SYN     *-1           CHANNEL TRAP AND INTERRUPT LOCATIONS       DDIO0743    
      01105  0 00042 0 00012         PZE     10,,34        ..A                                        DDIO0744    
      01106  0 00044 0 00014         PZE     12,,36        ..B                                        DDIO0745    
      01107  0 00046 0 00016         PZE     14,,38        ..C                                        DDIO0746    
      01110  0 00050 0 00020         PZE     16,,40        ..D                                        DDIO0747    
      01111  0 00052 0 00022         PZE     18,,42        ..E                                        DDIO0748    
      01112  0 00054 0 00024         PZE     20,,44        ..F                                        DDIO0749    
      01113  0 00056 0 00026         PZE     22,,46        ..G                                        DDIO0750    
      01114  0 00060 0 00030         PZE     24,,48        ..H                                        DDIO0751    
                                                                                                      DDIO0752    
                       01110         ORG     CTIL+CHANLS+1 OVERLAY UNNECESSARY INSTRUCTIONS           DDIO0753    
                                                                                                      DDIO0754    
                                                                                                      DDIO0756    
      01110  606024316242     ERRCM1 BCI     8,  DISK/DRUM READ  ERROR ON CHANNEL X, OPERATION=       DDIO0757    
      01120  606767676760            BCI     3, XXXX XXXXXX.                                          DDIO0758    
      01123  606225456225     ERRCM2 BCI     7, SENSE DATA 000000000000      000000000000             DDIO0759    
                                                                                                      DDIO0760    
      01132                   DRAIN  BSS     BSZ           DRAIN BUFFER TO SIMULATE 'ION'             DDIO0761    
                                                                                                      DDIO0762    
1       M1416 786   R. DALEY .... DISK/DRUM INPUT/OUTPUT PACKAGE FOR 2302/7320   01/14/71 1211.0 PAGE 18    
                  
                                     END                                                              DDIO0764    
                  
        LITERALS  
      01214  000000000000     
      01215  000000000001     
      01216  000000000002     
      01217  000000000012     
      01220  000000007777     
      01221  000000077777     
      01222  000000400001     
      01223  010101010101     
      01224  020001000000     
      01225  060606060606     
      01226  072727270000     
      01227  101200001113     
      01230  101200001212     
      01231  121100000000     
      01232  202020202020     
      01233  404040404040     
      01234  454525436020     
      01235  512521246060     
      01236  600000000060     
      01237  665131632560     
      01240  676700000000     
      01241  700000600000     
      01242  777700007777     
1       M1416 786   R. DALEY .... DISK/DRUM INPUT/OUTPUT PACKAGE FOR 2302/7320   01/14/71 1211.0 PAGE 1     
                        POST PROCESSOR ASSEMBLY DATA  
                  
       1243 IS THE FIRST LOCATION NOT USED BY THIS PROGRAM  
                  
0REFERENCES TO DEFINED SYMBOLS      
          0      B     4
         62    BSZ     4,  352, 1022, 1132
         24    DI1    43
         42    DI2    27
       1054    TMP   452,  454,  461,  464,  466,  467,  470,  503,  507,  525,  532,  534,  544,  546
       1021    TWT   337
       1056   BUSY    63,   66,  115,  362,  377,  602,  623
       1027   CPYD   335
       1026   CPYP   345
       1104   CTIL    30,  556, 1105, 1110
       1024   CTLR   246,  264,  302,  317
       1025   CTLW   143,  160,  176,  214,  231,  370
          4   DENB     4, 1037
       1022   DRN1   353
       1023   DRN2   356,  357
       1030   DSEK   133,  150,  166,  204,  221,  236,  254,  272,  307
       1033   DVCY   210,  276
       1036   DVHA   154,  242
       1031   DVSR   225,  313
       1035   DVTA   172,  260
       1034   DWRC   374
       1032   DWRF   137
         71   FRC1    65
        462   PAC1   471
        636  CDCT1   651
        640  CDCT2   647
        622  CRUMP   564
        723  CVOCT   725
        404  CVTRK   131,  146,  163,  201,  217,  234,  251,  267,  305
        410  CVTX4   406
        601  DCTOK   561
       1064  DCTSI   554,  616
       1132  DRAIN  1022, 1023
        113  DWAIT   107,  130,  145,  162,  200,  216,  233,  250,  266,  304,  367
       1062  ERROR   120,  123,  124,  610,  713
         10  HIMOD    15,  420
        443  .PACK     0
       1063  RECAL   376,  425,  563,  566,  601,  622
        744  RETRY   736
       1073  RICOP    37,  702, 1074, 1077
       1076  RSCOP    41,  432, 1077, 1102
       1042  SEEKW   135,  136,  152,  153,  170,  171,  206,  207,  223,  224,  240,  241,  256,  257,  274,  275,  311
                     312,  567,  731
       1052  SENSE   661,  666,  706,  740
       1016  SETUP    40
       1101  STCOP   577, 1102, 1105
        504  UPAC2   510
        512  UPAC3   500
        527  UPAC4   533
        534  UPAC5   511
          1 ALLRST   102,  615,  716
1       M1416 786   R. DALEY .... DISK/DRUM INPUT/OUTPUT PACKAGE FOR 2302/7320   01/14/71 1211.0 PAGE 2     
                        POST PROCESSOR ASSEMBLY DATA  
                  
          0 ALLSAV    77,  605,  624
        440 BADREC   420
       1000 CETFND   775
          3 CHANLS     4,   21,   25, 1077, 1102, 1105, 1110
       1057 CHANNO   435,  555,  576,  632,  701
        733 CKTRAK   400
          3 CMEXIT   617
        747 COPYPR   333,  336,  340,  346,  354,  360
        746 CTLR.W   320,  371,  625,  734
        726 CVOCTX   720
        720 CVTOCT   662,  664,  667,  671
        411 CVTRK1   405
        421 CVTRK2   416
        607 DCTINT   715
        620 DCTIR4   553
        552 DCTRAP  1041
       1065 DCTRTN   557,  621
        616 DCTXIT   600,  604,  717
       1037 DENBWD    24,   44
       1060 DERRSW   560,  562,  741
        741 DERTWT  1003
       1020 DINTR.    23
       1001 DSKNG.  1012
       1041 DTRAP.    22
        126 DWAITX   122
       1040 ENABLE    17,   45,   46,  105,  111,  114,  365,  402,  441
       1110 ERRCM1   631,  634,  657,  660,  676
       1123 ERRCM2   663,  665,  670,  672,  700
       1004 FIND0.  1000
        103 FRCIR4    76
       1070 FRCTMP    74,  101
        327 GETCM1   347,  361
        335 GETCM2   332,  334
        342 GETCM3   331
        350 GETCM4   343
        352 GETCM5   355
        356 GETCM6   352
        735 INTRPT   774, 1001, 1005, 1013, 1020
          0 IOSMOD     4
         15 .DINIT     0
        304 .DREAD     0
         63 .DRSET     0
        107 .DWAIT     0
        367 .DWRCK     0
        216 .DWRIT     0
         66 .FORCE     0
        266 .RDCYL     0
        233 .RDHAO     0
        250 .RDTRO     0
         50 .REFER     0
         54 .SETER     0
        473 .UNPAK     0
        200 .WRCYL     0
        130 .WRFMT     0
        145 .WRHAO     0
1       M1416 786   R. DALEY .... DISK/DRUM INPUT/OUTPUT PACKAGE FOR 2302/7320   01/14/71 1211.0 PAGE 3     
                        POST PROCESSOR ASSEMBLY DATA  
                  
        162 .WRTRO     0
          4 MODTBL    15,  423
       1061 RECSAV   431,  436
       1067 REFRSW    52,   71,  603,  714
       1044 R.WORD   141,  142,  156,  157,  174,  175,  212,  213,  227,  230,  244,  245,  262,  263,  300,  301,  315
                     316,  372,  375,  636,  650,  652,  653, 1024, 1025
        363 RSCHN1   433
        400 RSCHN2   434
        731 RSTART   744
       1071 RTNFLG   607,  613
       1050 SEEK0.   575, 1007
       1046 SEEKCE   572,  776
        773 SEEKRC   743
        320 SETCOM   144,  161,  177,  215,  232,  247,  265,  303
        730 SKTRAK   363, 1015
        362 STCHAN   341
        745 TFOUND   735, 1002, 1014
       1011 TK0FND  1006
       1066 TRAPSW    75,  104,  110,  113,  364,  401,  440,  444,  476,  611,  614
       1013 TRBACK  1011
       1073 UERROR    60,   61,  125
        475 UNPACK   407,  474
       1072 USRTRP    51,  100,  612
          2 WRTOPR   675,  677
                  
0 NO ERROR IN ABOVE ASSEMBLY. 




 DDPAC   BCD 02/22/71 1533.0    5145         00000    
1       M1416 786 ... R. DALEY ... DDPAC ... USED AS SUBROUTINE PACK FOR DDIOA   12/11/70  138.6 PAGE 1     
                  
                  
                       00002         ENTRY   EXIT          EXIT TO FMS MONITOR
                       00030         ENTRY   PRINT         ON LINE PRINT ROUTINE    
                       00041         ENTRY   EPRINT        PRINT ERROR CONDITION ON TRAP  
                       00041         ENTRY   WRTOPR        .. SAME AS EPRINT  
                       00170         ENTRY   RTDINP        READ MONITOR INPUT TAPE (BCD MODE)   
                       00172         ENTRY   RTBINP        READ MONITOR INPUT TAPE (BINARY MODE)
                       00226         ENTRY   WTDOUT        WRITE MONITOR OUTPUT TAPE (BCD MODE) 
                       00261         ENTRY   CMEXIT        COMMON EXIT ROUTINE FROM ALL TRAPS   
                       00301         ENTRY   ALLSAV        SAVE BASIC MACHINE CONDITIONS ON TRAP
                       00330         ENTRY   ALLRST        RESTORE BASIC MACHINE CONDITIONS     
                       00353         ENTRY   ENABLE        POINTER TO COMMON ENABLE WORD  
                  
                  
                  
                  
                       01202  U      TAPENO  A2            MONITOR INPUT TAPE UNIT  
                       01203  O      TAPENO  A3            MONITOR OUTPUT TAPE UNIT 
                  
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  
                  
                                             ... EXIT ... EXIT TO FMS MONITOR SYSTEM .......... 
                  
      00002  0564 00 0 00462  EXIT   ENB     =0            DISABLE ALL TRAPS  
      00003  0060 00 0 00003         TCOA    *             WAIT UNTIL ALL CHANNEL ACTIVITY CEASES     
      00004  0061 00 0 00004         TCOB    *             ..     
      00005  0760 00 0 01352         RDCA                  AND RESET CHANNELS A,    
      00006  0760 00 0 02352         RDCB                  .. AND B     
                  
      00007  0760 00 0 00004         ENK                   IF KEYS 0-2 DOWN, STOP.  
      00010 -0130 00 0 00000         XCL  
      00011 -0340 00 0 00464         LAS     =O700000000000 
      00012  0761 00 0 00000         NOP  
      00013  0000 00 0 00000         HTR     0  
                  
      00014  0774 00 4 00012         AXT     10,4          RELOAD FMS FROM A1 
      00015  0772 00 0 01201  EXIT1  REWA    1             ..     
      00016  0762 00 0 01221         RTBA    1             ..     
      00017  0540 00 0 00425         RCHA    LDFIOP        ..     
      00020  0060 00 0 00020         TCOA    *             ..     
      00021  0022 00 0 00026         TRCA    A1BAD         ..     
      00022  0030 00 0 00026         TEFA    A1BAD         ..     
      00023  0762 00 0 01221         RTBA    1             .. SKIP CARD TO TAPE RECORD    
      00024  0762 00 0 01221         RTBA    1             .. SKIP DUMP RECORD
      00025  0020 00 0 00001         TRA     1             EXIT TO FIOP TO LOAD SIGN-ON RECORD  
                  
      00026  2 00001 4 00015  A1BAD  TIX     EXIT1,4,1     COUNT ERRORS 
      00027  0000 00 0 00015         HTR     EXIT1         STOP ON TOO MANY ERRORS  
                  
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  
                  
                                             ... PRINT ... NORMAL ON LINE PRINT ROUTINE   
1       M1416 786 ... R. DALEY ... DDPAC ... USED AS SUBROUTINE PACK FOR DDIOA   12/11/70  138.6 PAGE 2     
                  
      00030  0634 00 4 00037  PRINT  SXA     PRINX4,4 
      00031  0564 00 0 00462         ENB     =0            DISABLE ALL TRAPS FOR CALL TO EPRINT 
      00032 -0500 00 4 00001         CAL     1,4           PZE FIRST,,N 
      00033  0602 00 0 00035         SLW     *+2           PASS CALL TO EPRINT
      00034  0074 00 4 00041         TSX     EPRINT,4      CALL EPRINT TO PRINT THIS LLNE 
      00035  0 00000 0 00000                 **,,**        ..     
      00036  0564 00 0 00353         ENB     ENABLE        REENABLE AFTER CALL TO EPRINT  
      00037  0774 00 4 00000  PRINX4 AXT     **,4          AND RETURN   
      00040  0020 00 4 00002         TRA     2,4           ..     
                  
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  
                  
                                             ... EPRINT ... ON LINE PRINT ROUTINE FOR I/O ERRORS .....
                  
                       00041  WRTOPR SYN     *             ..     
      00041  0634 00 1 00164  EPRINT SXA     NPIR1,1  
      00042  0634 00 2 00165         SXA     NPIR2,2  
      00043  0634 00 4 00166         SXA     NPIR4,4  
      00044  0060 00 0 00044         TCOA    *             SAVE STATUS OF CHANNEL 'A'     
      00045  0600 00 0 00370         STZ     SVIOCK        ..     
      00046  0760 00 0 00005         IOT                   ..     
      00047 -0625 00 0 00370         STL     SVIOCK        ..     
      00050  0640 00 0 00367         SCHA    SVCHAN        ..     
      00051 -0500 00 4 00001         CAL     1,4           PZE FIRST,,N 
      00052  0771 00 0 00022         ARS     18 
      00053  0361 00 4 00001         ACL     1,4
      00054 -0734 00 4 00000         PDX     0,4           WORD COUNT TO IR4  
      00055 -3 00000 4 00150         TXL     NPEND,4,0     SKIP IF WORD COUNT .E. 0 
      00056  0621 00 0 00071         STA     NPRC3         WORD COUNT + STARTING ADDRESS  
      00057 -0500 00 0 00372         CAL     NOP           SET UP FOR FIRST PASS    
      00060  0602 00 0 00137         SLW     PSPR          ..     
      00061 -0500 00 0 00371         CAL     SPR9          ..     
      00062  0602 00 0 00366         SLW     PSPR1         ..     
                  
      00063  0774 00 2 00030  1PASS  AXT     24,2          CLEAR WORKING STORAGE    
      00064  0600 00 2 00425         STZ     CIBUF+24,2    ..     
      00065  2 00001 2 00064         TIX     *-1,2,1       .. C(IR2)=1 AFTER LOOP   
      00066 -0500 00 0 00463  NPRC1  CAL     =-0           INITIALIZE COLUMN MARKER 
      00067  0602 00 0 00365  NPRC2  SLW     PRCOL         ..     
      00070  0634 00 4 00127         SXA     NPSV4,4       SAVE WORD COUNT    
      00071  0560 00 4 00000  NPRC3  LDQ     **,4          PICK UP FIRST OR NEXT BCD WORD 
      00072  0774 00 4 00006         AXT     6,4           SET CHARACTER COUNT
      00073 -0754 00 0 00000  NPRC4  ZAC  
      00074 -0763 00 0 00006         LGL     6             GET A CHARACTER    
      00075  0767 00 0 00001         ALS     1             DOUBLE IT    
      00076  0734 00 1 00000         PAX     0,1           INTO IR1     
      00077 -0500 00 0 00365         CAL     PRCOL    
      00100  0771 00 4 00006         ARS     6,4           POSITION COLUMN MARKER   
      00101 -3 00030 1 00116         TXL     PDIGIT,1,24   SKIP IF DIGIT ONLY 
      00102 -3 00137 1 00104         TXL     PNZONE,1,95    
      00103 -3 00140 1 00125         TXL     NPRC5,1,96    SKIP IF BLANK
                  
      00104  3 00076 1 00110  PNZONE TXH     PNMIN,1,62    SKIP IF 11 OR 0 ZONE     
      00105 -0602 00 2 00424         ORS     CIBUF+23,2    OR IN THE 12 ZONE  
      00106  2 00040 1 00116         TIX     PDIGIT,1,32   REMOVE 12 PUNCH    
      00107  0020 00 0 00125         TRA     NPRC5         SKIP IF + ONLY (NO DIGIT)
1       M1416 786 ... R. DALEY ... DDPAC ... USED AS SUBROUTINE PACK FOR DDIOA   12/11/70  138.6 PAGE 3     
                  
      00110  3 00136 1 00114  PNMIN  TXH     PNZER,1,94    SKIP IF 0 ZONE     
      00111 -0602 00 2 00422         ORS     CIBUF+21,2    OR IN THE 11 ZONE  
      00112  2 00100 1 00116         TIX     PDIGIT,1,64   REMOVE 11 ZONE     
      00113  0020 00 0 00125         TRA     NPRC5         SKIP IN - ONLY (NO DIGIT)
      00114 -0602 00 2 00420  PNZER  ORS     CIBUF+19,2    OR IN THE 0 ZONE   
      00115  1 77640 1 00116         TXI     PDIGIT,1,-96  REMOVE 0 ZONE
                  
      00116 -3 00022 1 00121  PDIGIT TXL     PNDIG,1,18    SKIP IF NORMAL DIGIT     
      00117 -0602 00 2 00400         ORS     CIBUF+3,2     HERE FOR 8-3, 8-4, OR IN THE 8 PUNCH 
      00120  1 77760 1 00121         TXI     *+1,1,-16     REMOVE THE 8 PUNCH 
      00121 -3 00000 2 00123  PNDIG  TXL     *+2,2,0       SKIP IF IN RIGHT HALF OF CARD IMAGE  
      00122 -0602 00 1 00417         ORS     CIBUF+18,1    OTHERWISE 'OR' DIGIT TO LEFT HALF OF IMAGE 
      00123  3 00000 2 00125         TXH     *+2,2,0       SKIP IF IN LEFT HALF OF CARD IMAGE   
      00124 -0602 00 1 00420         ORS     CIBUF+19,1    OTHERWISE 'OR' DIGIT TO RIGHT HALF   
      00125  2 00001 4 00073  NPRC5  TIX     NPRC4,4,1     COUNTS CHARACTERS  
      00126  0771 00 0 00001         ARS     1             SET COLUMN MARKER FOR NEXT WORD
      00127  0774 00 4 00000  NPSV4  AXT     **,4          RESTORE BCD WORD COUNT   
      00130  1 77777 4 00131         TXI     *+1,4,-1      REDUCE WORD COUNT BY ONE 
      00131 -3 00000 4 00136         TXL     PNOW,4,0      SKIP TO END WHEN WORD COUNT EXHAUSTED
      00132 -0100 00 0 00067         TNZ     NPRC2         GET NEXT WORD UNTIL COLUMN MARKER MOVES OUT
      00133 -3 00000 2 00136         TXL     PNOW,2,0      SKIP TO END WHEN CARD IMAGE COMPLETE 
      00134  0774 00 2 00000         AXT     0,2           OTHERWIZE SET UP FOR RIGHT HALF
      00135  0020 00 0 00066         TRA     NPRC1    
                  
      00136  0766 00 0 01361  PNOW   WPRA                  PRINT THIS CARD IMAGE ON LINE  
      00137  0 00000 0 00000  PSPR   ***                   .. NOP OR SPRA 9   
      00140  0540 00 0 00427         RCHA    NPIOC         ..     
      00141 -3 00000 4 00150         TXL     NPEND,4,0     SKIP TO END WHEN WORD COUNT EXHAUSTED
      00142 -0500 00 0 00137         CAL     PSPR          OTHERWISE SWITCH NOP AND SPR 9 
      00143  0560 00 0 00366         LDQ     PSPR1         ..     
      00144 -0600 00 0 00137         STQ     PSPR          ..     
      00145  0602 00 0 00366         SLW     PSPR1         ..     
      00146  0060 00 0 00146         TCOA    *             WAIT UNTIL CHANNEL FINISHED    
      00147  0020 00 0 00063         TRA     1PASS         AND RETURN TO CONVERT REST OF LINE   
                  
      00150  0060 00 0 00150  NPEND  TCOA    *             RESTORE STATUS OF CHANNEL 'A'  
      00151 -0500 00 0 00367         CAL     SVCHAN        ..     
      00152 -0737 00 4 00000         PDC     0,4           ..     
      00153 -0320 00 0 00465         ANA     =O700000377777  ..   
      00154  0560 00 4 77777         LDQ     -1,4          ..     
      00155  0602 00 4 77777         SLW     -1,4          ..     
      00156  0540 00 4 77777         RCHA    -1,4          ..     
      00157 -0600 00 4 77777         STQ     -1,4          ..     
      00160  0060 00 0 00160         TCOA    *             ..     
      00161 -0520 00 0 00370         NZT     SVIOCK        ..     
      00162  0760 00 0 00005         IOT                   ..     
      00163  0761 00 0 00000         NOP  
      00164  0774 00 1 00000  NPIR1  AXT     **,1     
      00165  0774 00 2 00000  NPIR2  AXT     **,2     
      00166  0774 00 4 00000  NPIR4  AXT     **,4     
      00167  0020 00 4 00002         TRA     2,4           RETURN TO CALLER   
                  
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  
1       M1416 786 ... R. DALEY ... DDPAC ... USED AS SUBROUTINE PACK FOR DDIOA   12/11/70  138.6 PAGE 4     
                  
                                             ... RTDINP/RTBINP ... READ CARD FROM MONITOR INPUT TAPE  
                  
      00170 -0500 00 0 00373  RTDINP CAL     RTDU          ENTRY TO READ IN BCD MODE
      00171  0020 00 0 00173         TRA     READ1         ..     
                  
      00172 -0500 00 0 00374  RTBINP CAL     RTBU          ENTRY TO READ IN BINARY MODE   
                  
      00173  0602 00 0 00206  READ1  SLW     READU         SET UP BCD OR BINARY READ INSTRUCTION
      00174  0634 00 4 00212         SXA     RTIR4,4  
      00175 -0500 00 4 00001         CAL     1,4           SET UP I/O COMMAND FROM 1,4    
      00176  0621 00 0 00430         STA     RDCOM         .. ADDRESS OF USER'S INPUT BUFFER    
      00177  0622 00 0 00430         STD     RDCOM         .. WORD COUNT
                  
      00200  0020 00 0 00201  FRSTSW TRA     *+1           FIRST PASS SWITCH  
      00201  0060 00 0 00201         TCOU    *             INITIALIZE ON FIRST PASS ONLY  
      00202  0022 00 0 00203         TRCU    *+1           .. RESET TAPE CHECK TRIGGER    
      00203  0030 00 0 00204         TEFU    *+1           .. RESET EOF TRIGGER     
      00204 -0625 00 0 00200         STL     FRSTSW        SET TO SKIP INITIALIZATION SECTION   
                  
      00205  0774 00 4 00024  RETRY  AXT     20,4          TAPE ERROR RETRY COUNT   
      00206  0 00000 0 00000  READU  ***                   RTDU OR RTBU, READ NEXT CARD FROM TAPE     
      00207  0540 00 0 00430         RCHU    RDCOM         ..     
      00210  0060 00 0 00210         TCOU    *             ..     
      00211  0022 00 0 00215         TRCU    ERRU          .. SKIP ON TAPE ERROR    
      00212  0774 00 4 00000  RTIR4  AXT     **,4          RESTORE CALLER'S IR4     
      00213  0030 60 4 00002         TEFU*   2,4           TAKE EOF EXIT ON END OF FILE   
      00214  0020 00 4 00003         TRA     3,4           OTHERWISE TAKE NORMAL RETURN (3,4)   
                  
      00215  0764 00 0 01202  ERRU   BSRU                  HERE FOR TAPE ERROR, BACKSPACE 
      00216  2 00001 4 00206         TIX     READU,4,1     AND RETRY UP TO 20 TIMES 
      00217  0766 00 0 01361         WPRA                  HERE FOR TOO MANY ERRORS 
      00220  0760 00 0 01361         SPRA    1             SPACE UP PAGE ON LINE    
      00221  0074 00 4 00030         TSX     PRINT,4       AND PRINT ERROR COMMENT  
      00222  0 00014 0 00432                 BADU,,12      ..     
      00223  0766 00 0 01361         WPRA                  SPACE UP PAGE AGAIN
      00224  0760 00 0 01361         SPRA    1             ..     
      00225  0000 00 0 00205         HTR     RETRY         AND STOP, RETRY 20 MORE TIMES ON START     
                  
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  
                  
                                             ... WTDOUT ... WRITE MONITOR OUTPUT TAPE (BCD MODE)
                  
      00226  0020 00 0 00227  WTDOUT TRA     *+1           FIRST PASS SWITCH  
      00227  0060 00 0 00227         TCOO    *             WAIT AND TURN OFF ALL TAPE TRIGGERS  
      00230  0022 00 0 00231         TRCO    *+1           ..     
      00231  0030 00 0 00232         TEFO    *+1           ..     
      00232 -0625 00 0 00226         STL     WTDOUT        CLOSE THIS PATH    
                  
      00233 -0500 00 4 00001         CAL     1,4           PZE LINE,,COUNT    
      00234  0621 00 0 00431         STA     WRCOM         SET UP USER WRITE COMMAND
      00235  0622 00 0 00431         STD     WRCOM         ..     
      00236  0634 00 4 00244         SXA     WRIR4,4       SAVE USER'S IR4    
                  
      00237  0774 00 4 00024  REWRIT AXT     20,4          TAPE ERROR RETRY COUNT   
      00240  0766 00 0 01203  WRITEO WTDO                  TRY TO WRITE THIS RECORD 
      00241  0540 00 0 00431         RCHO    WRCOM         ..     
1       M1416 786 ... R. DALEY ... DDPAC ... USED AS SUBROUTINE PACK FOR DDIOA   12/11/70  138.6 PAGE 5     
                  
      00242  0060 00 0 00242         TCOO    *             ..     
      00243  0022 00 0 00246         TRCO    ERRO          SKIP ON TAPE CHECK 
      00244  0774 00 4 00000  WRIR4  AXT     **,4          OTHERWISE    
      00245  0020 00 4 00002         TRA     2,4           RETURN 
                  
      00246  0764 00 0 01203  ERRO   BSRO                  HERE FOR TAPE ERROR, BACKSPACE 
      00247  2 00001 4 00240         TIX     WRITEO,4,1    AND RETRY UP TO 20 TIMES 
      00250  0766 00 0 01361         WPRA                  SPACE UP PAGE ON LINE    
      00251  0760 00 0 01361         SPRA    1             ..     
      00252  0074 00 4 00030         TSX     PRINT,4       AND PRINT ERROR COMMENT  
      00253  0 00014 0 00446                 BADO,,12      ..     
      00254  0770 00 0 01203         WEFO                  END THIS TAPE
      00255  0770 00 0 01203         WEFO                  ..     
      00256  0766 00 0 01361         WPRA                  SPACE UP PAGE AGAIN
      00257  0760 00 0 01361         SPRA    1             ..     
      00260  0000 00 0 00237         HTR     REWRIT        AND STOP, WAIT FOR OPERATOR    
                  
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  
                  
                                             ... CMEXIT ... COMMON EXIT ROUTINE FROM ALL TRAPS .......
                  
      00261  0564 00 0 00462  CMEXIT ENB     =0            INSURE ALL TRAPS DISABLED
      00262  0604 00 0 00355         STI     CMXSI         SAVE INDICATORS    
      00263  0441 60 4 00002         LDI*    2,4           PICK UP RETURN FLAGS     
      00264  0057 00  700000         RIR     700000        INSURE TAG ZERO    
      00265  0604 00 0 00354         STI     CMXRTN        SAVE RETURN LOCATION     
      00266  0522 00 4 00001         XEC     1,4           RESTORE USER'S IR4 FROM 1,4    
      00267 -0054 00  020000         LFT     20000         WAS ECC SET FOR MEMORY 'A'     
      00270  0020 00 0 00274         TRA     CMRTNB        NO, SET ECC TO MEMORY 'B'
      00271  0441 00 0 00355         LDI     CMXSI         YES, RELOAD INDICATORS   
      00272  0564 00 0 00353         ENB     ENABLE        AND RETURN TO INTERRUPTED PROGRAM    
      00273  0020 60 0 00354         TRA*    CMXRTN        ..     
                  
      00274  0441 00 0 00355  CMRTNB LDI     CMXSI         HERE TO RETURN WITH ECC SET FOR MEMORY 'B' 
      00275  0564 00 0 00353         ENB     ENABLE        RETURN TO INTERRUPTED PROGRAM  
      00276  0562 00 0 00462         LRI     =0            .. (DUMMY TO PROTECT THIS SEQUENCE FROM TRA
      00277 -0761 00 0 00042         SEB                   .. SET ECC FOR MEMORY 'B'
      00300  0020 60 0 00354         TRA*    CMXRTN        ..     
                  
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  
                  
                                             ... ALLSAV ... SAVE BASIC MACHINE CONDITIONS ............
                  
      00301  0634 00 1 00331  ALLSAV SXA     TRPIR1,1      SAVE BASIC MACHINE CONDITIONS  
      00302  0634 00 2 00332         SXA     TRPIR2,2      ..     
      00303  0634 00 3 00333         SXA     TRPIR3,3      ..     
      00304  0774 00 3 00000         AXT     0,3           .. SAVE TAG MODE   
      00305  0774 00 1 00001         AXT     1,1           ..     
      00306  0600 00 0 00357         STZ     TRPMTM        ..     
      00307 -3 00000 3 00313         TXL     7TAG,3,0      .. SKIP IF IN 7-TAG (7094) MODE
      00310 -0625 00 0 00357         STL     TRPMTM        .. OTHERWISE SET 3-TAG (7090) MODE   
      00311  0760 00 0 00016         LMTM                  ..     
      00312  0634 00 3 00333         SXA     TRPIR3,3      .. RESAVE IR3
      00313  0634 00 5 00334  7TAG   SXA     TRPIR5,5      ..     
      00314  0634 00 6 00335         SXA     TRPIR6,6      ..     
      00315  0634 00 7 00336         SXA     TRPIR7,7      ..     
1       M1416 786 ... R. DALEY ... DDPAC ... USED AS SUBROUTINE PACK FOR DDIOA   12/11/70  138.6 PAGE 6     
                  
      00316 -0760 00 0 00016         EMTM                  .. RESTORE 3-TAG (7090) MODE   
      00317  0604 00 0 00360         STI     TRPSI         .. SAVE SENSE INDICATORS 
      00320 -0600 00 0 00361         STQ     TRPMQ         .. MQ  
      00321  0602 00 0 00362         SLW     TRPLAC        .. LOGICAL AC
      00322  0771 00 0 00002         ARS     2             ..     
      00323  0601 00 0 00363         STO     TRPSQ         .. S AND Q BITS    
      00324  0600 00 0 00364         STZ     TRPOV         .. AC OVERFLOW CONDITION 
      00325 -0140 00 0 00327         TNO     *+2           ..     
      00326 -0625 00 0 00364         STL     TRPOV         ..     
      00327  0020 00 4 00001         TRA     1,4           AND RETURN   
                  
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  
                  
                                             ... ALLRST ... RESTORE BASIC MACHINE CONDITIONS .........
                  
      00330  0760 00 0 00016  ALLRST LMTM                  INSURE 7-TAG (9094) MODE 
      00331  0774 00 1 00000  TRPIR1 AXT     **,1          ..     
      00332  0774 00 2 00000  TRPIR2 AXT     **,2          ..     
      00333  0774 00 3 00000  TRPIR3 AXT     **,3          ..     
      00334  0774 00 5 00000  TRPIR5 AXT     **,5          ..     
      00335  0774 00 6 00000  TRPIR6 AXT     **,6          ..     
      00336  0774 00 7 00000  TRPIR7 AXT     **,7          ..     
      00337  0520 00 0 00357         ZET     TRPMTM        .. RESTORE TAG MODE
      00340 -0760 00 0 00016         EMTM                  ..     
      00341  0560 00 0 00363         LDQ     TRPSQ         .. RESTORE S AND Q BITS  
      00342  0500 00 0 00342         CLA     *             .. AND INSURE OVERFLOW LIGHT IS ON   
      00343  0763 00 0 00001         LLS     1             ..     
      00344  0767 00 0 00044         ALS     36            ..     
      00345 -0501 00 0 00362         ORA     TRPLAC        .. RESTORE LOGICAL AC    
      00346  0560 00 0 00361         LDQ     TRPMQ         .. RESTORE MQ
      00347  0441 00 0 00360         LDI     TRPSI         .. RESTORE SI
      00350 -0520 00 0 00364         NZT     TRPOV         .. RESTORE CORRECT OVERFLOW STATUS   
      00351  0140 00 0 00352         TOV     *+1           ..     
      00352  0020 00 4 00001         TRA     1,4           AND RETURN   
                  
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  
                  
                                             ... ENABLE ... COMMON ENABLE WORD FOR ALL TRAPS .......  
                  
      00353 +000000000000     ENABLE OCT     0             COMMON ENABLE WORD 
                  
                              *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  
                  
                                             ..... CONSTANT AND VARIABLE STORAGE FOR 'DDPAC' ........ 
                  
                  
      00354  0 00000 0 00000  CMXRTN PZE     0             TEMP FOR RETURN FROM 'CMEXIT'  
      00355  0 00000 0 00000  CMXSI  PZE     0             SENSE INDICATORS SAVED BY 'CMEXIT'   
                  
      00356  0 00000 0 00000  TRPIR4 PZE     0             MACHINE CONDITIONS SAVED ON TRAP     
      00357  0 00000 0 00000  TRPMTM PZE     **            ..     
      00360  0 00000 0 00000  TRPSI  PZE     0             ..     
      00361  0 00000 0 00000  TRPMQ  PZE     0             ..     
      00362  0 00000 0 00000  TRPLAC PZE     0             ..     
      00363  0 00000 0 00000  TRPSQ  PZE     0             ..     
      00364  0 00000 0 00000  TRPOV  PZE     0             ..     
1       M1416 786 ... R. DALEY ... DDPAC ... USED AS SUBROUTINE PACK FOR DDIOA   12/11/70  138.6 PAGE 7     
                  
      00365  0 00000 0 00000  PRCOL  PZE     0             TEMPS FOR EPRINT   
      00366  0 00000 0 00000  PSPR1  PZE     0             ..     
      00367  0 00000 0 00000  SVCHAN PZE     0             ..     
      00370  0 00000 0 00000  SVIOCK PZE     0             ..     
                  
      00371  0760 00 0 01371  SPR9   SPRA    9             CONSTANT FOR EPRINT
      00372  0761 00 0 00000  NOP    NOP                   CONSTANT FOR EPRINT
      00373  0762 00 0 01202  RTDU   RTDU                  CONSTANT FOR RTDINP
      00374  0762 00 0 01222  RTBU   RTBU                  CONSTANT FOR RTBINP
                  
      00375                   CIBUF  BSS     24            CARD IMAGE BUFFER FOR 'EPRINT' 
                  
      00425 -0 00003 0 00000  LDFIOP IOCP    0,,3          LOAD FIOP INTO MEMORY 'A'
      00426  1 00000 0 00000         TCH     0             ..     
      00427  0 00030 0 00375  NPIOC  IOCD    CIBUF,,24     I/O COMMAND TO WRITE OUT CARD IMAGE  
      00430  3 00000 0 00000  RDCOM  IORT    **,,**        COMMAND TO READ FROM MONITOR INPUT TAPE    
      00431  0 00000 0 00000  WRCOM  IOCD    **,,**        COMMAND TO WRITE ON MONITOR OUTPUT TAPE    
                  
      00432  545454545454     BADU   BCI     7,******* MONITOR INPUT TAPE WILL NOT READ,  
      00441  475125626260            BCI     5,PRESS START TO RETRY. ******** 
      00446  545454545460     BADO   BCI     7,***** MONITOR OUTPUT TAPE WILL NOT WRITE,  
      00455  233021452725            BCI     5,CHANGE AND PRESS START. ****** 
                  
                                     END  
                  
        LITERALS  
      00462  000000000000     
      00463  400000000000     
      00464  700000000000     
      00465  700000377777     
1       M1416 786 ... R. DALEY ... DDPAC ... USED AS SUBROUTINE PACK FOR DDIOA   12/11/70  138.6 PAGE 1     
                        POST PROCESSOR ASSEMBLY DATA  
                  
        466 IS THE FIRST LOCATION NOT USED BY THIS PROGRAM  
                  
0REFERENCES TO DEFINED SYMBOLS      
       1203      O     2,  227,  230,  231,  240,  241,  242,  243,  246,  254,  255
       1202      U     2,  201,  202,  203,  207,  210,  211,  213,  215,  373,  374
        372    NOP    57
        313   7TAG   307
        446   BADO   253
        432   BADU   222
        246   ERRO   243
        215   ERRU   211
          2   EXIT     0
        136   PNOW   131,  133
        137   PSPR    60,  142,  144
        374   RTBU   172
        373   RTDU   170
        371   SPR9    61
         63  1PASS   147
         26  A1BAD    21,   22
        375  CIBUF    64,  105,  111,  114,  117,  122,  124,  427
        355  CMXSI   262,  271,  274
         15  EXIT1    26,   27
        150  NPEND    55,  141
        427  NPIOC   140
        164  NPIR1    41
        165  NPIR2    42
        166  NPIR4    43
         66  NPRC1   135
         67  NPRC2   132
         71  NPRC3    56
         73  NPRC4   125
        125  NPRC5   103,  107,  113
        127  NPSV4    70
        121  PNDIG   116
        110  PNMIN   104
        114  PNZER   110
        365  PRCOL    67,   77
         30  PRINT     0,  221,  252
        366  PSPR1    62,  143,  145
        430  RDCOM   176,  177,  207
        173  READ1   171
        206  READU   173,  216
        205  RETRY   225
        212  RTIR4   174
        361  TRPMQ   320,  346
        364  TRPOV   324,  326,  350
        360  TRPSI   317,  347
        363  TRPSQ   323,  341
        431  WRCOM   234,  235,  241
        244  WRIR4   236
        330 ALLRST     0
        301 ALLSAV     0
        261 CMEXIT     0
        274 CMRTNB   270
1       M1416 786 ... R. DALEY ... DDPAC ... USED AS SUBROUTINE PACK FOR DDIOA   12/11/70  138.6 PAGE 2     
                        POST PROCESSOR ASSEMBLY DATA  
                  
        354 CMXRTN   265,  273,  300
        353 ENABLE     0,   36,  272,  275
         41 EPRINT     0,   34
        200 FRSTSW   204
        425 LDFIOP    17
        116 PDIGIT   101,  106,  112,  115
        104 PNZONE   102
         37 PRINX4    30
        237 REWRIT   260
        172 RTBINP     0
        170 RTDINP     0
        367 SVCHAN    50,  151
        370 SVIOCK    45,   47,  161
        331 TRPIR1   301
        332 TRPIR2   302
        333 TRPIR3   303,  312
        356 TRPIR4      
        334 TRPIR5   313
        335 TRPIR6   314
        336 TRPIR7   315
        362 TRPLAC   321,  345
        357 TRPMTM   306,  310,  337
        240 WRITEO   247
         41 WRTOPR     0,   41
        226 WTDOUT     0,  232
                  
0 NO ERROR IN ABOVE ASSEMBLY. 




PRNTER   BCD 02/22/71 1902.7    5603         00000    
1                                                                                02/22/71 1901.0 PAGE 1     
                  
                       00004         ENTRY   PRNTER   
                                     EXTERN  IODIAG,WRFLX   
                  
                                             THIS ROUTINE IS USED BY ALL NON-FOREGROUND   
                                             PROGRAMS USING FILE SYSTEM ENTRIES.  IT IS   
                                             COMPLETE AND CHECKED UP TO VERSION 'FCOR2M'  
                                             OF THE FILE CO-ORDINATOR.  
                  
                                                           D.R. WIDRIG  DEC. 1965   
                                                           REVISED OCT. 1966  D.R. WIDRIG 
                  
                              *     
                  
        TRANSFER VECTOR 
      00000  314624312127     IODIAG
      00001  665126436760     WRFLX 
                  
        LINKAGE DIRECTOR
      00002  000000000000     
      00003  475145632551     
                  
      00004  0634 00 1 00067  PRNTER SXA     PERX1,1  
      00005  0634 00 2 00070         SXA     PERX2,2  
      00006  0634 00 4 00071         SXA     PERX4,4  
      00007  0074 00 4 00000         TSX     IODIAG,4      GET USER IO DIAGNOSTIC   
      00010  3 00007 0 01065         PTH     BUFF,,7       ..     
                  
      00011 -0500 00 0 01066         CAL     BUFF+1        GET NAME OF ROUTINE
      00012  0602 00 0 01045         SLW     LINE1+3  
      00013 -0500 00 0 01065         CAL     BUFF     
      00014  0074 00 4 00120         TSX     CLOC,4        CONVERT LOCATION FOR PRINTING  
      00015  0602 00 0 01050         SLW     LINE1+6  
      00016 -0500 00 0 01071         CAL     BUFF+4        GET NAME OF FILE   
      00017  0602 00 0 01053         SLW     LINE1+9  
      00020 -0500 00 0 01072         CAL     BUFF+5   
      00021  0602 00 0 01055         SLW     LINE1+11 
      00022 -0500 00 0 01073         CAL     BUFF+6        LOCATION IN FILE SYSTEM  
      00023  0074 00 4 00120         TSX     CLOC,4        CONVERT FOR PRINTING     
      00024  0602 00 0 01061         SLW     LINE3+3  
                  
      00025  0774 00 4 00013         AXT     11,4          INITIALIZE TO PRINT 11 WORDS FIRST LINE    
      00026  0535 00 2 01067         LAC     BUFF+2,2      GET ERROR CODE     
      00027  3 77775 2 00113         TXH     STAND,2,-3    1 AND 2 ARE THE SAME FOR ALL ROUTINES
      00030 -3 77634 2 00115         TXL     STAND1,2,-100 100 AND UP ARE STANDARD ALSO   
      00031 -0500 00 0 01066         CAL     BUFF+1        ALL OTHER CODES DEPEND ON IO ROUTINE 
      00032  0774 00 1 00072         AXT     NOCALL,1 
      00033 -0340 00 1 00233         LAS     CALLS,1       SEARCH FOR IO ROUTINE    
      00034  0020 00 0 00036         TRA     *+2
      00035  0020 00 0 00047         TRA     PERA1         FOUND ROUTINE
      00036  2 00002 1 00033         TIX     *-3,1,2       ..     
                  
      00037 -0634 00 4 00062  NFOUND SXD     PRINT1,4      INITIALIZE COUNT FOR FIRST LINE
      00040  0560 00 0 01102         LDQ     =H 00000      ZERO ERROR CODE    
      00041 -3 00000 2 00044         TXL     *+3,2,0       TEST IF CODE IS 0  
      00042  0756 00 2 00000         PCA     0,2           IF NON-ZERO, CONVERT FOR PRINTING    
      00043  0074 00 4 00131         TSX     CDEC,4        .. JUST PRINT OUT NUMBER 
1                                                                                02/22/71 1901.0 PAGE 2     
                  
      00044 -0600 00 0 00420         STQ     DIAG0+3  
      00045  0500 00 0 00233         CLA     DNF           GET POINTER TO COMMENT   
      00046  0020 00 0 00060         TRA     PRINT+1       .. AND GO TO PRINT 
                  
      00047  0500 00 1 00234  PERA1  CLA     CALLS+1,1     HAVE FOUND IO CALL 
      00050  0120 00 0 00052         TPL     *+2           MINUS MEANS DON'T PRINT FILE NAMES   
      00051  0774 00 4 00006         AXT     6,4           OTHERWISE, PRINT WHOLE LINE    
      00052  0760 00 0 00006         COM                   PICK UP CONTROL WORDS    
      00053  0622 00 0 00054         STD     *+1           DECREMENT IS MAXIMUM NUMBER OF DEFINED CODE
      00054 -3 00000 2 00037         TXL     NFOUND,2,**   IF CODE TOO LARGE, GO TO NFOUND
      00055  0500 60 1 00234         CLA*    CALLS+1,1     HERE IF CODE IS IN BOUNDS
      00056 -0120 00 0 00073         TMI     IOERR         MINUS MEANS IO ERROR     
      00057 -0634 00 4 00062  PRINT  SXD     PRINT1,4      STORE AWAY LINE COUNT    
      00060  0601 00 0 00064         STO     PRINT2+1      STORE AWAY POINTER TO COMMENT  
      00061  0074 00 4 00001         TSX     WRFLX,4       PRINT OUT FIRST LINE OF COMMENT
      00062  0 00000 0 01043  PRINT1         LINE1+1,,**   ..     
      00063  0074 00 4 00001  PRINT2 TSX     WRFLX,4       SECOND LINE  
      00064  0 00000 0 00000         PZE     **,,**        ..     
      00065  0074 00 4 00001  PRINT3 TSX     WRFLX,4       THIRD LINE   
      00066  0 00007 0 01056         PZE     LINE3,,7      ..     
      00067  0774 00 1 00000  PERX1  AXT     **,1     
      00070  0774 00 2 00000  PERX2  AXT     **,2     
      00071  0774 00 4 00000  PERX4  AXT     **,4     
      00072  0020 00 4 00001         TRA     1,4           AND RETURN TO CALLER     
                  
      00073  0535 00 2 01070  IOERR  LAC     BUFF+3,2      HERE FOR IO ERROR...GET IO ERROR CODE
      00074  1 00001 4 00075         TXI     *+1,4,1       SET UP WORD COUNT FOR FIRST PRINT LINE     
      00075 -0634 00 4 00102         SXD     IOER1+2,4     ..     
      00076 -3 77771 2 00104         TXL     IOER2,2,-NOIOER    TEST IF CODE TOO LARGE    
      00077  0500 00 2 00406         CLA     IOERT,2       PICK UP POINTER TO COMMENT     
      00100  0601 00 0 00064  IOER1  STO     PRINT2+1 
      00101  0074 00 4 00001         TSX     WRFLX,4       PRINT OUT DIFFERENT FIRST LINE 
      00102  0 00000 0 01042                 LINE1,,**     ..     
      00103  0020 00 0 00063         TRA     PRINT2        SECOND AND THIRD LINES THE SAME
      00104  0560 00 0 01102  IOER2  LDQ     =H 00000      PRINT OUT UNKNOWN ERROR CODE   
      00105 -3 00000 2 00110         TXL     *+3,2,0       SKIP CONVERSION IF 0 CODE
      00106  0756 00 2 00000         PCA     0,2           OTHERWISE, CONVERT FOR PRINTING
      00107  0074 00 4 00131         TSX     CDEC,4        CONVERT
      00110 -0600 00 0 00420         STQ     DIAG0+3  
      00111  0500 00 0 00233         CLA     DNF           POINTER TO COMMENT 
      00112  0020 00 0 00100         TRA     IOER1    
                  
      00113  0500 00 2 00233  STAND  CLA     PZE1-1,2      ERROR CODES 1 AND 2 ARE STANDARD     
      00114  0020 00 0 00057         TRA     PRINT         .. FOR ALL IO CALLS
      00115 -3 77632 2 00037  STAND1 TXL     NFOUND,2,PZE100-PZE999-100   UNKNOWN IF CODE TOO LARGE   
      00116  0500 00 2 00072         CLA     PZE100-100,2  PICK UP STANDARD CODE    
      00117  0020 00 0 00057         TRA     PRINT    
                  
      00120  0634 00 4 00127  CLOC   SXA     CLOC4,4  
      00121 -0765 00 0 00017         LGR     15            SHIFT LOCATION INTO MQ   
      00122 -0500 00 0 01074         CAL     =H00000       BLANK IN AC  
      00123  0774 00 4 00005         AXT     5,4
      00124  0767 00 0 00003  CLOC1  ALS     3  
      00125 -0763 00 0 00003         LGL     3  
      00126  2 00001 4 00124         TIX     CLOC1,4,1
      00127  0774 00 4 00000  CLOC4  AXT     **,4     
1                                                                                02/22/71 1901.0 PAGE 3     
                  
      00130  0020 00 4 00001         TRA     1,4
                              *     
      00131  0560 00 0 01074  CDEC   LDQ     =H00000  
      00132 -0760 00 0 00003         SSM                   TO PRESERVE BLANK  
      00133  0225 06 0 01075         VDP     =1E4B29,,6     
      00134  0225 06 0 01076         VDP     =1E3B23,,6     
      00135  0225 06 0 01077         VDP     =100B17,,6     
      00136  0225 06 0 01100         VDP     =10B11,,6
      00137  0225 06 0 01101         VDP     =1B5,,6  
      00140  0020 00 4 00001         TRA     1,4
1                                                                                02/22/71 1901.0 PAGE 4     
                  
                              *     
                  
                  
      00141  644724442624     CALLB  BCI     1,UPDMFD      TABLE OF POSSIBLE IO CALLS     
      00142  0 00005 2 00235                 UPDMF,2,5
      00143  242543442624            BCI     1,DELMFD 
      00144  0 00004 2 00241                 DELMF,2,4
      00145  216363212330            BCI     1,ATTACH 
      00146  0 00004 2 00243                 ATTAC,2,4
      00147  644724216325            BCI     1,UPDATE 
      00150 -0 00003 2 00240         MZE     UPDAT,2,3
      00151  464725456060            BCI     1,OPEN   
      00152  0 00024 2 00245                 OPEN,2,20
      00153  226426262551            BCI     1,BUFFER 
      00154  0 00006 2 00267                 BUFFE,2,6
      00155  512426314325            BCI     1,RDFILE 
      00156  0 00010 2 00273                 RDFIL,2,8
      00157  512466213163            BCI     1,RDWAIT 
      00160  0 00010 2 00273                 RDFIL,2,8
      00161  665126314325            BCI     1,WRFILE 
      00162  0 00012 2 00301                 WRFIL,2,10     
      00163  665166213163            BCI     1,WRWAIT 
      00164  0 00012 2 00301                 WRFIL,2,10     
      00165  635126314325            BCI     1,TRFILE 
      00166  0 00011 2 00311                 TRFIL,2,9
      00167  262330252342            BCI     1,FCHECK 
      00170  0 00005 2 00320                 CLOSE,2,5
      00171  266621316360            BCI     1,FWAIT  
      00172  0 00005 2 00320                 CLOSE,2,5
      00173  234346622560            BCI     1,CLOSE  
      00174  0 00006 2 00320                 CLOSE,2,6
      00175  512562256326            BCI     1,RESETF 
      00176  0 00003 2 00240                 UPDAT,2,3
      00177  233026314325            BCI     1,CHFILE 
      00200  0 00014 2 00324                 CHFIL,2,12     
      00201  242543263143            BCI     1,DELFIL 
      00202  0 00010 2 00336                 DELFL,2,8
      00203  266263216325            BCI     1,FSTATE 
      00204  0 00005 2 00336                 DELFL,2,5
      00205  444665263143            BCI     1,MOVFIL 
      00206  0 00012 2 00344                 MOVFL,2,10     
      00207  622563263143            BCI     1,SETFIL 
      00210  0 00005 2 00354                 SETFL,2,5
      00211  433145426060            BCI     1,LINK   
      00212  0 00006 2 00357                 LINK,2,6 
      00213  644543314542            BCI     1,UNLINK 
      00214  0 00005 2 00363                 UNLIN,2,5
      00215  214343466360            BCI     1,ALLOT  
      00216 -0 00003 2 00366         MZE     ALLOT,2,3
      00217  626346512725            BCI     1,STORGE 
      00220 -0 00004 2 00366         MZE     ALLOT,2,4
      00221  444664456360            BCI     1,MOUNT  
      00222 -0 00004 2 00370         MZE     MOUNT,2,4
      00223  644446644563            BCI     1,UMOUNT 
      00224 -0 00003 2 00372         MZE     UMOUN,2,3
      00225  652551312670            BCI     1,VERIFY 
1                                                                                02/22/71 1901.0 PAGE 5     
                  
      00226 -0 00007 2 00373         MZE     VERIF,2,7
      00227  432122254360            BCI     1,LABEL  
      00230 -0 00006 2 00373         MZE     VERIF,2,6
      00231  632147263143            BCI     1,TAPFIL 
      00232  0 00006 2 00400                 TAPFL,2,6
      00233                   CALLS  BSS     0  
                       00072  NOCALL EQU     CALLS-CALLB    
1                                                                                02/22/71 1901.0 PAGE 6     
                  
                              *     
                              *              POINTER TO DIAGNOSTIC COMMENTS   
                              *     
      00233  0 00004 0 00415  DNF    PZE     DIAG0,,4 
      00234  0 00010 0 00421  PZE1   PZE     DIAG1,,8 
      00235  0 00006 0 00431  PZE2           DIAG2,,6 
      00236  0 00004 0 00437  PZE100         DIAG00,,4
      00237  0 00004 0 00443                 DIAG01,,4
      00240                   PZE999 BSS     0             END OF STANDARD CODES    
                              *     
                       00235  UPDMF  EQU     *-3
      00240  0 00004 0 00447                 DIAGA1,,4
      00241  0 00004 0 00453                 DIAGA2,,4
      00242  0 00004 0 00466                 DIAGA5,,4
                       00240  UPDAT  EQU     *-3
      00243  0 00004 0 00453                 DIAGA2,,4
                       00241  DELMF  EQU     *-3
      00244  0 00003 0 00457                 DIAGA3,,3
      00245  0 00004 0 00462                 DIAGA4,,4
                       00243  ATTAC  EQU     *-3
      00246  0 00003 0 00457                 DIAGA3,,3
      00247  0 00004 0 00453                 DIAGA2,,4
                              *     
                       00245  OPEN   EQU     *-3
      00250  0 00004 0 00472                 DIAGB1,,4
      00251  0 00004 0 00476                 DIAGB2,,4
      00252  0 00003 0 00502                 DIAGB3,,3
      00253  0 00004 0 00415                 DIAG0,,4 
      00254  0 00004 0 00511                 DIAGB5,,4
      00255  0 00004 0 00515                 DIAGB6,,4
      00256  0 00006 0 00521                 DIAGB7,,6
      00257  0 00006 0 00527                 DIAGB8,,6
      00260  0 00004 0 00453                 DIAGA2,,4
      00261  0 00003 0 00535                 DIAGB9,,3
      00262  0 00003 0 00540                 DIAGC1,,3
      00263  0 00005 0 00543                 DIAGC2,,5
      00264  0 00004 0 00550                 DIAGC3,,4
      00265  0 00005 0 00554                 DIAGC4,,5
      00266 -0 00000 0 00000         MZE  
      00267  0 00004 0 00561                 DIAGC5,,4
      00270  0 00004 0 00443                 DIAG01,,4
      00271  0 00007 0 00603                 DIAGC9,,7
                              *     
                       00267  BUFFE  EQU     *-3
      00272  0 00003 0 00612                 DIAGD1,,3
      00273  0 00005 0 00615                 DIAGD2,,5
      00274  0 00003 0 00622                 DIAGD3,,3
      00275 -0 00000 0 00000         MZE  
                       00273  RDFIL  EQU     *-3
      00276  0 00003 0 00612                 DIAGD1,,3
      00277  0 00004 0 00625                 DIAGD4,,4
      00300  0 00005 0 00635                 DIAGD6,,5
      00301  0 00005 0 00615                 DIAGD2,,5
      00302 -0 00000 0 00000         MZE  
      00303  0 00004 0 00565                 DIAGC6,,4
                       00301  WRFIL  EQU     *-3
1                                                                                02/22/71 1901.0 PAGE 7     
                  
      00304  0 00003 0 00612                 DIAGD1,,3
      00305  0 00004 0 00631                 DIAGD5,,4
      00306  0 00005 0 00635                 DIAGD6,,5
      00307  0 00004 0 00550                 DIAGC3,,4
      00310  0 00005 0 00615                 DIAGD2,,5
      00311 -0 00000 0 00000         MZE  
      00312  0 00005 0 00571                 DIAGC7,,5
      00313  0 00005 0 00576                 DIAGC8,,5
                              *     
                       00311  TRFIL  EQU     *-3
      00314  0 00003 0 00612                 DIAGD1,,3
      00315  0 00004 0 00631                 DIAGD5,,4
      00316  0 00005 0 00635                 DIAGD6,,5
      00317  0 00005 0 00615                 DIAGD2,,5
      00320  0 00003 0 00642                 DIAGD7,,3
      00321 -0 00000 0 00000         MZE  
      00322  0 00005 0 00571                 DIAGC7,,5
                       00320  CLOSE  EQU     *-3
      00323  0 00003 0 00612                 DIAGD1,,3
      00324  0 00005 0 00615                 DIAGD2,,5
      00325 -0 00000 0 00000         MZE  
      00326  0 00004 0 00453                 DIAGA2,,4
                              *     
                       00324  CHFIL  EQU     *-3
      00327  0 00006 0 00645                 DIAGD8,,6
      00330  0 00003 0 00535                 DIAGB9,,3
      00331  0 00004 0 00505                 DIAGB4,,4
      00332  0 00005 0 00511                 DIAGB5,,5
      00333  0 00004 0 00515                 DIAGB6,,4
      00334  0 00010 0 00653                 DIAGD9,,8
      00335  0 00004 0 00550                 DIAGC3,,4
      00336  0 00006 0 00663                 DIAGE2,,6
      00337  0 00004 0 00453                 DIAGA2,,4
      00340  0 00004 0 00472                 DIAGB1,,4
                              *     
                       00336  DELFL  EQU     *-3
      00341  0 00003 0 00535                 DIAGB9,,3
      00342  0 00004 0 00505                 DIAGB4,,4
      00343  0 00005 0 00511                 DIAGB5,,5
      00344  0 00004 0 00671                 DIAGE3,,4
      00345  0 00004 0 00453                 DIAGA2,,4
      00346  0 00004 0 00472                 DIAGB1,,4
                              *     
                       00344  MOVFL  EQU     *-3
      00347  0 00003 0 00535                 DIAGB9,,3
      00350  0 00004 0 00675                 DIAGE4,,4
      00351  0 00004 0 00671                 DIAGE3,,4
      00352  0 00010 0 00701                 DIAGE5,,8
      00353  0 00004 0 00453                 DIAGA2,,4
      00354  0 00004 0 00472                 DIAGB1,,4
      00355  0 00004 0 00443                 DIAG01,,4
      00356  0 00004 0 00561                 DIAGC5,,4
                       00354  SETFL  EQU     *-3
      00357  0 00003 0 00540                 DIAGC1,,3
      00360  0 00004 0 00453                 DIAGA2,,4
      00361  0 00004 0 00675                 DIAGE4,,4
1                                                                                02/22/71 1901.0 PAGE 8     
                  
                       00357  LINK   EQU     *-3
      00362  0 00006 0 00663                 DIAGE2,,6
      00363  0 00004 0 00453                 DIAGA2,,4
      00364  0 00006 0 00711                 DIAGE6,,6
      00365  0 00004 0 00561                 DIAGC5,,4
                       00363  UNLIN  EQU     *-3
      00366  0 00003 0 00535                 DIAGB9,,3
      00367  0 00003 0 00717                 DIAGE7,,3
      00370  0 00004 0 00453                 DIAGA2,,4
                       00366  ALLOT  EQU     *-3
      00371  0 00003 0 00540                 DIAGC1,,3
      00372  0 00004 0 00453                 DIAGA2,,4
                              *     
                       00370  MOUNT  EQU     *-3
      00373  0 00007 0 00722                 DIAGF1,,7
      00374  0 00007 0 00766                 DIAGF8,,7
                       00372  UMOUN  EQU     *-3
      00375  0 00005 0 00731                 DIAGF2,,5
                       00373  VERIF  EQU     *-3
      00376  0 00004 0 00747                 DIAGF5,,4
      00377  0 00005 0 00761                 DIAGF7,,5
      00400  0 00006 0 00741                 DIAGF4,,6
      00401  0 00006 0 00753                 DIAGF6,,6
      00402  0 00003 0 00736                 DIAGF3,,3
                       00400  TAPFL  EQU     *-3
      00403  0 00006 0 00663                 DIAGE2,,6
      00404  0 00004 0 00453                 DIAGA2,,4
      00405  0 00005 0 00543                 DIAGC2,,5
      00406  0 00004 0 00561                 DIAGC5,,4
                              *     
                       00406  IOERT  EQU     *-1
      00407  0 00006 0 00775                 DIAGI1,,6
      00410  0 00006 0 01003                 DIAGI2,,6
      00411  0 00006 0 01011                 DIAGI3,,6
      00412  0 00007 0 01017                 DIAGI4,,7
      00413  0 00006 0 01026                 DIAGI5,,6
      00414  0 00006 0 01034                 DIAGI6,,6
                       00007  NOIOER EQU     *-IOERT  
1                                                                                02/22/71 1901.0 PAGE 9     
                  
                              *     
                  
                                             DIAGNOSTIC COMMENTS  
                  
      00415  644542454666     DIAG0  BCI     4,UNKNOWN ERROR CODE 
      00421  314343252721     DIAG1  BCI     8,ILLEGAL CALLING SEQUENCE OR PROTECTION VIOLATION 
      00431  644521646330     DIAG2  BCI     6,UNAUTHORIZED USE OF PRIVILEGED CALL  
      00437  255151465160     DIAG00 BCI     4,ERROR IN U.F.D./M.F.D.   
      00443  643326332433     DIAG01 BCI     4,U.F.D./M.F.D. NOT FOUND  
                              *     
      00447  646225516021     DIAGA1 BCI     4,USER ALREADY IN M.F.D.   
      00453  442123303145     DIAGA2 BCI     4,MACHINE OR SYSTEM ERROR  
      00457  646225516045     DIAGA3 BCI     3,USER NOT IN M.F.D. 
      00462  643326332433     DIAGA4 BCI     4,U.F.D. STILL IN USE
      00466  712551466047     DIAGA5 BCI     4,ZERO PROBLEM NUMBER
                              *     
      00472  263143256021     DIAGB1 BCI     4,FILE ALREADY ACTIVE
      00476  634646604421     DIAGB2 BCI     4,TOO MANY ACTIVE FILES    
      00502  314343252721     DIAGB3 BCI     3,ILLEGAL STATUS     
      00505  433145422524     DIAGB4 BCI     4,LINKED FILE NOT FOUND    
      00511  433145426024     DIAGB5 BCI     4,LINK DEPTH EXCEEDED
      00515  263143256031     DIAGB6 BCI     4,FILE IN 'PRIVATE' MODE   
      00521  216363254447     DIAGB7 BCI     6,ATTEMPT TO WRITE A 'READ-ONLY' FILE  
      00527  216363254447     DIAGB8 BCI     6,ATTEMPT TO READ A 'WRITE-ONLY' FILE  
      00535  263143256045     DIAGB9 BCI     3,FILE NOT FOUND     
                              *     
      00540  314343252721     DIAGC1 BCI     3,ILLEGAL DEVICE     
      00543  454660624721     DIAGC2 BCI     5,NO SPACE ALLOTTED FOR DEVICE   
      00550  512523465124     DIAGC3 BCI     4,RECORD QUOTA OVERFLOW    
      00554  263143256022     DIAGC4 BCI     5,FILE BEING RESTORED FROM TAPE  
      00561  314343252721     DIAGC5 BCI     4,ILLEGAL USE OF M.F.D.    
      00565  643326332433     DIAGC6 BCI     4,U.F.D. HAS BEEN DELETED  
      00571  314343252721     DIAGC7 BCI     5,ILLEGAL USE OF WRITE-ONLY FILE 
      00576  442167314464     DIAGC8 BCI     5,MAXIMUM FILE LENGTH EXCEEDED   
      00603  263143256066     DIAGC9 BCI     7,FILE WAS REMOVED AND MUST BE RETRIEVED     
                              *     
      00612  263143256045     DIAGD1 BCI     3,FILE NOT ACTIVE    
      00615  475125653146     DIAGD2 BCI     5,PREVIOUS I/O OUT OF BOUNDS     
      00622  226426262551     DIAGD3 BCI     3,BUFFER TOO SMALL   
      00625  263143256045     DIAGD4 BCI     4,FILE NOT IN READ STATUS  
      00631  263143256045     DIAGD5 BCI     4,FILE NOT IN WRITE STATUS 
      00635  454660226426     DIAGD6 BCI     5,NO BUFFER ASSIGNED TO FILE     
      00642  145125434346     DIAGD7 BCI     3,'RELLOC' TOO LARGE 
      00645  216363254447     DIAGD8 BCI     6,ATTEMPT TO CHANGE M.F.D. OR U.F.D.   
      00653  216363254447     DIAGD9 BCI     8,ATTEMPT TO CHANGE PROTECTED FILE OF ANOTHER USER 
                              *     
      00663  263143256021     DIAGE2 BCI     6,FILE ALREADY EXISTS OR NAME CONFLICT 
      00671  263143256031     DIAGE3 BCI     4,FILE IS 'PROTECTED'
      00675  263143256031     DIAGE4 BCI     4,FILE IS A 'LINKED' FILE  
      00701  263143256021     DIAGE5 BCI     8,FILE ALREADY EXISTS IN OTHER FILE DIRECTORY
      00711  466330255160     DIAGE6 BCI     6,OTHER FILE DIRECTORY NOT IN M.F.D.   
      00717  263143256031     DIAGE7 BCI     3,FILE IS NOT LINKED 
                              *     
      00722  454660632147     DIAGF1 BCI     7,NO TAPE AVAILABLE ON SPECIFIED CHANNEL     
      00731  632147256026     DIAGF2 BCI     5,TAPE FILE CURRENTLY IN USE     
      00736  432122254360     DIAGF3 BCI     3,LABEL IS INCORRECT 
1                                                                                02/22/71 1901.0 PAGE 10    
                  
      00741  444664456360     DIAGF4 BCI     6,MOUNT FAILED, ILLEGAL OPERATION
      00747  632147256026     DIAGF5 BCI     4,TAPE FILE DOES NOT EXIST 
      00753  444664456360     DIAGF6 BCI     6,MOUNT FAILED, OPNS. DIFFICULTIES     
      00761  442123303145     DIAGF7 BCI     5,MACHINE ERROR OR BAD STATUS    
      00766  146445316345     DIAGF8 BCI     7,'UNITNO' - 'AUTHNO' CONFLICT FOR TAPE FILE 
                              *     
      00775  472151316370     DIAGI1 BCI     6,PARITY ERROR READING OR WRITING FILE 
      01003  262163214360     DIAGI2 BCI     6,FATAL ERROR READING OR WRITING FILE  
      01011  216521314321     DIAGI3 BCI     6,AVAILABLE SPACE ON DEVICE EXHAUSTED  
      01017  632147256026     DIAGI4 BCI     7,TAPE FILE NOT MOUNTED OR NOT AVAILABLE     
      01026  314343252721     DIAGI5 BCI     6,ILLEGAL OPERATION ON THIS DEVICE     
      01034  254524604626     DIAGI6 BCI     6,END OF TAPE SENSED WHILE WRITING     
                              *     
                              *     
                              *     
                              *     
      01042  606060603146     LINE1  BCI     1,    IO 
      01043  602551514651            BCI     1, ERROR 
      01044 -203145605757            OCT     603145605757   
      01045                          BSS     1  
      01046  602163604346            BCI     3, AT LOCATION 
      01051  603145654643            BCI     3, INVOLVING   
      01054 -205757575757            OCT     605757575757   
      01055                          BSS     1  
      01056  602646644524     LINE3  BCI     4, FOUND AT LOCATION 
      01062  603145602631            BCI     3, IN FILE SYSTEM.   
                              *     
      01065                   BUFF   BSS     7  
                                     END  
                  
        LITERALS  
      01074  000000000060     
      01075  000002342000     
      01076  000017500000     
      01077  000144000000     
      01100  001200000000     
      01101  010000000000     
      01102  600000000000     
1                                                                                02/22/71 1901.0 PAGE 1     
                        POST PROCESSOR ASSEMBLY DATA  
                  
       1103 IS THE FIRST LOCATION NOT USED BY THIS PROGRAM  
                  
0REFERENCES TO DEFINED SYMBOLS      
        233    DNF    45,  111
       1065   BUFF    10,   11,   13,   16,   20,   22,   26,   31,   73
        131   CDEC    43,  107
        120   CLOC    14,   23
        357   LINK   212,  362
        245   OPEN   152,  250
        234   PZE1   113
        235   PZE2      
        366  ALLOT   216,  220,  371
        243  ATTAC   146,  246
        267  BUFFE   154,  272
        141  CALLB   233
        233  CALLS    33,   47,   55,  233
        324  CHFIL   200,  327
        124  CLOC1   126
        127  CLOC4   120
        320  CLOSE   170,  172,  174,  323
        336  DELFL   202,  204,  341
        241  DELMF   144,  244
        415  DIAG0    44,  110,  233,  253
        421  DIAG1   234
        431  DIAG2   235
        100  IOER1    75,  112
        104  IOER2    76
         73  IOERR    56
        406  IOERT    77,  407,  415
       1042  LINE1    12,   15,   17,   21,   62,  102
       1056  LINE3    24,   66
        370  MOUNT   222,  373
        344  MOVFL   206,  347
         47  PERA1    35
         67  PERX1     4
         70  PERX2     5
         71  PERX4     6
         57  PRINT    46,  114,  117
        273  RDFIL   156,  160,  276
        354  SETFL   210,  357
        113  STAND    27
        400  TAPFL   232,  403
        311  TRFIL   166,  314
        372  UMOUN   224,  375
        363  UNLIN   214,  366
        240  UPDAT   150,  176,  243
        235  UPDMF   142,  240
        373  VERIF   226,  230,  376
        301  WRFIL   162,  164,  304
          1  WRFLX    61,   63,   65,  101
        437 DIAG00   236
        443 DIAG01   237,  270,  355
        447 DIAGA1   240
        453 DIAGA2   241,  243,  247,  260,  326,  337,  345,  353,  360,  363,  370,  372,  404
1                                                                                02/22/71 1901.0 PAGE 2     
                        POST PROCESSOR ASSEMBLY DATA  
                  
        457 DIAGA3   244,  246
        462 DIAGA4   245
        466 DIAGA5   242
        472 DIAGB1   250,  340,  346,  354
        476 DIAGB2   251
        502 DIAGB3   252
        505 DIAGB4   331,  342
        511 DIAGB5   254,  332,  343
        515 DIAGB6   255,  333
        521 DIAGB7   256
        527 DIAGB8   257
        535 DIAGB9   261,  330,  341,  347,  366
        540 DIAGC1   262,  357,  371
        543 DIAGC2   263,  405
        550 DIAGC3   264,  307,  335
        554 DIAGC4   265
        561 DIAGC5   267,  356,  365,  406
        565 DIAGC6   303
        571 DIAGC7   312,  322
        576 DIAGC8   313
        603 DIAGC9   271
        612 DIAGD1   272,  276,  304,  314,  323
        615 DIAGD2   273,  301,  310,  317,  324
        622 DIAGD3   274
        625 DIAGD4   277
        631 DIAGD5   305,  315
        635 DIAGD6   300,  306,  316
        642 DIAGD7   320
        645 DIAGD8   327
        653 DIAGD9   334
        663 DIAGE2   336,  362,  403
        671 DIAGE3   344,  351
        675 DIAGE4   350,  361
        701 DIAGE5   352
        711 DIAGE6   364
        717 DIAGE7   367
        722 DIAGF1   373
        731 DIAGF2   375
        736 DIAGF3   402
        741 DIAGF4   400
        747 DIAGF5   376
        753 DIAGF6   401
        761 DIAGF7   377
        766 DIAGF8   374
        775 DIAGI1   407
       1003 DIAGI2   410
       1011 DIAGI3   411
       1017 DIAGI4   412
       1026 DIAGI5   413
       1034 DIAGI6   414
          0 IODIAG     7
         37 NFOUND    54,  115
         72 NOCALL    32,  233
          7 NOIOER    76,  415
         62 PRINT1    37,   57
1                                                                                02/22/71 1901.0 PAGE 3     
                        POST PROCESSOR ASSEMBLY DATA  
                  
         63 PRINT2    60,  100,  103
         65 PRINT3      
          4 PRNTER     0
        236 PZE100   115,  116
        240 PZE999   115
        115 STAND1    30
                  
0 NO ERROR IN ABOVE ASSEMBLY. 




IOCONV   BCD 02/22/71 1902.7    1981         00000    
1             J. W. PODUSKA ... CONV - UTILITY CONVERSION ROUTINES.              02/22/71 1901.1 PAGE 1     
                  
                       00000         ENTRY   CTIME         CONVERT 60TH'S TO 'HHMM.M'.    
                       00016         ENTRY   TCTIME        CONVERT 60TH'S TO ' HH.HH'.    
                  
                       00026         ENTRY   DTBC          DECIMAL-TO-BINARY CONVERSION.  
                       00042         ENTRY   BTDC          BINARY-TO-DECIMAL CONVERSION.  
                       00053         ENTRY   OTBC          OCTAL-TO-BINARY CONVERSION.    
                       00061         ENTRY   BTOC          BINARY-TO-OCTAL CONVERSION.    
                  
                       00067         ENTRY   RPL           REPLACE LEADING A'S BY B'S     
                       00101         ENTRY   BZL           .. ZEROS BY BLANKS 
                       00105         ENTRY   NZL           .. ZEROS BY NULLS  
                       00111         ENTRY   NBL           .. BLANKS BY NULLS 
                       00115         ENTRY   ZBL           .. BLANKS BY ZEROS 
                  
                  
                                             CTIME - CONVERT 60TH'S TO HOURS, MINUTES, AND TENTHS.    
                  
      00000 -0754 00 0 00000  CTIME  ZAC                   CLEAR AC, ARG IN MQ, B35.
      00001  0225 34 0 00130         VDP     =216E4B42,,28  =10*60*60*60, GET TENS OF HOURS.    
      00002  0225 06 0 00132         VDP     =216E3B36,,6  =60*60*60, GET UNITS OF HOURS. 
      00003  0225 06 0 00136         VDP     =36E3B30,,6   =10*60*60, GET TENS OF MINUTES.
      00004  0225 06 0 00140         VDP     =36E2B24,,6   =60*60, GET UNITS OF MINUTES.  
      00005  0225 14 0 00144         VDP     =36E1B12,,12  =6*60, INSERT TENTHS.    
      00006 -0754 00 0 00000         ZAC                   CLEAR OUT REMAINING GARBAGE.   
      00007 -0763 00 0 00006         LGL     6             GET TENS OF HOURS, 
      00010 -0100 00 0 00012         TNZ     *+2           IF ZERO,     
      00011 -0500 00 0 00125         CAL     =H00000       REPLACE BY BLANK.  
      00012 -0765 00 0 00006         LGR     6             RESTORE TIME,
      00013 -0130 00 0 00000         XCL                   MOVE TO LAC, 
      00014 -0501 00 0 00126         ORA     =H0000.0      INSERT DECIMAL POINT,    
      00015  0020 00 4 00001         TRA     1,4           AND RETURN WITH 'HHMM.M'.
                  
                  
                                             TCTIME - CONVERT 60TH'S TO HOURS AND HUNDRETHS.    
                  
      00016 -0754 00 0 00000  TCTIME ZAC                   CLEAR AC, ARG IN MQ.     
      00017  0225 34 0 00130         VDP     =216E4B42,,28  =10*60*60*60, GET TENS OF HOURS.    
      00020  0225 06 0 00132         VDP     =216E3B36,,6  =60*60*60, GET UNITS OF HOURS. 
      00021  0225 14 0 00142         VDP     =216E2B24,,12 =6*60*60, GET TENTHS AND ROOM FOR POINT.   
      00022  0225 06 0 00143         VDP     =216E1B18,,6  =6*6*60, GET HUNDRETHS OF HOURS.     
      00023 -0130 00 0 00000         XCL                   MOVE TO LAC, 
      00024 -0501 00 0 00145         ORA     =H 00.00      INSERT BLANK AND PERIOD, 
      00025  0020 00 4 00001         TRA     1,4           AND RETURN WITH ' HH.HH'.
1             J. W. PODUSKA ... CONV - UTILITY CONVERSION ROUTINES.              02/22/71 1901.1 PAGE 2     
                  
                  
                                             DTBC - CONVERT 6 BCD DIGITS TO BINARY INTEGER.     
                  
      00026 -0754 00 0 00000  DTBC   ZAC                   CLEAR AC (ARG IN MQ),    
      00027  0774 00 7 00006         AXT     6,7           AND SET FOR 6 ITERATIONS.
      00030  0601 00 0 00041  DTBCLP STO     TNUM          SAVE PARTIAL CONVERSION. 
      00031 -0773 00 0 00002         RQL     2             N+D/16.
      00032 -0763 00 0 00001         LGL     1             2*N+D/8.     
      00033  0402 00 0 00041         SUB     TNUM          N+D/8. 
      00034 -0763 00 0 00002         LGL     2             4*N+D/2.     
      00035  0400 00 0 00041         ADD     TNUM          5*N+D. 
      00036 -0763 00 0 00001         LGL     1             10*N+D.
      00037  2 00001 7 00030         TIX     DTBCLP,7,1    LOOP 6 TIMES.
      00040  0020 00 4 00001         TRA     1,4           AND RETURN WITH RESULT IN AC.  
                  
      00041  0 00000 0 00000  TNUM   PZE                   TEMP USED BY DTBC. 
                  
                  
                                             BTDC - CONVERT BINARY INTEGER TO 6 BCD DIGITS.     
                  
      00042 -0754 00 0 00000  BTDC   ZAC                   CLEAR AC, ARG IN MQ.     
      00043  0225 36 0 00127         VDP     =1E5B40,,30   FORM HUNDRED THOUSANDS DIGIT.  
      00044  0225 06 0 00131         VDP     =1E4B34,,6    FORM TEN THOUSANDS DIGIT.
      00045  0225 06 0 00133         VDP     =1E3B28,,6    FORM THOUSANDS DIGIT.    
      00046  0225 06 0 00135         VDP     =1E2B22,,6    FORM HUNDREDS DIGIT.     
      00047  0225 06 0 00137         VDP     =1E1B16,,6    FORM TENS DIGIT.   
      00050  0225 06 0 00141         VDP     =1E0B10,,6    FORM UNITS DIGIT.  
      00051 -0130 00 0 00000         XCL                   MOVE RESULT TO AC, 
      00052  0020 00 4 00001         TRA     1,4           AND RETURN TO CALLER.    
                  
                  
                                             OTBC - CONVERT 6 OCTAL BCD DIGITS TO BINARY. 
                  
      00053 -0500 00 0 00134  OTBC   CAL     =1B16         GET BIT FOR SETTING OVERFLOW   
      00054  0140 00 0 00055         TOV     *+1           TURN OFF OVERFLOW  
      00055 -0773 00 0 00003         RQL     3             SKIP THREE BITS AND
      00056 -0763 00 0 00003         LGL     3             SHIFT IN THREE BITS.     
      00057 -0140 00 0 00055         TNO     *-2           CONTINUE UNTIL OVERFLOW SET.   
      00060  0020 00 4 00001         TRA     1,4           RETURN WITH ANSWER IN LAC.     
                  
                  
                                             BTOC - CONVERT BINARY TO OCTAL BCD.    
                  
      00061 -0500 00 0 00124  BTOC   CAL     =1B34         GET BIT FOR SETTING OVERFLOW.  
      00062  0140 00 0 00063         TOV     *+1           TURN OFF OVERFLOW  
      00063  0767 00 0 00003         ALS     3             PULL IN THREE ZERO BITS. 
      00064 -0763 00 0 00003         LGL     3             SHIFT IN THE DIGIT.
      00065 -0140 00 0 00063         TNO     *-2           CONTINUE UNTIL OVERFLOW SET.   
      00066  0020 00 4 00001         TRA     1,4           RETURN WITH ANSWER IN LAC.     
1             J. W. PODUSKA ... CONV - UTILITY CONVERSION ROUTINES.              02/22/71 1901.1 PAGE 3     
                  
                  
                                             RPL, ETC. - REPLACE LEADING A'S BY B'S 
                  
      00067  0322 60 7 00001  RPL    ERA*    1,7           MAKE ALL A'S 0     
      00070  0774 00 6 00044         AXT     36,6          6 CHARS
      00071 -0765 00 0 00006         LGR     6             ..     
      00072  0100 00 0 00074         TZE     *+2           ARE WE THERE YET   
      00073  2 00006 6 00071         TIX     *-2,6,6       NO, KEEP SHIFTING  
      00074 -0500 60 7 00002         CAL*    2,7           YES, GET B'S 
      00075  0322 60 7 00001         ERA*    1,7           SET UP FOR FINAL 'ERA'   
      00076 -0763 00 6 00052         LGL     42,6          BACK TO AC   
      00077  0322 60 7 00001         ERA*    1,7           CONVERT CHARS BACK 
      00100  0020 00 7 00003         TRA     3,7           RETURN 
                  
                  
      00101  0074 00 7 00067  BZL    TSX     RPL,7         CALL CONVERTER     
      00102  3 00000 0 00123         PAR     =0            .. TO MAKE 0'S     
      00103  3 00000 0 00121         PAR     BLANKS        .. BLANKS    
      00104  0020 00 4 00001         TRA     1,4           RETURN 
                  
                  
      00105  0074 00 7 00067  NZL    TSX     RPL,7         CALL CONVERTER     
      00106  3 00000 0 00123         PAR     =0            .. TO MAKE 0'S     
      00107  3 00000 0 00122         PAR     NULLS         .. NULLS     
      00110  0020 00 4 00001         TRA     1,4           RETURN 
                  
                  
      00111  0074 00 7 00067  NBL    TSX     RPL,7         CALL CONVERTER     
      00112  3 00000 0 00121         PAR     BLANKS        TO MAKE LEADING BLANKS   
      00113  3 00000 0 00122         PAR     NULLS         .. NULLS     
      00114  0020 00 4 00001         TRA     1,4           RETURN 
                  
                  
      00115  0074 00 7 00067  ZBL    TSX     RPL,7         CALL CONVERTER     
      00116  3 00000 0 00121         PAR     BLANKS        TO MAKE LEADING BLANKS   
      00117  3 00000 0 00123         PAR     =0            .. ZEROS     
      00120  0020 00 4 00001         TRA     1,4           RETURN 
                  
1             J. W. PODUSKA ... CONV - UTILITY CONVERSION ROUTINES.              02/22/71 1901.1 PAGE 4     
                           STORAGE AND CONSTANTS.                                   
                  
                  
      00121 -206060606060     BLANKS OCT     606060606060   
      00122 -175757575757     NULLS  OCT     575757575757   
                  
                                     END  
                  
        LITERALS  
      00123  000000000000     
      00124  000000000002     
      00125  000000000060     
      00126  000000003300     
      00127  000000006065     
      00130  000000040753     
      00131  000000047040     
      00132  000000322740     
      00133  000000372000     
      00134  000002000000     
      00135  000003100000     
      00136  000004312000     
      00137  000024000000     
      00140  000034100000     
      00141  000200000000     
      00142  000250600000     
      00143  002070000000     
      00144  026400000000     
      00145  600000330000     
1             J. W. PODUSKA ... CONV - UTILITY CONVERSION ROUTINES.              02/22/71 1901.1 PAGE 1     
                        POST PROCESSOR ASSEMBLY DATA  
                  
        146 IS THE FIRST LOCATION NOT USED BY THIS PROGRAM  
                  
0REFERENCES TO DEFINED SYMBOLS      
        101    BZL     0
        111    NBL     0
        105    NZL     0
         67    RPL     0,  101,  105,  111,  115
        115    ZBL     0
         42   BTDC     0
         61   BTOC     0
         26   DTBC     0
         53   OTBC     0
         41   TNUM    30,   33,   35
          0  CTIME     0
        122  NULLS   107,  113
        121 BLANKS   103,  112,  116
         30 DTBCLP    37
         16 TCTIME     0
                  
0 NO ERROR IN ABOVE ASSEMBLY. 
